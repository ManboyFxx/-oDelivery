import{r as o,u as N,j as s,H as Q,a as S}from"./app-BLG6vSpO.js";import{A as W}from"./AuthenticatedLayout-_-W_tvMt.js";import X from"./GeneralSettings-BSJl3WZz.js";import Y from"./BusinessHoursSettings-CYfGNsQM.js";import ee from"./DeliverySettings-ROcBvGue.js";import re from"./PaymentSettings-COIPO5wf.js";import se from"./NotificationSettings-CnVFJbE-.js";import ie from"./SystemSettings-3GPsEooz.js";import oe from"./PrinterSettings-D4nZaG1Q.js";import te from"./SecuritySettings-Ae0sYlPI.js";import{S as ne}from"./store-D_zvnUi3.js";import{C as le}from"./clock-DH0q0JvL.js";import{T as ae}from"./truck-B_v5h5Fi.js";import{C as me}from"./credit-card-OfxUwk6e.js";import{B as ue}from"./bell-CxB3EXMp.js";import{S as ce}from"./shield-giFHaXqv.js";import{P as de}from"./palette-CaXWJ9Zx.js";import{P as pe}from"./printer-DbCf-LHL.js";import{C as fe}from"./circle-check-big-MNEEabce.js";import{K as ve}from"./transition-Df7ye8q0.js";import"./monitor-C5hWLjWb.js";import"./shopping-bag-z5ROidvo.js";import"./package-CqCmdeyy.js";import"./image-KWNrZyF4.js";import"./layout-dashboard-KfjdxJ92.js";import"./users-BPCAdz8N.js";import"./trophy-DTJHVTBB.js";import"./ticket-DorZZIf7.js";import"./dollar-sign-CHYKbQwc.js";import"./key-C9dI228c.js";import"./shield-check-Dqcx_9vo.js";import"./log-out-CITQkdNI.js";import"./Modal-CMrQCqbp.js";import"./keyboard-DMFiL5yW.js";import"./use-sync-refs-CjQe9W8H.js";import"./portal-Iq-jbiAK.js";import"./with-selector-DZQRmFHR.js";import"./hidden-uvbEyP2X.js";import"./switch-C6KeJsa6.js";import"./use-resolve-button-type-C4atWnrG.js";import"./menu-ZAXWGEjZ.js";import"./chevron-down-CgdwajpH.js";import"./circle-play-rDgv6HPE.js";import"./menu--kxhKLgv.js";import"./search-Bz9EYflR.js";import"./sun-Df1y9NcN.js";import"./eye-DiFtBCh6.js";import"./arrow-left-CeGFymdu.js";import"./usePushNotifications-K1kzogeQ.js";import"./zap-D2KoBd1o.js";import"./star-DcMMFY-9.js";import"./chevron-right-BhDcgU1m.js";import"./lock-Ba-MeRW9.js";import"./MediaPickerModal--k_GhoJ0.js";import"./loader-circle-CiukgqRH.js";import"./check-Djx_Yxt_.js";import"./trash-2-OjMZ1shk.js";import"./upload-CVZeTKB6.js";import"./InputError-CbuHRzrj.js";import"./phone-yg80rSaC.js";import"./mail-DmM6aPyb.js";import"./map-pin-CgHmwdnp.js";import"./globe-BXix8Vs_.js";import"./instagram-CHJqu50O.js";import"./WeeklySchedule-DP8xWB_h.js";import"./SecondaryButton-D2cbrGPA.js";import"./circle-alert-mT9Ir3mC.js";import"./plus-CZ0FPPAV.js";import"./square-pen-Dfvi7n_c.js";import"./banknote-COP-dQuM.js";import"./qr-code-v44kbsXy.js";import"./volume-2-EvpKK2m7.js";import"./refresh-cw-DCvmcyu4.js";import"./PrimaryButton-CmR4XVEa.js";import"./copy-BJCSumpv.js";import"./smartphone-Da6v9QbE.js";function Jr({auth:j,settings:e,deliveryZones:a,motoboys:he,paymentMethods:V,flash:_e}){const[t,w]=o.useState("general"),[p,C]=o.useState(()=>e?.business_hours?typeof e.business_hours=="string"?JSON.parse(e.business_hours):e.business_hours:{monday:{is_open:!0,open_time:"18:00",close_time:"23:00"},tuesday:{is_open:!0,open_time:"18:00",close_time:"23:00"},wednesday:{is_open:!0,open_time:"18:00",close_time:"23:00"},thursday:{is_open:!0,open_time:"18:00",close_time:"23:00"},friday:{is_open:!0,open_time:"18:00",close_time:"23:59"},saturday:{is_open:!0,open_time:"18:00",close_time:"23:59"},sunday:{is_open:!0,open_time:"18:00",close_time:"23:00"}}),[f,E]=o.useState(()=>{const r={browser_notifications:!0,sound_enabled:!0,order_created:!0,order_status_updated:!0,stock_low_warning:!0};return e?.notification_settings?typeof e.notification_settings=="string"?{...r,...JSON.parse(e.notification_settings)}:{...r,...e.notification_settings}:r}),[P,O]=o.useState(a),[I,l]=o.useState(!1),[m,v]=o.useState(null),{data:i,setData:n,post:U,processing:h,errors:_,recentlySuccessful:b}=N({store_name:e?.store_name||"",phone:e?.phone||"",whatsapp:e?.whatsapp||"",email:e?.email||"",address:e?.address||"",description:e?.description||"",instagram:e?.instagram||"",facebook:e?.facebook||"",website:e?.website||"",logo_url:e?.logo_url||"",banner_url:e?.banner_url||"",logo_path:e?.logo_path||null,banner_path:e?.banner_path||null,remove_logo:!1,remove_banner:!1,business_hours:JSON.stringify(p),notification_settings:JSON.stringify(f),delivery_radius_km:e?.delivery_radius_km||5,fixed_delivery_fee:e?.fixed_delivery_fee||0,min_order_delivery:e?.min_order_delivery||0,free_delivery_min:e?.free_delivery_min||"",estimated_delivery_time:e?.estimated_delivery_time||40,default_motoboy_id:e?.default_motoboy_id||"",theme_color:e?.theme_color||"#ff3d03",printer_paper_width:e?.printer_paper_width||80,auto_print_on_confirm:e?.auto_print_on_confirm||!1,print_copies:e?.print_copies||1,enable_password_login:e?.enable_password_login??!0,enable_otp_verification:e?.enable_otp_verification??!1,enable_quick_login:e?.enable_quick_login??!0,enable_checkout_security:e?.enable_checkout_security??!0}),{data:k,setData:y,post:Z,put:T,delete:be,processing:B,errors:A,reset:u,clearErrors:x}=N({neighborhood:"",delivery_fee:"",estimated_time_min:"",is_active:!0}),[H,g]=o.useState(!1),[M,c]=o.useState(null),[J,d]=o.useState(null);o.useEffect(()=>{i.logo_url?c(i.logo_url):i.logo_path?c(`/uploads/${i.logo_path}`):c(null)},[i.logo_url,i.logo_path]),o.useEffect(()=>{i.banner_url?d(i.banner_url):i.banner_path?d(`/uploads/${i.banner_path}`):d(null)},[i.banner_url,i.banner_path]),o.useEffect(()=>{if(b){g(!0);const r=setTimeout(()=>g(!1),2e3);return()=>clearTimeout(r)}},[b]);const $=r=>{r.preventDefault(),U(route("settings.update"),{preserveScroll:!0})},q=()=>{v(null),u(),x(),l(!0)},z=r=>{v(r),y({neighborhood:r.neighborhood,delivery_fee:r.delivery_fee,estimated_time_min:r.estimated_time_min,is_active:!!r.is_active}),x(),l(!0)},F=()=>{m?T(route("delivery-zones.update",m.id),{onSuccess:()=>{l(!1),u()}}):Z(route("delivery-zones.store"),{onSuccess:()=>{l(!1),u()},onError:r=>{console.error("Zone submit errors:",r)}})},G=r=>{confirm("Tem certeza que deseja excluir esta zona de entrega?")&&S.delete(route("delivery-zones.destroy",r),{preserveScroll:!0})},K=r=>{S.put(route("delivery-zones.update",r.id),{...r,is_active:!r.is_active},{preserveScroll:!0})};o.useEffect(()=>{O(a)},[a]);const L=[{id:"general",label:"Geral",icon:ne},{id:"hours",label:"Horários",icon:le},{id:"delivery",label:"Delivery",icon:ae},{id:"payment",label:"Pagamento",icon:me},{id:"notifications",label:"Notificações",icon:ue},{id:"security",label:"Segurança",icon:ce},{id:"system",label:"Sistema",icon:de},{id:"printer",label:"Impressão",icon:pe}];return s.jsxDEV(W,{user:j.user,header:s.jsxDEV("div",{className:"flex items-center justify-between",children:[s.jsxDEV("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Configurações"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:271,columnNumber:21},this),s.jsxDEV(ve,{show:H,enter:"transition ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsxDEV("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 px-4 py-2 rounded-lg",children:[s.jsxDEV(fe,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:284,columnNumber:29},this),s.jsxDEV("span",{className:"font-medium",children:"Configurações salvas!"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:285,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:283,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:274,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:270,columnNumber:17},this),children:[s.jsxDEV(Q,{title:"Configurações"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:291,columnNumber:13},this),s.jsxDEV("div",{className:"py-12",children:s.jsxDEV("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:s.jsxDEV("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsxDEV("div",{className:"w-full lg:w-64 flex-shrink-0",children:s.jsxDEV("nav",{className:"flex lg:flex-col gap-2 overflow-x-auto lg:overflow-visible pb-4 lg:pb-0 bg-white dark:bg-premium-card p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5",children:L.map(r=>{const R=r.icon,D=t===r.id;return s.jsxDEV("button",{onClick:()=>w(r.id),className:`
                                                flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 whitespace-nowrap
                                                ${D?"bg-[#ff3d03] text-white shadow-lg shadow-[#ff3d03]/30 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5 font-medium"}
                                            `,children:[s.jsxDEV(R,{className:`h-5 w-5 ${D?"text-white":"text-gray-400"}`},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:314,columnNumber:45},this),r.label]},r.id,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:303,columnNumber:41},this)})},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:298,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:297,columnNumber:25},this),s.jsxDEV("div",{className:"flex-1 min-w-0",children:s.jsxDEV("form",{onSubmit:$,encType:"multipart/form-data",children:[t==="general"&&s.jsxDEV(X,{data:i,setData:n,errors:_,logoPreview:M,bannerPreview:J},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:326,columnNumber:37},this),t==="hours"&&s.jsxDEV(Y,{businessHours:p,setBusinessHours:C,setData:n},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:337,columnNumber:37},this),t==="delivery"&&s.jsxDEV(ee,{data:i,setData:n,errors:_,deliveryZones:P,zoneData:k,setZoneData:y,zoneProcessing:B,zoneErrors:A,submitZone:F,handleDeleteZone:G,toggleZoneActive:K,openCreateZoneModal:q,openEditZoneModal:z,showZoneModal:I,setShowZoneModal:l,editingZone:m},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:345,columnNumber:37},this),t==="payment"&&s.jsxDEV(re,{paymentMethods:V},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:366,columnNumber:37},this),t==="notifications"&&s.jsxDEV(se,{notificationSettings:f,setNotificationSettings:E,setData:n},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:372,columnNumber:37},this),t==="security"&&s.jsxDEV(te,{data:i,setData:n},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:380,columnNumber:37},this),t==="system"&&s.jsxDEV(ie,{data:i,setData:n},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:387,columnNumber:37},this),t==="printer"&&s.jsxDEV(oe,{data:i,setData:n},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:394,columnNumber:37},this),t!=="payment"&&s.jsxDEV("div",{className:"mt-8 flex justify-end",children:s.jsxDEV("button",{type:"submit",disabled:h,className:"px-8 py-3 bg-[#ff3d03] text-white rounded-xl font-bold shadow-lg shadow-[#ff3d03]/20 hover:bg-[#e63700] transition-all disabled:opacity-50",children:h?"Salvando...":"Salvar Alterações"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:403,columnNumber:41},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:402,columnNumber:37},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:324,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:323,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:295,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:294,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:293,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Index.tsx",lineNumber:267,columnNumber:9},this)}export{Jr as default};
