import{u as j,j as e,H as f,L as c}from"./app-BdORke9e.js";import{A as v,U as _}from"./AuthenticatedLayout-CTrokMK9.js";import{P as y}from"./PrimaryButton-4oCrw539.js";import{T as o}from"./TextInput-DlNoCsqf.js";import{I as i}from"./InputLabel-DKincI9_.js";import{I as d}from"./InputError--k0WKMvq.js";import{A as N}from"./arrow-left-COa3xEmo.js";import{S as m}from"./shield-cISwToFX.js";import{S as k}from"./save-adhlsBzE.js";import{K as w}from"./transition-q_lP3uwy.js";import"./shopping-bag-Bkq9HZGo.js";import"./package-BqNDvWtV.js";import"./menu-B4KCf0Yu.js";import"./use-resolve-button-type-QCoL9pdX.js";import"./keyboard-BwAVKa8y.js";import"./use-sync-refs-DARQMqKe.js";import"./portal-C1qL--0H.js";import"./with-selector-ExNsPTrk.js";import"./credit-card-D29PRqwD.js";import"./trophy-BVLuvj5r.js";import"./chart-column-SKm66eGG.js";import"./ticket-CxV0NpQc.js";import"./store-DXXheLUg.js";import"./shield-check-C74ZI_UA.js";import"./log-out-D5bYoo4C.js";import"./Modal-BRZfGGEO.js";import"./hidden-BNzSnsRH.js";import"./truck-DBSpJHbd.js";import"./switch-CS5Qda18.js";import"./chevron-down-BYu3fBBM.js";import"./clock-Bea4bg8j.js";import"./search-2QIM9VoB.js";import"./bell-73jcub98.js";import"./sparkles-DKy4QTPq.js";import"./arrow-right-6ss0Mvmt.js";function de({tenant:t,plans:x,currentLimits:n}){const u=t.plan==="custom"||!x.find(s=>s.plan===t.plan),{data:a,setData:r,put:p,processing:g,errors:l,recentlySuccessful:C}=j({name:t.name,slug:t.slug,is_active:t.is_active,plan:t.plan,is_custom:u,max_products:n.max_products?.toString()??"",max_users:n.max_users?.toString()??"",max_orders_per_month:n.max_orders_per_month?.toString()??"",max_motoboys:n.max_motoboys?.toString()??"",subscription_status:t.subscription_status??"active",subscription_ends_at:t.subscription_ends_at?t.subscription_ends_at.split("T")[0]:"",trial_ends_at:t.trial_ends_at?t.trial_ends_at.split("T")[0]:""}),h=s=>{s.preventDefault(),p(route("admin.tenants.update",t.id))};return e.jsxs(v,{children:[e.jsx(f,{title:`Editar ${t.name}`}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{href:route("admin.tenants.index"),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 transition-colors",children:e.jsx(N,{className:"w-5 h-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white",children:"Editar Loja"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Gerenciamento avançado e planos"})]})]}),e.jsxs("form",{onSubmit:h,className:"bg-white dark:bg-[#1a1b1e] rounded-[32px] p-8 border border-gray-100 dark:border-white/5 shadow-sm space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(m,{className:"w-5 h-5 text-gray-400"}),"Informações Básicas"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",value:"Nome da Loja"}),e.jsx(o,{id:"name",className:"mt-1 block w-full",value:a.name,onChange:s=>r("name",s.target.value),required:!0}),e.jsx(d,{className:"mt-2",message:l.name})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"slug",value:"Slug (URL)"}),e.jsx(o,{id:"slug",className:"mt-1 block w-full bg-gray-50 dark:bg-white/5 text-gray-500",value:a.slug,onChange:s=>r("slug",s.target.value),required:!0}),e.jsx(d,{className:"mt-2",message:l.slug})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:a.is_active,onChange:s=>r("is_active",s.target.checked),className:"rounded border-gray-300 text-[#ff3d03] shadow-sm focus:ring-[#ff3d03]"}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Loja Ativa (Acesso permitido)"})]})]}),e.jsx("hr",{className:"border-gray-100 dark:border-white/5"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Plano e Limites"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_custom",checked:a.is_custom,onChange:s=>r("is_custom",s.target.checked),className:"rounded border-gray-300 text-[#ff3d03] shadow-sm focus:ring-[#ff3d03]"}),e.jsx("label",{htmlFor:"is_custom",className:"text-sm font-bold text-[#ff3d03]",children:"Habilitar Limites Personalizados"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"plan",value:"Plano Base"}),e.jsxs("select",{id:"plan",value:a.plan,onChange:s=>r("plan",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#ff3d03] focus:ring-[#ff3d03] dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300",children:[e.jsx("option",{value:"free",children:"Gratuito"}),e.jsx("option",{value:"starter",children:"Starter"}),e.jsx("option",{value:"basic",children:"Basic"}),e.jsx("option",{value:"pro",children:"Pro"}),e.jsx("option",{value:"custom",children:"Custom (Totalmente Manual)"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Selecione o plano base para definir os recursos padrão."}),e.jsx(d,{className:"mt-2",message:l.plan})]}),e.jsx(w,{show:a.is_custom,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-2",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-2",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-orange-50 dark:bg-[#ff3d03]/5 p-6 rounded-2xl border border-orange-100 dark:border-[#ff3d03]/10 mt-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("h4",{className:"font-bold text-[#ff3d03] text-sm uppercase tracking-wide mb-2",children:"Overrides Manuais"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-4",children:"Deixe em branco para usar o ilimitado ou o padrão do plano."})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"max_products",value:"Max Produtos"}),e.jsx(o,{id:"max_products",type:"number",className:"mt-1 block w-full",placeholder:"Ex: 5000",value:a.max_products,onChange:s=>r("max_products",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"max_orders_per_month",value:"Max Pedidos/Mês"}),e.jsx(o,{id:"max_orders_per_month",type:"number",className:"mt-1 block w-full",placeholder:"Ex: 1000",value:a.max_orders_per_month,onChange:s=>r("max_orders_per_month",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"max_users",value:"Max Usuários"}),e.jsx(o,{id:"max_users",type:"number",className:"mt-1 block w-full",placeholder:"Ex: 10",value:a.max_users,onChange:s=>r("max_users",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"max_motoboys",value:"Max Motoboys"}),e.jsx(o,{id:"max_motoboys",type:"number",className:"mt-1 block w-full",placeholder:"Ex: 5",value:a.max_motoboys,onChange:s=>r("max_motoboys",s.target.value)})]})]})})]}),e.jsx("hr",{className:"border-gray-100 dark:border-white/5"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(m,{className:"w-5 h-5 text-gray-400"}),"Assinatura e Prazos"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subscription_status",value:"Status da Assinatura"}),e.jsxs("select",{id:"subscription_status",value:a.subscription_status,onChange:s=>r("subscription_status",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#ff3d03] focus:ring-[#ff3d03] dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300",children:[e.jsx("option",{value:"active",children:"Ativa"}),e.jsx("option",{value:"inactive",children:"Inativa"}),e.jsx("option",{value:"past_due",children:"Vencida (Past Due)"}),e.jsx("option",{value:"canceled",children:"Cancelada"}),e.jsx("option",{value:"trialing",children:"Em Teste (Trial)"})]}),e.jsx(d,{className:"mt-2",message:l.subscription_status})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subscription_ends_at",value:"Expira em"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{id:"subscription_ends_at",type:"date",className:"mt-1 block w-full",value:a.subscription_ends_at,onChange:s=>r("subscription_ends_at",s.target.value)}),e.jsx("button",{type:"button",onClick:()=>{const s=a.subscription_ends_at?new Date(a.subscription_ends_at):new Date;s.setDate(s.getDate()+30),r("subscription_ends_at",s.toISOString().split("T")[0])},className:"mt-1 px-3 py-2 bg-gray-100 dark:bg-white/5 rounded-lg text-xs font-bold hover:bg-gray-200 dark:hover:bg-white/10",title:"Adicionar 30 dias",children:"+30d"})]}),e.jsx(d,{className:"mt-2",message:l.subscription_ends_at})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"trial_ends_at",value:"Fim do Teste (Trial)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{id:"trial_ends_at",type:"date",className:"mt-1 block w-full",value:a.trial_ends_at,onChange:s=>r("trial_ends_at",s.target.value)}),e.jsx("button",{type:"button",onClick:()=>{const s=new Date;s.setDate(s.getDate()+7),r(b=>({...b,trial_ends_at:s.toISOString().split("T")[0],subscription_status:"trialing"}))},className:"mt-1 px-3 py-2 bg-blue-50 text-blue-600 dark:bg-blue-500/10 dark:text-blue-400 rounded-lg text-xs font-bold hover:bg-blue-100 dark:hover:bg-blue-500/20",title:"Reiniciar Trial (7 dias)",children:"Reiniciar"}),e.jsx("button",{type:"button",onClick:()=>{const s=a.trial_ends_at?new Date(a.trial_ends_at):new Date;s.setDate(s.getDate()+7),r("trial_ends_at",s.toISOString().split("T")[0])},className:"mt-1 px-3 py-2 bg-gray-100 dark:bg-white/5 rounded-lg text-xs font-bold hover:bg-gray-200 dark:hover:bg-white/10",title:"Estender +7 dias",children:"+7d"})]}),e.jsx(d,{className:"mt-2",message:l.trial_ends_at})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(_,{className:"w-5 h-5 text-gray-400"}),"Gestão de Administradores"]})}),e.jsx("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-4 border border-gray-100 dark:border-white/5",children:t.users&&t.users.length>0?e.jsx("div",{className:"space-y-3",children:t.users.map(s=>e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-[#1a1b1e] p-3 rounded-xl border border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-50 dark:bg-orange-500/10 flex items-center justify-center font-bold text-[#ff3d03]",children:s.name.substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900 dark:text-white text-sm",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.email})]}),e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${s.role==="admin"?"bg-purple-50 text-purple-600":"bg-gray-100 text-gray-600"}`,children:s.role})]}),e.jsx("button",{type:"button",onClick:()=>{window.location.href=route("admin.users.index",{search:s.email})},className:"px-3 py-1.5 bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 rounded-lg text-xs font-bold hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Gerenciar"})]},s.id))}):e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Nenhum usuário encontrado para esta loja."})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-gray-100 dark:border-white/5",children:[e.jsx(c,{href:route("admin.tenants.index"),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 transition-colors",children:"Cancelar"}),e.jsxs(y,{disabled:g,className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Salvar Alterações"]})]})]})]})]})}export{de as default};
