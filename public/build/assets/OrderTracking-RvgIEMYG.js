import{r as t,j as e,X as b,H as p,e as m,d as y}from"./app-cmDn-ScS.js";import{C as u}from"./clock-DZoNQGyV.js";function w({orderId:l,slug:d}){const[i,h]=t.useState(null),[j,f]=t.useState(!0),[n,c]=t.useState(""),x=async()=>{try{const s=await y.get(`/api/orders/${l}/track`);h(s.data),c("")}catch(s){c(s.response?.data?.message||"Erro ao carregar pedido")}finally{f(!1)}};if(t.useEffect(()=>{x();const s=setInterval(x,3e4);return()=>clearInterval(s)},[l]),j)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#ff3d03] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando pedido..."})]})});if(n||!i)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full text-center shadow-lg",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(b,{className:"h-8 w-8 text-red-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Pedido não encontrado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:n}),e.jsx("a",{href:`/${d}`,className:"inline-block px-6 py-3 bg-[#ff3d03] text-white rounded-xl font-bold hover:bg-[#e63700] transition-colors",children:"Voltar ao Menu"})]})});const{order:a,timeline:g,estimated_time:o}=i;return e.jsxs(e.Fragment,{children:[e.jsx(p,{title:`Pedido #${a.order_number}`}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-black text-gray-900",children:["Pedido #",a.order_number]}),e.jsx("p",{className:"text-sm text-gray-500",children:a.created_at})]}),o>0&&e.jsx("div",{className:"bg-[#ff3d03] text-white px-4 py-2 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs opacity-90",children:"Tempo estimado"}),e.jsxs("p",{className:"text-lg font-black",children:[o," min"]})]})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200"}),e.jsx("div",{className:"space-y-4",children:g.map((s,r)=>e.jsxs("div",{className:"relative flex items-start gap-4",children:[e.jsx("div",{className:m("relative z-10 w-12 h-12 rounded-full flex items-center justify-center text-xl transition-all",s.completed?"bg-green-500 text-white shadow-lg shadow-green-500/30":"bg-gray-200 text-gray-400"),children:s.completed?"✓":s.icon}),e.jsxs("div",{className:"flex-1 pt-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:m("font-bold",s.completed?"text-gray-900":"text-gray-400"),children:s.label}),s.timestamp&&e.jsx("span",{className:"text-sm text-gray-500",children:s.timestamp})]}),s.current&&e.jsx("p",{className:"text-sm text-[#ff3d03] font-medium mt-1",children:"Em andamento..."})]})]},r))})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Detalhes do Pedido"}),e.jsx("div",{className:"space-y-3 mb-6",children:a.items.map((s,r)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-0",children:[e.jsx("div",{children:e.jsxs("p",{className:"font-medium text-gray-900",children:[s.quantity,"x ",s.name]})}),e.jsxs("p",{className:"font-bold text-gray-900",children:["R$ ",s.price.toFixed(2).replace(".",",")]})]},r))}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"font-medium",children:["R$ ",(a.total-a.delivery_fee).toFixed(2).replace(".",",")]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Taxa de Entrega"}),e.jsxs("span",{className:"font-medium",children:["R$ ",a.delivery_fee.toFixed(2).replace(".",",")]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-gray-200",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-[#ff3d03]",children:["R$ ",a.total.toFixed(2).replace(".",",")]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:"Endereço de Entrega"}),e.jsx("p",{className:"text-gray-600",children:a.delivery_address})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("a",{href:`/${d}`,className:"inline-block px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-bold hover:bg-gray-300 transition-colors",children:"Voltar ao Menu"})})]})})]})}export{w as default};
