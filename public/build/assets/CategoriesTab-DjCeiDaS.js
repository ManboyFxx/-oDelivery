import{r as i,u as S,j as e,X as E,a as m}from"./app-DwErbC-G.js";import{M as P}from"./Modal-DQ0Epy3j.js";import{I as x}from"./InputLabel-DvNe82DZ.js";import{T as h}from"./TextInput-CCwg8HwO.js";import{P as I}from"./PrimaryButton-tfxQSrht.js";import{S as M}from"./SecondaryButton-DD21ZBgn.js";import{I as u}from"./InputError-DXC2gk0F.js";import{S as g}from"./search-BJW68Hou.js";import{P as T}from"./plus-BZiP3g_I.js";import{P as B}from"./pencil-ZhQJqV-W.js";import{T as D}from"./trash-2-Bzdsdaoj.js";import"./portal-V1Z2qU1y.js";import"./transition-DyVhLiFv.js";function U({categories:f}){const[l,p]=i.useState(""),[b,t]=i.useState(!1),[s,d]=i.useState(null),{data:r,setData:o,post:j,put:L,processing:v,reset:w,errors:n,delete:_}=S({name:"",description:"",image_url:""}),c=f.filter(a=>a.name.toLowerCase().includes(l.toLowerCase())),N=()=>{d(null),w(),t(!0)},y=a=>{d(a),o({name:a.name,description:a.description||"",image_url:a.image_url||""}),t(!0)},k=a=>{a.preventDefault(),s?m.put(route("categories.update",s.id),r,{onSuccess:()=>t(!1)}):j(route("categories.store"),{onSuccess:()=>t(!1)})},C=a=>{confirm("Tem certeza que deseja excluir esta categoria? Produtos vinculados podem ficar sem categoria.")&&m.delete(route("categories.destroy",a),{preserveScroll:!0})};return e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white hidden md:block",children:"Gerenciar Categorias"}),e.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[e.jsxs("div",{className:"relative flex-1 md:w-72",children:[e.jsx(g,{className:"absolute left-4 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:l,onChange:a=>p(a.target.value),placeholder:"Buscar categorias...",className:"w-full h-11 rounded-2xl border border-gray-200 bg-white pl-11 shadow-sm focus:border-[#ff3d03] focus:ring-[#ff3d03]/20 dark:border-white/5 dark:bg-[#0f1012] transition-all"})]}),e.jsxs("button",{onClick:N,className:"flex items-center gap-2 rounded-2xl bg-[#ff3d03] px-6 py-3 text-sm font-bold text-white shadow-lg shadow-[#ff3d03]/20 hover:bg-[#e63700] hover:scale-105 active:scale-95 transition-all whitespace-nowrap",children:[e.jsx(T,{className:"h-5 w-5"}),"Nova Categoria"]})]})]}),e.jsx("div",{className:"bg-white dark:bg-[#1a1b1e] rounded-[24px] shadow-sm border border-gray-100 dark:border-white/5 overflow-hidden",children:e.jsxs("ul",{className:"divide-y divide-gray-100 dark:divide-white/5",children:[c.map(a=>e.jsxs("li",{className:"p-4 group hover:bg-orange-50/50 dark:hover:bg-white/5 transition-colors flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-orange-100 dark:bg-white/10 flex items-center justify-center text-[#ff3d03] font-bold text-lg group-hover:scale-110 transition-transform",children:a.name.substring(0,1)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-lg",children:a.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.description||"Sem descrição"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>y(a),className:"p-2 text-gray-400 hover:text-[#ff3d03] hover:bg-orange-50 dark:hover:bg-white/10 rounded-lg transition-colors",title:"Editar",children:e.jsx(B,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>C(a.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-white/10 rounded-lg transition-colors",title:"Excluir",children:e.jsx(D,{className:"h-5 w-5"})})]})]},a.id)),c.length===0&&e.jsxs("li",{className:"p-12 text-center flex flex-col items-center justify-center text-gray-500",children:[e.jsx("div",{className:"h-16 w-16 bg-gray-50 dark:bg-white/5 rounded-full flex items-center justify-center mb-4",children:e.jsx(g,{className:"h-8 w-8 text-gray-300"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Nenhuma categoria encontrada"})]})]})}),e.jsx(P,{show:b,onClose:()=>t(!1),maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:s?"Editar Categoria":"Nova Categoria"}),e.jsx("button",{type:"button",onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx(E,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(x,{value:"Nome *"}),e.jsx(h,{className:"w-full mt-1",value:r.name,onChange:a=>o("name",a.target.value),required:!0,placeholder:"Ex: Bebidas"}),e.jsx(u,{message:n.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(x,{value:"Descrição"}),e.jsx(h,{className:"w-full mt-1",value:r.description,onChange:a=>o("description",a.target.value),placeholder:"Breve descrição da categoria"}),e.jsx(u,{message:n.description,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 mt-6 border-t border-gray-100 dark:border-white/5",children:[e.jsx(M,{onClick:()=>t(!1),className:"py-3 rounded-xl",children:"Cancelar"}),e.jsx(I,{disabled:v,className:"bg-[#ff3d03] hover:bg-[#e63700] py-3 rounded-xl shadow-lg shadow-[#ff3d03]/20 border-transparent",children:s?"Salvar Alterações":"Criar Categoria"})]})]})]})})]})}export{U as default};
