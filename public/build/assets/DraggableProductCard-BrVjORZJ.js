import{r as l,j as e,X as x,a as y}from"./app-CxA3AdnX.js";import{u as P}from"./sortable.esm-C8hL58Xt.js";import{C}from"./core.esm-BUVzpTRA.js";import{P as N}from"./pencil-H3aH3Mqb.js";import{C as p}from"./check-CnxNx1dC.js";import{C as j}from"./Checkbox-BCxsCEzY.js";import{G as V}from"./grip-vertical-D4zCMGEK.js";import{I as k}from"./image-DRV2d_H9.js";import{T as E}from"./trash-2-Bzm0oPlM.js";import{t as S}from"./switch-C1yL6Sht.js";import"./use-resolve-button-type-CpEojdFH.js";import"./keyboard-3ChEhPyO.js";import"./use-sync-refs-CLqefkLE.js";import"./hidden-BYzQFWMe.js";function w({value:r,productId:s,field:t,onSuccess:h,className:f="",formatValue:b}){const[n,a]=l.useState(!1),[D,u]=l.useState(r.toString()),[c,m]=l.useState(!1),o=l.useRef(null);l.useEffect(()=>{n&&o.current&&(o.current.focus(),o.current.select())},[n]);const d=()=>{if(D===r.toString()){a(!1);return}m(!0),y.patch(route("products.quick-update",s),{[t]:D},{preserveScroll:!0,onSuccess:()=>{a(!1),m(!1),h?.()},onError:()=>{u(r.toString()),a(!1),m(!1)}})},g=()=>{u(r.toString()),a(!1)},v=i=>{i.key==="Enter"?d():i.key==="Escape"&&g()};return n?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{ref:o,type:t==="price"?"number":"text",step:t==="price"?"0.01":void 0,value:D,onChange:i=>u(i.target.value),onKeyDown:v,onBlur:d,disabled:c,className:"w-24 px-2 py-1 text-sm border border-[#ff3d03] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff3d03]/20 bg-white dark:bg-gray-800"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Components/QuickEditField.tsx",lineNumber:88,columnNumber:13},this),e.jsxDEV("button",{onClick:d,disabled:c,className:"p-1 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded transition-colors",children:e.jsxDEV(p,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Components/QuickEditField.tsx",lineNumber:104,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Components/QuickEditField.tsx",lineNumber:99,columnNumber:13},this),e.jsxDEV("button",{onClick:g,disabled:c,className:"p-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:e.jsxDEV(x,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Components/QuickEditField.tsx",lineNumber:111,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Components/QuickEditField.tsx",lineNumber:106,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Components/QuickEditField.tsx",lineNumber:87,columnNumber:9},this):e.jsxDEV("button",{onClick:()=>a(!0),className:`group relative inline-flex items-center gap-2 hover:text-[#ff3d03] transition-colors ${f}`,children:[e.jsxDEV("span",{children:b?b(r):r},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Components/QuickEditField.tsx",lineNumber:80,columnNumber:17},this),e.jsxDEV(N,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Components/QuickEditField.tsx",lineNumber:81,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Components/QuickEditField.tsx",lineNumber:76,columnNumber:13},this)}const B=l.memo(function({product:s,selected:t,onSelect:h,onEdit:f,onDelete:b,onToggleAvailability:n,onPriceUpdate:a,isDragging:D}){const{attributes:u,listeners:c,setNodeRef:m,transform:o,transition:d,isDragging:g}=P({id:s.id}),v={transform:C.Transform.toString(o),transition:d,opacity:g?.3:1,zIndex:g?50:"auto"};return e.jsxDEV("div",{ref:m,style:v,className:`group relative bg-white dark:bg-[#0f1012] rounded-[24px] shadow-lg shadow-gray-200/50 dark:shadow-none transition-all duration-300 border border-gray-100 dark:border-white/5 overflow-hidden flex flex-col ${t?"ring-2 ring-[#ff3d03]":"hover:shadow-xl hover:-translate-y-1"}`,children:[e.jsxDEV("div",{className:"absolute top-3 left-3 z-30 opacity-0 group-hover:opacity-100 transition-opacity duration-200",style:{opacity:t?1:void 0},children:e.jsxDEV(j,{checked:t,onChange:i=>h(s.id,i.target.checked),className:"h-5 w-5 bg-white border-gray-300"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:66,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:65,columnNumber:13},this),e.jsxDEV("div",{...u,...c,className:"absolute top-3 right-1/2 translate-x-1/2 z-20 p-1.5 bg-black/20 dark:bg-white/10 backdrop-blur-md rounded-lg opacity-0 group-hover:opacity-100 cursor-grab active:cursor-grabbing text-white transition-opacity duration-200",children:e.jsxDEV(V,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:79,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:74,columnNumber:13},this),e.jsxDEV("div",{className:"relative aspect-[4/3] bg-gray-100 dark:bg-white/5 overflow-hidden",children:[s.image_url?e.jsxDEV("img",{className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",src:s.image_url,alt:s.name,loading:"lazy"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:85,columnNumber:21},this):e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV(k,{className:"h-10 w-10 text-gray-300 dark:text-gray-600"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:93,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:92,columnNumber:21},this),e.jsxDEV("div",{className:"absolute top-3 right-3 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 translate-y-2 group-hover:translate-y-0 z-20",children:[e.jsxDEV("button",{onClick:()=>f(s),className:"bg-white/90 dark:bg-black/80 text-gray-700 dark:text-gray-200 p-2 rounded-xl hover:text-[#ff3d03] shadow-lg backdrop-blur-sm transition-colors",title:"Editar",children:e.jsxDEV(N,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:104,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:99,columnNumber:21},this),e.jsxDEV("button",{onClick:()=>b(s.id),className:"bg-white/90 dark:bg-black/80 text-gray-700 dark:text-gray-200 p-2 rounded-xl hover:text-red-500 shadow-lg backdrop-blur-sm transition-colors",title:"Excluir",children:e.jsxDEV(E,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:111,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:106,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:98,columnNumber:17},this),e.jsxDEV("div",{className:"absolute bottom-3 left-3 z-10",onClick:i=>i.stopPropagation(),children:e.jsxDEV(S,{checked:s.is_available,onChange:()=>n(s),className:`${s.is_available?"bg-green-500":"bg-gray-300 dark:bg-gray-600"} relative inline-flex h-6 w-10 items-center rounded-full transition-colors focus:outline-none shadow-lg`,children:e.jsxDEV("span",{className:`${s.is_available?"translate-x-5":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:123,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:117,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:116,columnNumber:17},this),!s.is_available&&e.jsxDEV("div",{className:"absolute inset-0 bg-white/60 dark:bg-black/60 backdrop-blur-[1px] flex items-center justify-center pointer-events-none z-0",children:e.jsxDEV("span",{className:"bg-black/70 text-white text-xs font-bold px-3 py-1 rounded-full backdrop-blur-md",children:"Indisponível"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:132,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:131,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:83,columnNumber:13},this),e.jsxDEV("div",{className:"p-5 flex flex-col flex-1",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-[10px] font-bold uppercase tracking-wider text-[#ff3d03] mb-1",children:s.category?.name||"Sem Categoria"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:141,columnNumber:25},this),e.jsxDEV("h3",{className:"text-lg font-black text-gray-900 dark:text-white line-clamp-1 leading-tight",title:s.name,children:s.name},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:144,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:140,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:139,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2 min-h-[2.5rem] leading-relaxed mb-4",children:s.description||"Sem descrição"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:150,columnNumber:17},this),e.jsxDEV("div",{className:"mt-auto pt-4 border-t border-gray-100 dark:border-white/5 flex items-center justify-between",children:[e.jsxDEV(w,{value:s.price,productId:s.id,field:"price",onSuccess:()=>a(s.id,s.price),className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",formatValue:i=>`R$ ${Number(i).toFixed(2).replace(".",",")}`},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:155,columnNumber:21},this),e.jsxDEV("div",{className:"flex gap-1.5",children:s.complementGroups&&s.complementGroups.length>0&&e.jsxDEV("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-white/10 text-xs font-bold text-gray-600 dark:text-gray-300",title:"Possui complementos",children:"+Opções"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:164,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:163,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:154,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:138,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Partials/DraggableProductCard.tsx",lineNumber:59,columnNumber:9},this)},(r,s)=>r.product.id===s.product.id&&r.product.name===s.product.name&&r.product.price===s.product.price&&r.product.is_available===s.product.is_available&&r.selected===s.selected&&r.isDragging===s.isDragging);export{B as default};
