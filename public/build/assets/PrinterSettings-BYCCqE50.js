import{i,r as l,k as d,j as e,T as c,a as m}from"./app-BVIcRivC.js";import{P as p}from"./PrimaryButton-Dq0t_0v_.js";import{S as x}from"./SecondaryButton-DoAfaS6b.js";import{T as u}from"./TextInput-Bd-_NV9x.js";import{I as f}from"./InputLabel-CUT6aDF3.js";import{t as a}from"./index-DXUPuAY8.js";import{P as g}from"./printer-BUuOUQpf.js";import{C as h}from"./copy-D2stt0ni.js";import{R as k}from"./refresh-cw-DG5F9F23.js";function I(){const{auth:o,flash:s}=i().props;o.user;const[r,t]=l.useState(null);d.useEffect(()=>{s?.flash_token&&t(s.flash_token)},[s]);const n=()=>{r&&!confirm("Gerar um novo token irá invalidar qualquer token anterior usado na impressora. Continuar?")||m.post(route("api.tokens.create"),{name:"Printer Token"},{preserveScroll:!0,onSuccess:()=>{a.success("Token gerado com sucesso!")}})};return e.jsxs("div",{className:"bg-white dark:bg-premium-card rounded-[32px] border border-gray-100 dark:border-white/5 p-8 shadow-sm",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-gray-900 dark:text-gray-200 flex items-center gap-2 font-bold text-lg",children:[e.jsx(g,{className:"h-5 w-5 text-[#ff3d03]"}),"Integração de Impressora"]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Gerencie o código de acesso para o software de impressão automática."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200 dark:border-yellow-800/30 rounded-2xl p-4 flex items-start gap-3",children:[e.jsx(c,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-500 shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[e.jsx("p",{className:"font-medium",children:"Importante"}),e.jsx("p",{className:"mt-1",children:"Este token concede acesso apenas para leitura de pedidos para impressão. Mantenha-o seguro. Cole-o no aplicativo de impressão do computador."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{value:"Token de Acesso"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{value:r||"********************************",readOnly:!0,className:`flex-1 font-mono ${r?"bg-green-50 border-green-200 text-green-700":""}`,type:r?"text":"password"}),e.jsx(x,{onClick:()=>{r?(navigator.clipboard.writeText(r),a.success("Token copiado!")):a.error("Gere um novo token para visualizar.")},title:"Copiar Token",children:e.jsx(h,{className:"w-4 h-4"})})]}),r&&e.jsx("p",{className:"text-xs text-green-600 font-medium",children:"⚠ Copie este token agora. Ele não será exibido novamente."})]}),e.jsx("div",{className:"flex gap-2 justify-end pt-4 border-t border-gray-100 dark:border-white/5",children:e.jsxs(p,{onClick:n,className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Gerar Novo Token"]})})]})]})}export{I as default};
