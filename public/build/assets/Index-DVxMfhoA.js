import{r as o,h as le,j as s,H as me,e as z}from"./app-DxqLQpe0.js";import{u as ue}from"./usePushNotifications-DuTBON_R.js";import{t as c}from"./index-DscfyzBf.js";import ce from"./HeroSection--3MIBfVG.js";import de from"./CategoryNav-DafPNMZ-.js";import fe from"./ProductGrid-BDkVIyzL.js";import he from"./CartSidebar-C9yPazRC.js";import pe from"./StoreInfoModal-DqO17JKW.js";import xe from"./ProductModal-CKrDYKHK.js";import ve from"./AuthModal-U4cduNf-.js";import De from"./CustomerAreaModal-DgoiLbP_.js";import Ne from"./CheckoutModal-BPbAg0sb.js";import be from"./MenuNavbar-Bv3yBaZx.js";import ge from"./FeaturedProductCard-D3pEp7wM.js";import{F as ye}from"./flame--WNFbaQV.js";import"./search-B-rKYDmV.js";import"./sun-C_w3FBs6.js";import"./instagram-DehuFKUQ.js";import"./message-circle-DwnRWGDi.js";import"./map-pin-DEr2lweW.js";import"./ProductCard-C8S3JpF7.js";import"./plus-B_czqX4U.js";import"./shopping-bag-upByDvtE.js";import"./pen-3dlB1jju.js";import"./trash-2-CaOdZ5Ei.js";import"./minus-Bv7y4WJN.js";import"./chevron-right-eoIkyls7.js";import"./clock-BpC3daTf.js";import"./star-4ocnnI1m.js";import"./navigation-B-_-JU1q.js";import"./share-2-k3KyQMlo.js";import"./AddressForm-TAUoPj7S.js";import"./TextInput-CfsnfqTQ.js";import"./InputLabel-C0D_ghUW.js";import"./PrimaryButton-M31pelDi.js";import"./SecondaryButton-BzAILSuy.js";import"./loader-circle-8uLY5nTQ.js";import"./bell-BBHqIYtq.js";import"./gift-4mveoAdx.js";import"./trophy-BZ1aQbBT.js";import"./log-out-BUC0Bypa.js";import"./house-BPp1So5W.js";import"./check-BRcsV7SN.js";import"./history-QofNQgha.js";import"./copy-BL1TLhsF.js";import"./Modal-DKRbZfz6.js";import"./keyboard-BpVob8k2.js";import"./use-sync-refs-CXwHvAHX.js";import"./portal-qr2YzzzC.js";import"./with-selector-DizJfti8.js";import"./hidden-C2MZJO60.js";import"./transition-C0nxOLVQ.js";import"./sparkles-1jkkGwLJ.js";import"./arrow-left-COXL-8GC.js";import"./circle-check-big-D_hoa1pH.js";import"./wallet-BK5rlUar.js";import"./ticket-DtkMmxTp.js";import"./credit-card-tCG2bkbL.js";import"./banknote-NxbcJsXd.js";import"./switch-C5_R7tFj.js";import"./use-resolve-button-type-BFX9kWZy.js";import"./store-C-G8iLLx.js";import"./user-gzMkX7--.js";function R(r,a){r=r.replace(/^#/,"");let m=parseInt(r.substring(0,2),16),l=parseInt(r.substring(2,4),16),d=parseInt(r.substring(4,6),16);m=Math.floor(m*(1+a/100)),l=Math.floor(l*(1+a/100)),d=Math.floor(d*(1+a/100)),m=Math.min(255,Math.max(0,m)),l=Math.min(255,Math.max(0,l)),d=Math.min(255,Math.max(0,d));const I=m.toString(16).padStart(2,"0"),f=l.toString(16).padStart(2,"0"),g=d.toString(16).padStart(2,"0");return`#${I}${f}${g}`}function Ps({store:r,categories:a,slug:m,authCustomer:l,activePromotion:d,availableCoupons:I}){ue(l);const[f,g]=o.useState("all"),[y,q]=o.useState(""),[u,h]=o.useState([]),[F,O]=o.useState(null),[E,D]=o.useState(!1),[w,P]=o.useState(null),[B,T]=o.useState(null),[j,p]=o.useState(!1),[U,S]=o.useState(!1),[C,N]=o.useState(!1),[b,x]=o.useState(!1);o.useEffect(()=>{if(typeof window<"u"){const t=new URLSearchParams(window.location.search).get("ref");t&&localStorage.setItem("referral_code",t)}},[]);const[n,k]=o.useState(l),[J,L]=o.useState([]),[V,Q]=o.useState(()=>{const e=localStorage.getItem("menu_theme");return e?e==="dark":r.theme_mode==="dark"?!0:r.theme_mode==="light"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches}),G=()=>{Q(e=>{const t=!e;return localStorage.setItem("menu_theme",t?"dark":"light"),t})},W=async()=>{if(n)try{const e=await z.get("/customer/addresses");L(e.data)}catch(e){console.error("Error loading addresses:",e)}};o.useEffect(()=>{n?W():L([])},[n]);const{play:Y,initializeAudio:_}=le();o.useEffect(()=>{const e=()=>_();return window.addEventListener("click",e,{once:!0}),window.addEventListener("touchstart",e,{once:!0}),()=>{window.removeEventListener("click",e),window.removeEventListener("touchstart",e)}},[_]),o.useEffect(()=>{const e=localStorage.getItem("cart");if(e)try{h(JSON.parse(e))}catch(t){console.error("Error parsing cart",t)}},[]),o.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(u))},[u]),o.useEffect(()=>{const e=window.document.documentElement;V?e.classList.add("dark"):e.classList.remove("dark")},[V]),o.useEffect(()=>{const e=()=>{};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[a]);const K=e=>{if(g(e),e!=="all"){const t=document.getElementById(e);if(t){const i=t.getBoundingClientRect().top+window.scrollY-120;window.scrollTo({top:i,behavior:"smooth"})}}else window.scrollTo({top:0,behavior:"smooth"})},A=e=>{if(!r.is_open){c.error("Desculpe, a loja está fechada no momento.");return}O(e),T(null),P(null),D(!0)},X=e=>{w!==null?(h(t=>t.map((v,i)=>i===w?e:v)),c.success("Item atualizado com sucesso!")):(h(t=>[...t,e]),c.success("Adicionado ao carrinho!"),Y("success")),D(!1)},Z=e=>{const t=u[e];O(t.product),T(t),P(e),D(!0),p(!1)},ee=e=>{h(t=>t.filter((v,i)=>i!==e)),c.info("Item removido do carrinho.")},se=()=>{if(!r.is_open){c.error("Desculpe, a loja está fechada para novos pedidos.");return}if(!n){c.info("Para finalizar, indentifique-se primeiro."),N(!0),p(!1);return}M(!0),p(!1)},[H,M]=o.useState(!1),te=e=>{k(e)},re=async()=>{try{await z.post("/customer/logout"),k(null),c.info("Você saiu da conta."),x(!1)}catch(e){console.error(e)}},oe=u.reduce((e,t)=>e+t.subtotal,0),$=u.reduce((e,t)=>e+t.quantity,0),ne=(e,t)=>{t<1||h(v=>v.map((i,ie)=>{if(ie===e){const ae=i.subtotal/i.quantity;return{...i,quantity:t,subtotal:ae*t}}return i}))};return s.jsxDEV("div",{className:"min-h-screen bg-gray-50 dark:bg-premium-dark text-gray-900 dark:text-gray-100 font-sans selection:bg-orange-100 selection:text-orange-900 pb-40 md:pb-40 transition-colors duration-300",children:[s.jsxDEV(me,{title:r.name,children:s.jsxDEV("style",{children:`
                    :root {
                        --primary-color: ${r.theme_color||"#ff3d03"};
                        --primary-hover: ${R(r.theme_color||"#ff3d03",-10)};
                        --primary-active: ${R(r.theme_color||"#ff3d03",-20)};
                    }
                `},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:274,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:273,columnNumber:13},this),s.jsxDEV(ce,{store:r,customer:n,onOpenAuth:()=>N(!0),onOpenProfile:()=>x(!0),onOpenCart:()=>p(!0),onOpenInfo:()=>S(!0),cartCount:$,searchQuery:y,setSearchQuery:q,isDark:V,toggleTheme:G},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:284,columnNumber:13},this),!y&&f==="all"&&a.some(e=>e.products.some(t=>t.is_featured))&&s.jsxDEV("section",{className:"max-w-7xl mx-auto px-4 md:px-8 py-8",children:s.jsxDEV("div",{className:"mb-6 flex flex-col items-center",children:[s.jsxDEV("div",{className:"flex items-center justify-center gap-3",children:[s.jsxDEV("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-orange-500 to-red-500 text-white flex items-center justify-center rotate-3 shadow-lg",children:s.jsxDEV(ye,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:304,columnNumber:33},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:303,columnNumber:29},this),s.jsxDEV("div",{children:s.jsxDEV("h2",{className:"text-xl md:text-2xl font-black text-gray-900 dark:text-white tracking-tight text-center",children:"Melhores da casa"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:307,columnNumber:33},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:306,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:302,columnNumber:25},this),s.jsxDEV("div",{className:"flex flex-wrap justify-center gap-6 md:gap-8 mt-10",children:a.flatMap(e=>e.products).filter(e=>e.is_featured).map(e=>s.jsxDEV(ge,{product:e,onAdd:A,isStoreOpen:r.is_open},e.id,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:318,columnNumber:37},this))},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:313,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:301,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:300,columnNumber:17},this),s.jsxDEV(de,{categories:a,activeCategory:f,onSelectCategory:K},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:331,columnNumber:13},this),!r.is_open&&s.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 mt-6",children:s.jsxDEV("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50 rounded-2xl p-4 flex items-center justify-center gap-3 text-red-600 dark:text-red-400",children:[s.jsxDEV("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:341,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:340,columnNumber:25},this),s.jsxDEV("span",{className:"font-bold text-sm md:text-base",children:"Loja Fechada. Pedidos temporariamente indisponíveis."},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:343,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:339,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:338,columnNumber:17},this),s.jsxDEV("main",{children:s.jsxDEV("div",{className:"flex flex-col md:flex-row max-w-7xl mx-auto items-start gap-6",children:s.jsxDEV("div",{className:"flex-1 w-full",children:s.jsxDEV(fe,{categories:a.map(e=>({...e,products:e.products.filter(t=>t.name.toLowerCase().includes(y.toLowerCase())&&(f==="all"||e.id===f))})).filter(e=>e.products.length>0),onAdd:A,viewMode:r.menu_view_mode||"grid",isStoreOpen:r.is_open},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:355,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:354,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:352,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:351,columnNumber:13},this),s.jsxDEV(he,{isOpen:j,onClose:()=>p(!1),cart:u,onUpdateQuantity:ne,onEdit:Z,onRemove:ee,onCheckout:se},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:379,columnNumber:13},this),s.jsxDEV(pe,{isOpen:U,onClose:()=>S(!1),store:r},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:390,columnNumber:13},this),E&&s.jsxDEV(xe,{product:F,isOpen:E,onClose:()=>D(!1),onAddToCart:X,initialValues:B},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:398,columnNumber:17},this),C&&s.jsxDEV(ve,{isOpen:C,onClose:()=>N(!1),onLogin:te,slug:m},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:408,columnNumber:17},this),b&&s.jsxDEV(De,{isOpen:b,onClose:()=>x(!1),customer:n,onLogout:re,store:r},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:417,columnNumber:17},this),H&&s.jsxDEV(Ne,{show:H,onClose:()=>M(!1),cart:u,customer:n,store:r,total:oe,addresses:J,onSuccess:()=>{h([]),M(!1)}},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:427,columnNumber:17},this),n&&!j&&!b&&s.jsxDEV("div",{className:"fixed top-4 right-4 z-40 hidden md:block",children:s.jsxDEV("button",{onClick:()=>x(!0),className:"bg-white px-4 py-2 rounded-full shadow-lg border border-gray-100 flex items-center gap-2 hover:bg-gray-50 transition-colors",children:[s.jsxDEV("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold text-xs uppercase",children:n.name.substring(0,2)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:449,columnNumber:26},this),s.jsxDEV("span",{className:"font-bold text-gray-700 text-sm",children:n.name.split(" ")[0]},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:452,columnNumber:26},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:445,columnNumber:22},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:444,columnNumber:18},this),s.jsxDEV(be,{customer:n,cartCount:$,onHome:()=>window.scrollTo({top:0,behavior:"smooth"}),onAccount:()=>{n?x(!0):N(!0)},onStore:()=>S(!0),onCart:()=>p(!0),activeTab:j?"cart":b||C?"account":U?"store":"home"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:458,columnNumber:14},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Tenant/Menu/Index.tsx",lineNumber:272,columnNumber:9},this)}export{Ps as default};
