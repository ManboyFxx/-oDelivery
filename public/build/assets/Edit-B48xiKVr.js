import{r as c,u as k,j as e,H as w,L as j}from"./app-BbstSn-4.js";import{A as v}from"./AuthenticatedLayout-DFIS2jBV.js";import{M as N}from"./MediaPickerModal-CY0KeoBh.js";import{C as _}from"./chevron-left-B3SBfbLP.js";import{S as C}from"./save-CCmRV3Ve.js";import{P as m}from"./package-W7419ug1.js";import{L as x}from"./list-Cn1_eG5I.js";import"./monitor-DoUMYQSq.js";import"./shopping-bag-JEOUR_ij.js";import"./image-D5Ar6pki.js";import"./layout-dashboard-sQFFyBLP.js";import"./credit-card-GewC-25u.js";import"./users-CEUD-wED.js";import"./trophy-C8GXMa1c.js";import"./ticket-BzcVfB2t.js";import"./store-CzJTMv9A.js";import"./dollar-sign-7leezbPl.js";import"./key-LhcSNBM8.js";import"./shield-check-BQU5rJo-.js";import"./log-out-DDYdX5dk.js";import"./transition-j0YRQL1K.js";import"./use-sync-refs-C1yciGEP.js";import"./Modal-Duyo6gpS.js";import"./keyboard-BG8-wBbJ.js";import"./portal-uYSvdrJd.js";import"./with-selector-FfmK1MfG.js";import"./hidden-CTdMjiza.js";import"./truck-CZDUiolW.js";import"./switch-JAT-Y_eP.js";import"./use-resolve-button-type-Dstftj3S.js";import"./menu-ocp2GGy_.js";import"./chevron-down-1LaUjfj_.js";import"./clock-8qrjgjQU.js";import"./circle-play-DV77AbRk.js";import"./menu-CdaMWZHo.js";import"./search-1hS-ogYp.js";import"./sun-B_wfVrSQ.js";import"./bell-Dvny0gsw.js";import"./eye-BWw4RPn-.js";import"./arrow-left-DzdTOsWW.js";import"./usePushNotifications-TXQx7mqJ.js";import"./zap-XvHZdXn0.js";import"./star-CKNzb4TI.js";import"./chevron-right-Bzduk_kf.js";import"./lock-DnX5WpSh.js";import"./loader-circle-BquPCmWO.js";import"./check-BQ71mOtF.js";import"./trash-2-DUKe7qne.js";import"./upload-PxArNC0B.js";function Ne({product:a,categories:p,complement_groups:g=[],ingredients:P=[]}){const[i,o]=c.useState("general"),[b,d]=c.useState(!1),{data:r,setData:s,post:h,processing:n,errors:l}=k({_method:"PATCH",name:a.name,price:a.price,description:a.description||"",category_id:a.category_id||"",complement_groups:a.complement_groups?a.complement_groups.map(t=>t.id):[],ingredients:a.ingredients?a.ingredients.map(t=>({id:t.id,name:t.name,quantity:t.pivot?t.pivot.quantity:1})):[],image_url:a.image_url||"",loyalty_redeemable:a.loyalty_redeemable||!1,loyalty_points_cost:a.loyalty_points_cost||0,loyalty_points_multiplier:a.loyalty_points_multiplier||1}),f=t=>{t.preventDefault(),h(route("products.update",a.id))};return e.jsxs(v,{children:[e.jsx(w,{title:`Editar ${a.name}`}),e.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsxs(j,{href:route("products.index"),className:"flex items-center gap-2 text-sm font-bold text-gray-500 hover:text-[#ff3d03] transition-colors mb-2 uppercase tracking-widest",children:[e.jsx(_,{className:"w-4 h-4"}),"Voltar ao Cat√°logo"]}),e.jsx("h2",{className:"text-4xl font-black text-gray-900 dark:text-white uppercase italic tracking-tighter",children:"Editar Produto"})]}),e.jsxs("button",{onClick:f,disabled:n,className:"flex items-center gap-2 bg-[#ff3d03] text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-[#ff3d03]/20 hover:bg-[#e63602] transition-all disabled:opacity-50",children:[n?e.jsx("div",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(C,{className:"w-5 h-5"}),"Salvar Altera√ß√µes"]})]}),e.jsxs("div",{className:"flex bg-white dark:bg-white/2 p-2 rounded-3xl border border-gray-100 dark:border-white/5 mb-8 shadow-sm",children:[e.jsxs("button",{onClick:()=>o("general"),className:`flex-1 flex items-center justify-center gap-2 py-4 rounded-2xl text-sm font-black uppercase tracking-widest transition-all ${i==="general"?"bg-[#ff3d03] text-white shadow-lg":"text-gray-500 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[e.jsx(m,{className:"w-5 h-5"}),"Geral"]}),e.jsxs("button",{onClick:()=>o("complements"),className:`flex-1 flex items-center justify-center gap-2 py-4 rounded-2xl text-sm font-black uppercase tracking-widest transition-all ${i==="complements"?"bg-[#ff3d03] text-white shadow-lg":"text-gray-500 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[e.jsx(x,{className:"w-5 h-5"}),"Complementos"]})]}),e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i==="general"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-[#1a1b1e] p-8 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-xl shadow-gray-200/50 dark:shadow-none space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Nome do Produto"}),e.jsx("input",{type:"text",value:r.name,onChange:t=>s("name",t.target.value),className:"w-full px-5 py-4 rounded-2xl border-gray-200 dark:border-white/10 dark:bg-[#0f1012] dark:text-white focus:ring-2 focus:ring-[#ff3d03] transition-all font-bold"}),l.name&&e.jsx("p",{className:"mt-2 text-sm text-red-600 font-bold",children:l.name})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Pre√ßo (R$)"}),e.jsx("input",{type:"number",step:"0.01",value:r.price,onChange:t=>s("price",t.target.value),className:"w-full px-5 py-4 rounded-2xl border-gray-200 dark:border-white/10 dark:bg-[#0f1012] dark:text-[#ff3d03] focus:ring-2 focus:ring-[#ff3d03] transition-all font-black"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Categoria"}),e.jsxs("select",{value:r.category_id,onChange:t=>s("category_id",t.target.value),className:"w-full px-5 py-4 rounded-2xl border-gray-200 dark:border-white/10 dark:bg-[#0f1012] dark:text-white focus:ring-2 focus:ring-[#ff3d03] transition-all font-bold",children:[e.jsx("option",{value:"",children:"Selecione..."}),p.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Descri√ß√£o"}),e.jsx("textarea",{rows:4,value:r.description,onChange:t=>s("description",t.target.value),className:"w-full px-5 py-4 rounded-2xl border-gray-200 dark:border-white/10 dark:bg-[#0f1012] dark:text-white focus:ring-2 focus:ring-[#ff3d03] transition-all",placeholder:"Descreva os ingredientes, tamanho..."})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#ff3d03]/5 to-orange-500/5 dark:from-[#ff3d03]/10 dark:to-orange-500/5 p-8 rounded-[32px] border border-[#ff3d03]/10 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-white dark:bg-white/5 rounded-2xl shadow-sm",children:e.jsx("span",{className:"text-2xl",children:"üéÅ"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight italic",children:"Cart√£o Fidelidade"}),e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Configura√ß√µes de resgate"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/50 dark:bg-black/20 rounded-2xl",children:[e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:"Permite resgate com pontos?"}),e.jsx("button",{type:"button",onClick:()=>s("loyalty_redeemable",!r.loyalty_redeemable),className:`relative inline-flex h-8 w-14 flex-shrink-0 cursor-pointer rounded-full border-4 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${r.loyalty_redeemable?"bg-[#ff3d03]":"bg-gray-200 dark:bg-gray-800"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-6 w-6 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${r.loyalty_redeemable?"translate-x-6":"translate-x-0"}`})})]}),r.loyalty_redeemable&&e.jsxs("div",{className:"animate-in zoom-in-95 duration-200",children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2 ml-1",children:"Pontos para Resgate"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:r.loyalty_points_cost,onChange:t=>s("loyalty_points_cost",parseInt(t.target.value)||0),className:"w-full px-5 py-4 rounded-2xl border-gray-200 dark:border-white/10 dark:bg-white dark:text-gray-900 focus:ring-2 focus:ring-[#ff3d03] transition-all font-black text-lg"}),e.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-xs font-black text-gray-400 uppercase tracking-widest",children:"Pontos"})]})]}),e.jsx("div",{className:"pt-4 border-t border-[#ff3d03]/10 mt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Produto Turbo (Multiplicador)"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-2 ml-1",children:"Acelere os ganhos de pontos deste item"})]}),e.jsxs("div",{className:"relative w-24",children:[e.jsx("input",{type:"number",step:"0.1",min:"1",value:r.loyalty_points_multiplier,onChange:t=>s("loyalty_points_multiplier",parseFloat(t.target.value)||1),className:"w-full px-3 py-2 rounded-xl border-gray-200 dark:border-white/10 dark:bg-white dark:text-gray-900 focus:ring-2 focus:ring-[#ff3d03] transition-all font-black text-center"}),e.jsx("span",{className:"absolute right-8 top-1/2 -translate-y-1/2 text-xs font-black text-gray-400",children:"x"})]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-[#1a1b1e] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-xl shadow-gray-200/50 dark:shadow-none",children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-4 text-center",children:"Imagem em Destaque"}),e.jsxs("div",{className:"relative group",onClick:()=>d(!0),children:[e.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden bg-gray-50 dark:bg-white/5 border-2 border-dashed border-gray-200 dark:border-white/10 flex items-center justify-center transition-all group-hover:border-[#ff3d03] cursor-pointer",children:r.image_url?e.jsx("img",{src:r.image_url,className:"w-full h-full object-cover",alt:"Preview"}):e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(m,{className:"w-12 h-12 text-gray-300"}),e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Clique para adicionar"})]})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-2xl backdrop-blur-sm cursor-pointer",children:e.jsx("span",{className:"text-white font-black text-xs uppercase tracking-widest bg-[#ff3d03] px-4 py-2 rounded-xl",children:"Alterar Foto"})})]}),l.image_url&&e.jsx("p",{className:"mt-2 text-sm text-red-600 font-bold text-center",children:l.image_url})]}),e.jsx(N,{open:b,onClose:()=>d(!1),onSelect:t=>s("image_url",t.url),currentUrl:r.image_url})]})]}),i==="complements"&&e.jsxs("div",{className:"bg-white dark:bg-[#1a1b1e] p-8 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-xl shadow-gray-200/50 dark:shadow-none",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight italic mb-6",children:"Vincular Grupos de Complementos"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(t=>e.jsxs("label",{className:`relative flex flex-col p-6 rounded-[24px] border-2 transition-all cursor-pointer ${r.complement_groups.includes(t.id)?"bg-[#ff3d03]/5 border-[#ff3d03]":"bg-gray-50 dark:bg-white/2 border-gray-100 dark:border-white/5 hover:border-gray-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${r.complement_groups.includes(t.id)?"bg-[#ff3d03] text-white":"bg-white dark:bg-white/5 text-gray-400"}`,children:e.jsx(x,{className:"w-5 h-5"})}),e.jsx("input",{type:"checkbox",className:"rounded-lg border-gray-300 text-[#ff3d03] focus:ring-[#ff3d03] w-5 h-5",checked:r.complement_groups.includes(t.id),onChange:u=>{u.target.checked?s("complement_groups",[...r.complement_groups,t.id]):s("complement_groups",r.complement_groups.filter(y=>y!==t.id))}})]}),e.jsx("span",{className:"font-black text-gray-900 dark:text-white uppercase tracking-tight line-clamp-1",children:t.name}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1",children:[t.min_selections," a ",t.max_selections," op√ß√µes"]})]},t.id))})]})]})]})]})}export{Ne as default};
