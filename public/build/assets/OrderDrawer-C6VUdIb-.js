import{j as e,X as m,$ as g,l as h,as as p,ay as y,a3 as b,V as j,a5 as u,z as w,y as f}from"./vendor-react-BRbeZxQj.js";import{b0 as r}from"./vendor-others-CI9KCNiO.js";import"./vendor-utils-Dp_nMyUE.js";function _({order:a,isOpen:d,onClose:l,onAction:s}){if(!a)return null;const i={new:"Novo",preparing:"Preparando",ready:"Pronto",waiting_motoboy:"Aguardando Motoboy",motoboy_accepted:"Motoboy Aceitou",out_for_delivery:"Em Entrega",delivered:"Entregue",completed:"Concluído",cancelled:"Cancelado"},x={delivery:"Delivery",pickup:"Retirada",table:"Mesa"},c={paid:"Pago",pending:"Pendente"};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:r("fixed inset-0 bg-black/50 z-40 transition-opacity duration-300",d?"opacity-100":"opacity-0 pointer-events-none"),onClick:l}),e.jsxs("div",{className:r("fixed right-0 top-0 h-full w-full md:w-[500px] bg-white dark:bg-[#1a1b1e] shadow-2xl z-50 transition-transform duration-300 overflow-y-auto",d?"translate-x-0":"translate-x-full"),children:[e.jsxs("div",{className:"sticky top-0 bg-white dark:bg-[#1a1b1e] border-b border-gray-200 dark:border-white/10 p-6 flex items-center justify-between z-10",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-black text-gray-900 dark:text-white",children:["Pedido #",a.order_number]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:i[a.status]||a.status})]}),e.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 dark:hover:bg-white/5 rounded-xl transition-colors",children:e.jsx(m,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-4 space-y-3",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5"}),"Cliente"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:a.customer_name}),a.customer_phone&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(h,{className:"w-4 h-4"}),a.customer_phone]})]})]}),a.mode==="delivery"&&a.address&&e.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-4 space-y-3",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(p,{className:"w-5 h-5"}),"Endereço de Entrega"]}),e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("p",{children:[a.address.street,", ",a.address.number]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a.address.neighborhood}),a.address.complement&&e.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-xs mt-1",children:a.address.complement})]})]}),a.motoboy&&e.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-4 space-y-3",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(y,{className:"w-5 h-5"}),"Entregador"]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:a.motoboy.name})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5"}),"Itens do Pedido"]}),e.jsx("div",{className:"space-y-3",children:a.items.map(t=>e.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-3 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-bold text-gray-900 dark:text-white text-sm",children:[t.quantity,"x ",t.product_name]}),t.product?.description&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:t.product.description})]}),e.jsxs("p",{className:"font-bold text-gray-900 dark:text-white text-sm",children:["R$ ",t.subtotal.toFixed(2)]})]}),t.complements&&t.complements.length>0&&e.jsx("div",{className:"pl-3 border-l-2 border-gray-200 dark:border-white/10 space-y-1",children:t.complements.map((n,o)=>e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["+ ",n.quantity,"x ",n.name]},o))}),t.notes&&e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 italic bg-yellow-50 dark:bg-yellow-500/10 p-2 rounded",children:["Obs: ",t.notes]})]},t.id))})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-4 space-y-3",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(j,{className:"w-5 h-5"}),"Resumo do Pagamento"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["R$ ",a.subtotal.toFixed(2)]})]}),a.delivery_fee>0&&e.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Taxa de Entrega"}),e.jsxs("span",{children:["R$ ",a.delivery_fee.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-bold text-gray-900 dark:text-white text-base pt-2 border-t border-gray-200 dark:border-white/10",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["R$ ",a.total.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[e.jsx(u,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:r("text-xs font-bold px-2 py-1 rounded-full",a.payment_status==="paid"?"bg-green-100 text-green-700 dark:bg-green-500/20 dark:text-green-400":"bg-yellow-100 text-yellow-700 dark:bg-yellow-500/20 dark:text-yellow-400"),children:c[a.payment_status]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Tipo de Pedido"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:x[a.mode]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Criado em"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:new Date(a.created_at).toLocaleString("pt-BR")})]}),a.preparation_started_at&&e.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Preparo iniciado"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:new Date(a.preparation_started_at).toLocaleTimeString("pt-BR")})]})]})]}),s&&e.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-[#1a1b1e] border-t border-gray-200 dark:border-white/10 p-6 space-y-3",children:[e.jsxs("button",{onClick:()=>s("print",a),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl font-bold hover:bg-gray-800 dark:hover:bg-gray-100 transition-colors",children:[e.jsx(w,{className:"w-5 h-5"}),"Imprimir Comanda"]}),e.jsxs("button",{onClick:()=>s("whatsapp",a),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition-colors",children:[e.jsx(f,{className:"w-5 h-5"}),"Enviar WhatsApp"]})]})]})]})}export{_ as default};
