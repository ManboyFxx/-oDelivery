import{c as b,r as h,j as e,b as j,L as f,H as y}from"./app-DwErbC-G.js";import{M as N}from"./MotoboyLayout-BWXS3YjC.js";import{U as v}from"./user-D2aTdj2E.js";import{P as w}from"./phone-BWOy7fRC.js";import{M as k}from"./map-pin-t7TGAbDg.js";import{C as _}from"./clock-ClJcnN2X.js";import{D as T}from"./dollar-sign-C2mvKqMh.js";import{L}from"./LocationTracker-DtJ2POMI.js";import{P as D}from"./menu-CE40_6Rd.js";import{T as $}from"./trending-up-D0VoWqRP.js";import"./chart-column-_T_UFLQR.js";import"./chevron-right-Io8z3oZo.js";import"./log-out-Cu8ck9e9.js";import"./settings-C1w7duFg.js";import"./transition-DyVhLiFv.js";import"./circle-alert-Ce8txrrL.js";import"./navigation-DXpNMlPe.js";import"./use-resolve-button-type-B8uHpfvB.js";import"./portal-V1Z2qU1y.js";const A=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],C=b("power",A);function M({isOnline:t,status:n,onToggle:r,disabled:a=!1}){const[o,d]=h.useState(!1),c=async()=>{d(!0);try{const l=await j.post(route("motoboy.availability.toggle"));l.data.success&&r(l.data.is_online)}catch(l){console.error("Erro ao atualizar status:",l)}finally{d(!1)}},x=t?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700",m=t?"ONLINE":"OFFLINE",i=t?"bg-green-500":"bg-gray-400";return e.jsxs("div",{className:`flex items-center gap-4 px-6 py-4 rounded-2xl border-2 transition-all ${t?"border-green-200 bg-green-50":"border-gray-200 bg-white"}`,children:[e.jsx("button",{onClick:c,disabled:a||o,className:`
                    flex items-center justify-center w-14 h-14 rounded-full
                    transition-all transform
                    ${t?"bg-green-500 hover:bg-green-600 shadow-lg shadow-green-500/30":"bg-gray-400 hover:bg-gray-500 shadow-lg shadow-gray-500/30"}
                    ${a||o?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                    active:scale-95
                `,title:t?"Ir Offline":"Ir Online",children:e.jsx(C,{className:`w-6 h-6 text-white ${o?"animate-spin":""}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-600 uppercase tracking-widest",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full animate-pulse ${i}`}),e.jsx("p",{className:`text-lg font-black ${x} px-3 py-1 rounded-full`,children:m})]})]}),o&&e.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Atualizando..."})]})}function P({orderId:t,orderNumber:n,customerName:r,customerPhone:a,deliveryAddress:o,total:d,deliveryFee:c,itemsCount:x,estimatedTimeMinutes:m,createdAt:i,showActions:l=!0,onAccept:p,loading:g=!1}){const u=s=>{s.preventDefault(),p?.(t)};return e.jsx(f,{href:route("motoboy.orders.show",t),children:e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-gray-200 p-6 hover:border-[#ff3d03] hover:shadow-md transition-all cursor-pointer h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-600 uppercase tracking-widest",children:"Pedido"}),e.jsxs("p",{className:"text-lg font-black text-gray-900",children:["#",n]})]}),i&&e.jsx("span",{className:"text-xs font-bold text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:i})]}),e.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx(v,{className:"w-5 h-5 text-[#ff3d03]"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:r}),e.jsxs("a",{href:`tel:${a}`,onClick:s=>s.preventDefault(),className:"text-xs text-[#ff3d03] font-medium flex items-center gap-1 hover:underline",children:[e.jsx(w,{className:"w-3 h-3"}),a]})]})]})}),e.jsxs("div",{className:"mb-4 flex gap-3",children:[e.jsx(k,{className:"w-5 h-5 text-[#ff3d03] flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-600 uppercase tracking-widest",children:"Entrega"}),e.jsx("p",{className:"text-sm font-medium text-gray-700 line-clamp-2",children:o})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-xs text-blue-600 font-bold",children:"Itens"}),e.jsx("p",{className:"text-lg font-black text-blue-700",children:x})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-xs text-green-600 font-bold",children:"Tempo"}),e.jsxs("p",{className:"text-lg font-black text-green-700 flex items-center justify-center gap-1",children:[e.jsx(_,{className:"w-4 h-4"}),m,"m"]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-xs text-purple-600 font-bold",children:"Taxa"}),e.jsxs("p",{className:"text-lg font-black text-purple-700 flex items-center justify-center gap-1",children:[e.jsx(T,{className:"w-4 h-4"}),"R$",c]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Total do Pedido"}),e.jsxs("p",{className:"text-xl font-black text-gray-900",children:["R$ ",d.toFixed(2)]})]}),l&&e.jsx("button",{onClick:u,disabled:g,className:`
                                px-4 py-2 rounded-lg font-bold text-sm uppercase tracking-widest
                                transition-all
                                ${g?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-[#ff3d03] text-white hover:bg-[#e63700] active:scale-95"}
                            `,children:g?"...":"Aceitar"})]})]})})}function Z({user:t,summary:n,availableOrders:r,pendingOrders:a,recentDeliveries:o,notificationCount:d}){const[c,x]=h.useState(n.is_online),[m,i]=h.useState(null),l=async s=>{x(s)},p=async s=>{i(s);try{console.log("Aceitar pedido:",s)}finally{i(null)}};Array(Math.round(n.average_rating)).fill(null).map(()=>"★").join("");const[g,u]=h.useState(!1);return e.jsxs(N,{title:"Dashboard",subtitle:"Bem-vindo ao seu painel",children:[e.jsx(y,{title:"Dashboard - ÓoDelivery Motoboy"}),e.jsx(L,{enabled:g&&c,orderId:a[0]?.id,interval:30}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("section",{children:e.jsx(M,{isOnline:c,status:n.status,onToggle:l})}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-sm font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Pedidos Chegando"]}),r.length>0&&e.jsx("span",{className:"text-xs font-bold bg-[#ff3d03] text-white px-3 py-1 rounded-full",children:r.length})]}),r.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map(s=>e.jsx(P,{orderId:s.id,orderNumber:s.order_number,customerName:s.customer_name,customerPhone:s.customer_phone,deliveryAddress:s.delivery_address,total:s.total,deliveryFee:s.delivery_fee,itemsCount:s.items_count,estimatedTimeMinutes:s.estimated_time_minutes,createdAt:s.created_at,showActions:!0,onAccept:p,loading:m===s.id},s.id))}):e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-dashed border-gray-200 p-8 text-center opacity-70",children:[e.jsx(D,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm font-bold text-gray-400",children:"Aguardando novos pedidos..."})]})]}),a.length>0&&e.jsxs("section",{children:[e.jsx("h2",{className:"text-xs font-black uppercase tracking-widest text-gray-600 mb-4",children:"Em Entrega"}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.map(s=>e.jsx("div",{className:"bg-white border-l-4 border-yellow-400 rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-xs font-bold bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded",children:["#",s.order_number]}),e.jsx("h3",{className:"font-bold text-gray-900 mt-1",children:s.customer_name}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:s.delivery_address})]}),e.jsx(f,{href:route("motoboy.orders.show",s.id),className:"text-[#ff3d03] font-bold text-sm bg-orange-50 px-3 py-2 rounded-lg",children:"Detalhes"})]})},s.id))})]}),e.jsx("section",{className:"pt-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase",children:"Ganhos Hoje"}),e.jsxs("p",{className:"text-2xl font-black text-gray-900",children:["R$ ",n.earnings_today.toFixed(2)]})]}),e.jsxs(f,{href:route("motoboy.metrics"),className:"text-xs font-bold text-gray-500 hover:text-[#ff3d03] flex items-center gap-1",children:["Ver tudo ",e.jsx($,{className:"w-3 h-3"})]})]})})]})]})}export{Z as default};
