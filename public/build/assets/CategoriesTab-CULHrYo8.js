import{r as i,u as R,j as e,X as z,a as v}from"./app-jVj0MUby.js";import{M as F}from"./Modal-CVA1-0mx.js";import{I as g}from"./InputLabel-DPxYpJIa.js";import{T as P}from"./TextInput-BZXwZXz1.js";import{P as W}from"./PrimaryButton-lyJMn6lb.js";import{S as X}from"./SecondaryButton-96fcXhJA.js";import{I as h}from"./InputError-BW632zJ_.js";import{M as H}from"./MediaPickerModal-Bk8Qu3Ug.js";import{k as J,l as j,D as Q,n as Y,o as Z,P as $}from"./core.esm-s7_UdVFl.js";import{S as ee,v as se,s as re,a as oe}from"./sortable.esm-DpXf9C16.js";import te from"./DraggableCategoryItem-pt8g8v9r.js";import{S as T}from"./search-t7_bi_Kd.js";import{P as ie}from"./plus-C_tMV_Cn.js";import{I as ae}from"./image-DN4L3ANS.js";import"./keyboard-B3ncYl-v.js";import"./use-sync-refs-cy7_OiVa.js";import"./portal-CBFo9pwj.js";import"./with-selector-Bg0nSsFM.js";import"./hidden-B_SzDmWB.js";import"./transition-BD0_vfPX.js";import"./loader-circle-C0xp79da.js";import"./check-BqMNtAhO.js";import"./trash-2-3xoVgvGH.js";import"./upload-CviLtubR.js";import"./grip-vertical-f2apGmJ2.js";import"./pencil-D8G0-Z9U.js";function Me({categories:p}){const[u,n]=i.useState(p),[N,V]=i.useState(""),[S,o]=i.useState(!1),[a,f]=i.useState(null),[E,c]=i.useState(!1),[O,x]=i.useState(null),U=J(j($),j(Z,{coordinateGetter:re})),{data:t,setData:l,post:w,put:le,processing:k,reset:I,errors:d,delete:me}=R({name:"",description:"",image_url:""}),b=u.filter(s=>s.name.toLowerCase().includes(N.toLowerCase()));function M(s){const{active:r,over:y}=s;x(null),r.id!==y?.id&&n(D=>{const A=D.findIndex(m=>m.id===r.id),G=D.findIndex(m=>m.id===y?.id),C=oe(D,A,G);return v.post(route("categories.reorder"),{categories:C.map((m,K)=>({id:m.id,sort_order:K}))},{preserveScroll:!0}),C})}const _=()=>{f(null),I(),o(!0)},B=s=>{f(s),l({name:s.name,description:s.description||"",image_url:s.image_url||""}),o(!0)},L=s=>{s.preventDefault(),a?v.put(route("categories.update",a.id),t,{onSuccess:()=>{o(!1),n(u.map(r=>r.id===a.id?{...r,...t}:r))}}):w(route("categories.store"),{onSuccess:()=>{o(!1),window.location.reload()}})},q=s=>{confirm("Tem certeza que deseja excluir esta categoria? Produtos vinculados podem ficar sem categoria.")&&v.delete(route("categories.destroy",s),{preserveScroll:!0,onSuccess:()=>{n(u.filter(r=>r.id!==s))}})};return e.jsxDEV("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxDEV("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white hidden md:block",children:"Gerenciar Categorias"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:141,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-4 w-full md:w-auto",children:[e.jsxDEV("div",{className:"relative flex-1 md:w-72",children:[e.jsxDEV(T,{className:"absolute left-4 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:148,columnNumber:25},this),e.jsxDEV("input",{type:"text",value:N,onChange:s=>V(s.target.value),placeholder:"Buscar categorias...",className:"w-full h-11 rounded-2xl border border-gray-200 bg-white pl-11 shadow-sm focus:border-[#ff3d03] focus:ring-[#ff3d03]/20 dark:border-white/5 dark:bg-[#0f1012] transition-all"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:149,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:147,columnNumber:21},this),e.jsxDEV("button",{onClick:_,className:"flex items-center gap-2 rounded-2xl bg-[#ff3d03] px-6 py-3 text-sm font-bold text-white shadow-lg shadow-[#ff3d03]/20 hover:bg-[#e63700] hover:scale-105 active:scale-95 transition-all whitespace-nowrap",children:[e.jsxDEV(ie,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:162,columnNumber:25},this),"Nova Categoria"]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:158,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:145,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:140,columnNumber:13},this),e.jsxDEV("div",{className:"bg-white dark:bg-[#1a1b1e] rounded-[24px] shadow-sm border border-gray-100 dark:border-white/5 overflow-hidden",children:e.jsxDEV(Q,{sensors:U,collisionDetection:Y,onDragStart:({active:s})=>x(s.id),onDragEnd:M,children:e.jsxDEV(ee,{items:b.map(s=>s.id),strategy:se,children:e.jsxDEV("ul",{className:"divide-y divide-gray-100 dark:divide-white/5",children:[b.map(s=>e.jsxDEV(te,{category:s,onEdit:B,onDelete:q,isDragging:O===s.id},s.id,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:179,columnNumber:33},this)),b.length===0&&e.jsxDEV("li",{className:"p-12 text-center flex flex-col items-center justify-center text-gray-500",children:[e.jsxDEV("div",{className:"h-16 w-16 bg-gray-50 dark:bg-white/5 rounded-full flex items-center justify-center mb-4",children:e.jsxDEV(T,{className:"h-8 w-8 text-gray-300"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:190,columnNumber:41},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:189,columnNumber:37},this),e.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Nenhuma categoria encontrada"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:192,columnNumber:37},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:188,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:177,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:176,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:170,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:169,columnNumber:13},this),e.jsxDEV(F,{show:S,onClose:()=>o(!1),maxWidth:"md",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:a?"Editar Categoria":"Nova Categoria"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:203,columnNumber:25},this),e.jsxDEV("button",{type:"button",onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsxDEV(z,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:207,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:206,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:202,columnNumber:21},this),e.jsxDEV("form",{onSubmit:L,className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(g,{value:"Nome *"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:213,columnNumber:29},this),e.jsxDEV(P,{className:"w-full mt-1",value:t.name,onChange:s=>l("name",s.target.value),required:!0,placeholder:"Ex: Bebidas"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:214,columnNumber:29},this),e.jsxDEV(h,{message:d.name,className:"mt-2"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:221,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:212,columnNumber:25},this),e.jsxDEV("div",{children:[e.jsxDEV(g,{value:"Descrição"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:224,columnNumber:29},this),e.jsxDEV(P,{className:"w-full mt-1",value:t.description,onChange:s=>l("description",s.target.value),placeholder:"Breve descrição da categoria"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:225,columnNumber:29},this),e.jsxDEV(h,{message:d.description,className:"mt-2"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:231,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:223,columnNumber:25},this),e.jsxDEV("div",{children:[e.jsxDEV(g,{value:"Imagem da Categoria"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:235,columnNumber:29},this),e.jsxDEV("div",{onClick:()=>c(!0),className:"mt-1 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-2xl hover:border-[#ff3d03] transition-colors cursor-pointer relative bg-gray-50 dark:bg-gray-800 h-32 overflow-hidden",children:t.image_url?e.jsxDEV("div",{className:"relative w-full h-full group",children:[e.jsxDEV("img",{src:t.image_url,alt:"Preview",className:"w-full h-full object-cover"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:242,columnNumber:41},this),e.jsxDEV("div",{className:"absolute inset-0 bg-black/40 flex flex-col items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity gap-2",children:[e.jsxDEV("p",{className:"text-white text-xs font-bold",children:"Trocar Imagem"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:244,columnNumber:45},this),e.jsxDEV("button",{type:"button",onClick:s=>{s.stopPropagation(),l("image_url","")},className:"text-[10px] text-red-300 hover:text-red-100",children:"Remover"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:245,columnNumber:45},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:243,columnNumber:41},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:241,columnNumber:37},this):e.jsxDEV("div",{className:"text-center p-4",children:[e.jsxDEV(ae,{className:"mx-auto h-6 w-6 text-gray-400"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:256,columnNumber:41},this),e.jsxDEV("p",{className:"mt-1 text-xs font-medium text-gray-500",children:"Banco de Imagens"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:257,columnNumber:41},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:255,columnNumber:37},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:236,columnNumber:29},this),e.jsxDEV(h,{message:d.image_url,className:"mt-2"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:261,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:234,columnNumber:25},this),e.jsxDEV(H,{open:E,onClose:()=>c(!1),onSelect:s=>{l("image_url",s.url),c(!1)},currentUrl:t.image_url},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:264,columnNumber:25},this),e.jsxDEV("div",{className:"flex justify-end gap-3 pt-4 mt-6 border-t border-gray-100 dark:border-white/5",children:[e.jsxDEV(X,{onClick:()=>o(!1),className:"py-3 rounded-xl",children:"Cancelar"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:273,columnNumber:29},this),e.jsxDEV(W,{disabled:k,className:"bg-[#ff3d03] hover:bg-[#e63700] py-3 rounded-xl shadow-lg shadow-[#ff3d03]/20 border-transparent",children:a?"Salvar Alterações":"Criar Categoria"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:274,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:272,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:211,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:201,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:200,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Products/Tabs/CategoriesTab.tsx",lineNumber:138,columnNumber:9},this)}export{Me as default};
