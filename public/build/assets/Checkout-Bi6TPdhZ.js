import{c as Ce,m as Be,i as x,r as k,u as J,j as e,a as Me,b as We,H as Ve,X as Ge,d as Qe}from"./app-D2VljvTw.js";import{D as Ke,A as Je}from"./AuthenticatedLayout-Cx4f4-fS.js";import{C as se}from"./credit-card-CJ_Fv3xf.js";import{C as ce}from"./circle-alert-XKeeM4ji.js";import{L as U}from"./loader-circle-BhHVA8cD.js";import{Q as G}from"./qr-code-Y2NLAUwa.js";import{C as T}from"./circle-check-big-jFZJVZKS.js";import{C as Se}from"./copy-DaCLt717.js";import{S as ee}from"./shield-check-BwRQitPR.js";import{L as He}from"./lock-DrbL-bXB.js";import"./shopping-bag-DeV0Q4uc.js";import"./package-DITWTL1u.js";import"./menu-D_M5zKdZ.js";import"./use-resolve-button-type-hvyh8Ega.js";import"./keyboard-D3GHKAuh.js";import"./use-sync-refs-DLhS85IC.js";import"./portal-KUhlGsT1.js";import"./with-selector-D8O5el8K.js";import"./transition-D2MB-Bkq.js";import"./trophy-CGi22m5G.js";import"./chart-column-BI1AR2fd.js";import"./ticket-Btog9CtY.js";import"./store-DuxhVZGb.js";import"./dollar-sign-u-pr0hpI.js";import"./log-out-BGloaton.js";import"./Modal-CPkuO39I.js";import"./hidden-DG7gvhwG.js";import"./truck-2VxR7Zq1.js";import"./switch-DTazzpId.js";import"./chevron-down-DopCl3ie.js";import"./clock-DhsNYQvR.js";import"./search-DgyBcvPy.js";import"./bell-CJEF_sGF.js";import"./sparkles-CJH1Xak9.js";import"./arrow-right-D3E33b_Z.js";import"./eye-Lo_UvX06.js";import"./arrow-left-BOEQvvf9.js";const ze=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],ne=Ce("barcode",ze);const Xe=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],me=Ce("tag",Xe);function Q(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Q=function(t){return typeof t}:Q=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(s)}var we="clover",Ye=function(t){return t===3?"v3":t},Ee="https://js.stripe.com",Ze="".concat(Ee,"/").concat(we,"/stripe.js"),et=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,tt=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var rt=function(t){return et.test(t)||tt.test(t)},at=function(){for(var t=document.querySelectorAll('script[src^="'.concat(Ee,'"]')),r=0;r<t.length;r++){var a=t[r];if(rt(a.src))return a}return null},xe=function(t){var r="",a=document.createElement("script");a.src="".concat(Ze).concat(r);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(a),a},st=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.7.0",startTime:r})},D=null,W=null,V=null,nt=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},ot=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},it=function(t){return D!==null?D:(D=new Promise(function(r,a){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var n=at();if(!(n&&t)){if(!n)n=xe(t);else if(n&&V!==null&&W!==null){var o;n.removeEventListener("load",V),n.removeEventListener("error",W),(o=n.parentNode)===null||o===void 0||o.removeChild(n),n=xe(t)}}V=ot(r,a),W=nt(a),n.addEventListener("load",V),n.addEventListener("error",W)}catch(c){a(c);return}}),D.catch(function(r){return D=null,Promise.reject(r)}))},ct=function(t,r,a){if(t===null)return null;var n=r[0];if(typeof n!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(Q(n)," instead."));var o=n.match(/^pk_test/),c=Ye(t.version),m=we;o&&c!==m&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("8.7.0"," expected Stripe.js@").concat(m,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var i=t.apply(void 0,r);return st(i,a),i},q,Pe=!1,_e=function(){return q||(q=it(null).catch(function(t){return q=null,Promise.reject(t)}),q)};Promise.resolve().then(function(){return _e()}).catch(function(s){Pe||console.warn(s)});var lt=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];Pe=!0;var n=Date.now();return _e().then(function(o){return ct(o,r,n)})},te={exports:{}},re,ge;function dt(){if(ge)return re;ge=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return re=s,re}var ae,fe;function ut(){if(fe)return ae;fe=1;var s=dt();function t(){}function r(){}return r.resetWarningCache=t,ae=function(){function a(c,m,i,b,h,y){if(y!==s){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}a.isRequired=a;function n(){return a}var o={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:n,element:a,elementType:a,instanceOf:n,node:a,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},ae}var he;function pt(){return he||(he=1,te.exports=ut()()),te.exports}var mt=pt();const p=Be(mt);function ye(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function be(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ye(Object(r),!0).forEach(function(a){Re(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}function K(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?K=function(t){return typeof t}:K=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(s)}function Re(s,t,r){return t in s?Object.defineProperty(s,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[t]=r,s}function xt(s,t){if(s==null)return{};var r={},a=Object.keys(s),n,o;for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&(r[n]=s[n]);return r}function gt(s,t){if(s==null)return{};var r=xt(s,t),a,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);for(n=0;n<o.length;n++)a=o[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(r[a]=s[a])}return r}function Oe(s,t){return ft(s)||ht(s,t)||yt(s,t)||bt()}function ft(s){if(Array.isArray(s))return s}function ht(s,t){var r=s&&(typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"]);if(r!=null){var a=[],n=!0,o=!1,c,m;try{for(r=r.call(s);!(n=(c=r.next()).done)&&(a.push(c.value),!(t&&a.length===t));n=!0);}catch(i){o=!0,m=i}finally{try{!n&&r.return!=null&&r.return()}finally{if(o)throw m}}return a}}function yt(s,t){if(s){if(typeof s=="string")return ve(s,t);var r=Object.prototype.toString.call(s).slice(8,-1);if(r==="Object"&&s.constructor&&(r=s.constructor.name),r==="Map"||r==="Set")return Array.from(s);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ve(s,t)}}function ve(s,t){(t==null||t>s.length)&&(t=s.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=s[r];return a}function bt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S=function(t,r,a){var n=!!a,o=x.useRef(a);x.useEffect(function(){o.current=a},[a]),x.useEffect(function(){if(!n||!t)return function(){};var c=function(){o.current&&o.current.apply(o,arguments)};return t.on(r,c),function(){t.off(r,c)}},[n,r,t,o])},oe=function(t){var r=x.useRef(t);return x.useEffect(function(){r.current=t},[t]),r.current},$=function(t){return t!==null&&K(t)==="object"},vt=function(t){return $(t)&&typeof t.then=="function"},jt=function(t){return $(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},je="[object Object]",kt=function s(t,r){if(!$(t)||!$(r))return t===r;var a=Array.isArray(t),n=Array.isArray(r);if(a!==n)return!1;var o=Object.prototype.toString.call(t)===je,c=Object.prototype.toString.call(r)===je;if(o!==c)return!1;if(!o&&!a)return t===r;var m=Object.keys(t),i=Object.keys(r);if(m.length!==i.length)return!1;for(var b={},h=0;h<m.length;h+=1)b[m[h]]=!0;for(var y=0;y<i.length;y+=1)b[i[y]]=!0;var l=Object.keys(b);if(l.length!==m.length)return!1;var j=t,d=r,v=function(f){return s(j[f],d[f])};return l.every(v)},Te=function(t,r,a){return $(t)?Object.keys(t).reduce(function(n,o){var c=!$(r)||!kt(t[o],r[o]);return a.includes(o)?(c&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),n):c?be(be({},n||{}),{},Re({},o,t[o])):n},null):null},Ae="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ke=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ae;if(t===null||jt(t))return t;throw new Error(r)},Nt=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ae;if(vt(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(n){return ke(n,r)})};var a=ke(t,r);return a===null?{tag:"empty"}:{tag:"sync",stripe:a}},Ct=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.6.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.6.0",url:"https://stripe.com/docs/stripe-js/react"}))},H=x.createContext(null);H.displayName="ElementsContext";var $e=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},Ie=function(t){var r=t.stripe,a=t.options,n=t.children,o=x.useMemo(function(){return Nt(r)},[r]),c=x.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(a):null}}),m=Oe(c,2),i=m[0],b=m[1];x.useEffect(function(){var l=!0,j=function(v){b(function(w){return w.stripe?w:{stripe:v,elements:v.elements(a)}})};return o.tag==="async"&&!i.stripe?o.stripePromise.then(function(d){d&&l&&j(d)}):o.tag==="sync"&&!i.stripe&&j(o.stripe),function(){l=!1}},[o,i,a]);var h=oe(r);x.useEffect(function(){h!==null&&h!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,r]);var y=oe(a);return x.useEffect(function(){if(i.elements){var l=Te(a,y,["clientSecret","fonts"]);l&&i.elements.update(l)}},[a,y,i.elements]),x.useEffect(function(){Ct(i.stripe)},[i.stripe]),x.createElement(H.Provider,{value:i},n)};Ie.propTypes={stripe:p.any,options:p.object};var St=function(t){var r=x.useContext(H);return $e(r,t)},wt=function(){var t=St("calls useElements()"),r=t.elements;return r};p.func.isRequired;var Le=x.createContext(null);Le.displayName="CheckoutContext";p.any,p.shape({clientSecret:p.oneOfType([p.string,p.instanceOf(Promise)]).isRequired,elementsOptions:p.object}).isRequired;var ie=function(t){var r=x.useContext(Le),a=x.useContext(H);if(r){if(a)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return r}else return $e(a,t)},Et=["mode"],Pt=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},P=function(t,r){var a="".concat(Pt(t),"Element"),n=function(i){var b=i.id,h=i.className,y=i.options,l=y===void 0?{}:y,j=i.onBlur,d=i.onFocus,v=i.onReady,w=i.onChange,f=i.onEscape,E=i.onClick,g=i.onLoadError,z=i.onLoaderStart,I=i.onNetworksChange,X=i.onConfirm,u=i.onCancel,L=i.onShippingAddressChange,F=i.onShippingRateChange,Fe=i.onSavedPaymentMethodRemove,De=i.onSavedPaymentMethodUpdate,B=ie("mounts <".concat(a,">")),M="elements"in B?B.elements:null,A="checkoutState"in B?B.checkoutState:null,R=A?.type==="success"||A?.type==="loading"?A.sdk:null,qe=x.useState(null),le=Oe(qe,2),C=le[0],Ue=le[1],O=x.useRef(null),Y=x.useRef(null);S(C,"blur",j),S(C,"focus",d),S(C,"escape",f),S(C,"click",E),S(C,"loaderror",g),S(C,"loaderstart",z),S(C,"networkschange",I),S(C,"confirm",X),S(C,"cancel",u),S(C,"shippingaddresschange",L),S(C,"shippingratechange",F),S(C,"savedpaymentmethodremove",Fe),S(C,"savedpaymentmethodupdate",De),S(C,"change",w);var Z;v&&(t==="expressCheckout"?Z=v:Z=function(){v(C)}),S(C,"ready",Z),x.useLayoutEffect(function(){if(O.current===null&&Y.current!==null&&(M||R)){var N=null;if(R)switch(t){case"paymentForm":N=R.createPaymentFormElement(l);break;case"payment":N=R.createPaymentElement(l);break;case"address":if("mode"in l){var ue=l.mode,pe=gt(l,Et);if(ue==="shipping")N=R.createShippingAddressElement(pe);else if(ue==="billing")N=R.createBillingAddressElement(pe);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":N=R.createExpressCheckoutElement(l);break;case"currencySelector":N=R.createCurrencySelectorElement();break;case"taxId":N=R.createTaxIdElement(l);break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else M&&(N=M.create(t,l));O.current=N,Ue(N),N&&N.mount(Y.current)}},[M,R,l]);var de=oe(l);return x.useEffect(function(){if(O.current){var N=Te(l,de,["paymentRequest"]);N&&"update"in O.current&&O.current.update(N)}},[l,de]),x.useLayoutEffect(function(){return function(){if(O.current&&typeof O.current.destroy=="function")try{O.current.destroy(),O.current=null}catch{}}},[]),x.createElement("div",{id:b,className:h,ref:Y})},o=function(i){ie("mounts <".concat(a,">"));var b=i.id,h=i.className;return x.createElement("div",{id:b,className:h})},c=r?o:n;return c.propTypes={id:p.string,className:p.string,onChange:p.func,onBlur:p.func,onFocus:p.func,onReady:p.func,onEscape:p.func,onClick:p.func,onLoadError:p.func,onLoaderStart:p.func,onNetworksChange:p.func,onConfirm:p.func,onCancel:p.func,onShippingAddressChange:p.func,onShippingRateChange:p.func,onSavedPaymentMethodRemove:p.func,onSavedPaymentMethodUpdate:p.func,options:p.object},c.displayName=a,c.__elementType=t,c},_=typeof window>"u",_t=x.createContext(null);_t.displayName="EmbeddedCheckoutProviderContext";var Rt=function(){var t=ie("calls useStripe()"),r=t.stripe;return r};P("auBankAccount",_);var Ne=P("card",_);P("cardNumber",_);P("cardExpiry",_);P("cardCvc",_);P("iban",_);P("payment",_);P("expressCheckout",_);P("paymentRequestButton",_);P("linkAuthentication",_);P("address",_);P("shippingAddress",_);P("paymentMethodMessaging",_);P("taxId",_);function Ot({plan:s,price:t,couponCode:r}){const a=Rt(),n=wt(),[o,c]=k.useState(null),[m,i]=k.useState(!1),{data:b,setData:h}=J({plan:s,payment_method:"credit_card",cardholder_name:"",cpf:"",coupon_code:r||""});k.useEffect(()=>{h("coupon_code",r||"")},[r]);const y=async j=>{if(j.preventDefault(),!a||!n)return;i(!0),c(null);const d=n.getElement(Ne);if(!d){c("Erro ao carregar formulário de cartão"),i(!1);return}try{const{error:v,paymentMethod:w}=await a.createPaymentMethod({type:"card",card:d,billing_details:{name:b.cardholder_name}});if(v){c(v.message||"Erro ao processar cartão"),i(!1);return}Me.post(route("subscription.process-payment"),{...b,payment_method_id:w?.id},{onError:f=>{c(f.payment||"Erro ao processar pagamento"),i(!1)},onSuccess:()=>{i(!1)}})}catch(v){c(v.message||"Erro inesperado"),i(!1)}},l={style:{base:{fontSize:"16px",color:"#1f2937","::placeholder":{color:"#9ca3af"},fontFamily:"Inter, system-ui, sans-serif"},invalid:{color:"#ef4444"}},hidePostalCode:!0};return e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5"}),"Dados do Cartão"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome no Cartão"}),e.jsx("input",{type:"text",value:b.cardholder_name,onChange:j=>h("cardholder_name",j.target.value),placeholder:"NOME COMPLETO",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dados do Cartão"}),e.jsx("div",{className:"px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700",children:e.jsx(Ne,{options:l})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"CPF do Titular"}),e.jsx("input",{type:"text",value:b.cpf,onChange:j=>{let d=j.target.value.replace(/\D/g,"");d.length<=11&&(d=d.replace(/(\d{3})(\d)/,"$1.$2"),d=d.replace(/(\d{3})(\d)/,"$1.$2"),d=d.replace(/(\d{3})(\d{1,2})$/,"$1-$2")),h("cpf",d)},placeholder:"000.000.000-00",maxLength:14,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]}),o&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(ce,{className:"h-5 w-5 text-red-600 dark:text-red-400 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:o})]}),e.jsx("button",{type:"submit",disabled:!a||m,className:"w-full bg-[#ff3d03] hover:bg-[#e63700] disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-bold py-4 rounded-xl transition-all shadow-lg shadow-orange-500/20 flex items-center justify-center gap-2",children:m?e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"h-5 w-5 animate-spin"}),"Processando Pagamento..."]}):e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-5 w-5"}),"Pagar R$ ",t.toFixed(2)]})}),e.jsxs("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:["Ao confirmar, você concorda com nossos ",e.jsx("a",{href:"#",className:"underline",children:"Termos de Serviço"})]})]})}function Tt({plan:s,price:t,couponCode:r}){const[a,n]=k.useState(null),[o,c]=k.useState(null),[m,i]=k.useState(!1),[b,h]=k.useState(!1),{data:y,setData:l,post:j,processing:d}=J({plan:s,payment_method:"pix",coupon_code:r||""});k.useEffect(()=>{l("coupon_code",r||"")},[r]);const v=()=>{j(route("subscription.process-payment"),{onSuccess:E=>{n(E.qr_code_url),c(E.qr_code),f()}})},w=()=>{o&&(navigator.clipboard.writeText(o),i(!0),setTimeout(()=>i(!1),2e3))},f=()=>{h(!0);const E=setInterval(()=>{},5e3);setTimeout(()=>{clearInterval(E),h(!1)},900*1e3)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Pagamento via Pix"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Escaneie o QR Code ou copie o código Pix para pagar"})]}),a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-700 p-6 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex flex-col items-center",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg mb-4",children:a?e.jsx("img",{src:a,alt:"QR Code Pix",className:"w-64 h-64"}):e.jsx("div",{className:"w-64 h-64 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:e.jsx(G,{className:"h-16 w-16 text-gray-400"})})}),e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 text-center",children:"Escaneie com o app do seu banco"})]}),o&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ou copie o código Pix"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:o,readOnly:!0,className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white font-mono text-sm"}),e.jsx("button",{onClick:w,className:"px-4 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors flex items-center gap-2",children:m?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"Copiado!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"}),e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Copiar"})]})})]})]}),b&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(U,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 animate-spin shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm text-blue-900 dark:text-blue-100",children:"Aguardando pagamento..."}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:"Você será redirecionado automaticamente após a confirmação"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Como pagar:"}),e.jsxs("ol",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1 list-decimal list-inside",children:[e.jsx("li",{children:"Abra o app do seu banco"}),e.jsx("li",{children:"Escolha pagar via Pix"}),e.jsx("li",{children:"Escaneie o QR Code ou cole o código"}),e.jsxs("li",{children:["Confirme o pagamento de R$ ",t.toFixed(2)]})]})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(ce,{className:"h-5 w-5 text-orange-600 dark:text-orange-400 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-orange-800 dark:text-orange-200",children:"Este QR Code expira em 15 minutos. Após esse período, será necessário gerar um novo."})]})]}):e.jsx("button",{onClick:v,disabled:d,className:"w-full bg-[#ff3d03] hover:bg-[#e63700] disabled:bg-gray-400 text-white font-bold py-4 rounded-xl transition-all shadow-lg shadow-orange-500/20 flex items-center justify-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"h-5 w-5 animate-spin"}),"Gerando QR Code..."]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"h-5 w-5"}),"Gerar QR Code Pix"]})})]})}function At({plan:s,price:t,couponCode:r}){const[a,n]=k.useState(null),[o,c]=k.useState(null),[m,i]=k.useState(null),[b,h]=k.useState(!1),{data:y,setData:l,post:j,processing:d}=J({plan:s,payment_method:"boleto",cpf:"",coupon_code:r||""});k.useEffect(()=>{l("coupon_code",r||"")},[r]);const v=E=>{E.preventDefault(),j(route("subscription.process-payment"),{onSuccess:g=>{n(g.boleto_url),c(g.barcode),i(g.due_date)}})},w=()=>{o&&(navigator.clipboard.writeText(o),h(!0),setTimeout(()=>h(!1),2e3))},f=()=>{a&&window.open(a,"_blank")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"Pagamento via Boleto"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"O boleto vence em 3 dias úteis. Após o pagamento, a confirmação pode levar até 2 dias úteis."})]}),a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(T,{className:"h-5 w-5 text-green-600 dark:text-green-400 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm text-green-900 dark:text-green-100",children:"Boleto gerado com sucesso!"}),e.jsxs("p",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:["Vencimento: ",m?new Date(m).toLocaleDateString("pt-BR"):"3 dias"]})]})]}),e.jsxs("button",{onClick:f,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl transition-all shadow-lg flex items-center justify-center gap-2",children:[e.jsx(Ke,{className:"h-5 w-5"}),"Baixar Boleto (PDF)"]}),o&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Código de Barras"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:o,readOnly:!0,className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white font-mono text-sm"}),e.jsx("button",{onClick:w,className:"px-4 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors flex items-center gap-2",children:b?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"Copiado!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"}),e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Copiar"})]})})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Use este código para pagar em qualquer banco ou lotérica"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Como pagar:"}),e.jsxs("ol",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1 list-decimal list-inside",children:[e.jsx("li",{children:"Baixe o boleto em PDF"}),e.jsx("li",{children:"Pague em qualquer banco, lotérica ou app bancário"}),e.jsx("li",{children:"Use o código de barras para facilitar"}),e.jsx("li",{children:"Aguarde até 2 dias úteis para confirmação"})]})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(ce,{className:"h-5 w-5 text-orange-600 dark:text-orange-400 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-orange-900 dark:text-orange-100",children:"Atenção: Pague até a data de vencimento"}),e.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300 mt-1",children:"Após o vencimento, será necessário gerar um novo boleto. Seu acesso será liberado após a confirmação do pagamento."})]})]})]}):e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"CPF ou CNPJ"}),e.jsx("input",{type:"text",value:y.cpf,onChange:E=>{let g=E.target.value.replace(/\D/g,"");g.length<=11?(g=g.replace(/(\d{3})(\d)/,"$1.$2"),g=g.replace(/(\d{3})(\d)/,"$1.$2"),g=g.replace(/(\d{3})(\d{1,2})$/,"$1-$2")):(g=g.replace(/^(\d{2})(\d)/,"$1.$2"),g=g.replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3"),g=g.replace(/\.(\d{3})(\d)/,".$1/$2"),g=g.replace(/(\d{4})(\d)/,"$1-$2")),l("cpf",g)},placeholder:"000.000.000-00 ou 00.000.000/0000-00",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent dark:bg-gray-700 dark:text-white"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Necessário para emissão do boleto"})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-[#ff3d03] hover:bg-[#e63700] disabled:bg-gray-400 text-white font-bold py-4 rounded-xl transition-all shadow-lg shadow-orange-500/20 flex items-center justify-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"h-5 w-5 animate-spin"}),"Gerando Boleto..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-5 w-5"}),"Gerar Boleto"]})})]})]})}const $t=lt("pk_live_51RxXyBK77DLQIVOKpkS5BUAf7pk1mZ7QGEslj8OcX0sGGzEOKdwxexZSKbrEJtAVRs8DiNWtsxnO89bHHavoXiHZ00xRxNVThn");function yr({plan:s,price:t,planName:r,features:a}){const{auth:n}=We().props,[o,c]=k.useState("credit_card"),{data:m,setData:i,post:b,processing:h}=J({plan:s,payment_method:"credit_card",coupon_code:""}),[y,l]=k.useState(""),[j,d]=k.useState(!1),[v,w]=k.useState(""),[f,E]=k.useState(null),g=async()=>{if(y.trim()){d(!0),w("");try{const u=await Qe.post(route("subscription.validate-coupon"),{code:y,plan:s});u.data.valid&&(E({code:u.data.code,discount_type:u.data.discount_type,discount_value:parseFloat(u.data.discount_value)}),i("coupon_code",u.data.code),l(""))}catch(u){w(u.response?.data?.message||"Erro ao validar cupom"),E(null),i("coupon_code","")}finally{d(!1)}}},z=()=>{E(null),i("coupon_code",""),l("")},I=()=>{if(!f)return t;let u=0;return f.discount_type==="percentage"?u=t*(f.discount_value/100):u=f.discount_value,Math.max(0,t-u)},X=[{id:"credit_card",name:"Cartão de Crédito",icon:se,description:"Aprovação instantânea"},{id:"pix",name:"Pix",icon:G,description:"Pagamento via QR Code"},{id:"boleto",name:"Boleto",icon:ne,description:"Vencimento em 3 dias"}];return e.jsxs(Je,{user:n.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:"Checkout Seguro"}),children:[e.jsx(Ve,{title:"Checkout"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-2xl p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 w-12 h-12 rounded-full flex items-center justify-center",children:e.jsx(ee,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white",children:"Pagamento Seguro"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Seus dados estão protegidos"})]})]})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Escolha a forma de pagamento"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:X.map(u=>{const L=u.icon,F=o===u.id;return e.jsxs("button",{type:"button",onClick:()=>{c(u.id),i("payment_method",u.id)},className:`
                                                        relative p-4 rounded-xl border-2 transition-all text-left
                                                        ${F?"border-[#ff3d03] bg-orange-50 dark:bg-orange-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}
                                                    `,children:[e.jsx(L,{className:`h-6 w-6 mb-2 ${F?"text-[#ff3d03]":"text-gray-400"}`}),e.jsx("div",{className:"font-bold text-sm text-gray-900 dark:text-white",children:u.name}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:u.description}),F&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(T,{className:"h-5 w-5 text-[#ff3d03]"})})]},u.id)})})]}),e.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-700 pt-8",children:[o==="credit_card"&&e.jsx(Ie,{stripe:$t,children:e.jsx(Ot,{plan:s,price:t,couponCode:f?.code})}),o==="pix"&&e.jsx(Tt,{plan:s,price:I(),couponCode:f?.code}),o==="boleto"&&e.jsx(At,{plan:s,price:I(),couponCode:f?.code})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-4 w-4"}),e.jsx("span",{children:"SSL Seguro"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsx("span",{children:"PCI Compliant"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),e.jsx("span",{children:"Dados Criptografados"})]})]})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 sticky top-8",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Resumo do Pedido"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:r}),e.jsxs("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:["R$ ",t.toFixed(2)]})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Cobrança mensal"})]}),e.jsxs("div",{className:"mb-6 pb-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Incluído no plano:"}),e.jsx("ul",{className:"space-y-2",children:a?.map((u,L)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(T,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),e.jsx("span",{children:u})]},L))||e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(T,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),e.jsx("span",{children:"Produtos ilimitados"})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(T,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),e.jsx("span",{children:"Pedidos ilimitados"})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(T,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),e.jsx("span",{children:"Suporte prioritário"})]})]})})]}),e.jsxs("div",{className:"mb-6 pb-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider mb-2",children:"Cupom de Desconto"}),f?e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-green-800 dark:text-green-300 font-bold text-sm",children:[e.jsx(me,{className:"h-3.5 w-3.5"}),f.code]}),e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["Desconto de ",f.discount_type==="percentage"?`${f.discount_value}%`:`R$ ${f.discount_value.toFixed(2)}`]})]}),e.jsx("button",{onClick:z,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:e.jsx(Ge,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(me,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",value:y,onChange:u=>l(u.target.value.toUpperCase()),onKeyDown:u=>u.key==="Enter"&&g(),className:"w-full pl-9 pr-3 py-2 text-sm border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-white rounded-lg focus:ring-[#ff3d03] focus:border-[#ff3d03]",placeholder:"Código"})]}),e.jsx("button",{onClick:g,disabled:!y.trim()||j,className:"px-4 py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-lg text-sm font-bold hover:opacity-90 transition-opacity disabled:opacity-50",children:j?e.jsx(U,{className:"w-4 h-4 animate-spin"}):"Aplicar"})]}),v&&e.jsx("p",{className:"text-xs text-red-500 mt-2",children:v})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Total"}),e.jsxs("div",{className:"text-right",children:[f&&e.jsxs("span",{className:"block text-sm text-gray-400 line-through",children:["R$ ",t.toFixed(2)]}),e.jsxs("span",{className:"font-black text-2xl text-gray-900 dark:text-white",children:["R$ ",I().toFixed(2)]})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Próxima cobrança em ",new Date(Date.now()+720*60*60*1e3).toLocaleDateString("pt-BR")]})]}),e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ee,{className:"h-5 w-5 text-green-600 dark:text-green-400 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-sm text-green-900 dark:text-green-100",children:"Garantia de 7 dias"}),e.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:"Cancele a qualquer momento. Sem perguntas, sem burocracia."})]})]})})]})})]})})})]})}export{yr as default};
