import{r as i,j as e,H as v,X as m,a as b}from"./app-Bel1sYVi.js";import{A as C}from"./AuthenticatedLayout-BG14m6fa.js";import{P as S}from"./PageHeader-C6TQTB8P.js";import{P as E}from"./plus-D6k3bBpF.js";import{C as F}from"./check-_P2yz-G7.js";import{P as _}from"./pen-Bk6eOdYT.js";import{T as p}from"./trash-2-B9kETBpB.js";import"./monitor-CzGfHeUw.js";import"./shopping-bag-9Fw7ApGE.js";import"./package-CL-ioFV3.js";import"./image-0Y7fot_I.js";import"./layout-dashboard-B6Mj6lcP.js";import"./credit-card-Cw3viFrd.js";import"./trophy-DAnoweMG.js";import"./ticket-CzgHzPfM.js";import"./store-ThRb288B.js";import"./dollar-sign-BDKfZIof.js";import"./key-BRDzjaHP.js";import"./shield-check-Bfp10-HO.js";import"./log-out-v7FOywi7.js";import"./transition-B7DrhJVu.js";import"./use-sync-refs-DXrNzHjz.js";import"./Modal-BONCTKOh.js";import"./keyboard-DzC_kn31.js";import"./portal-C2eK-3kB.js";import"./with-selector-RL2pCtBY.js";import"./hidden-DPOne3F0.js";import"./truck-BVsUXzbD.js";import"./switch-DM-aI7wB.js";import"./use-resolve-button-type-RcV6F0XU.js";import"./menu-BCE9BQ7l.js";import"./chevron-down-CgjflUTd.js";import"./clock--p9pRg2A.js";import"./menu-dUUyluep.js";import"./search-B98NIQjy.js";import"./useAudio-8IniAMwv.js";import"./bell-DxaDzzw0.js";import"./eye-DAVEdTz5.js";import"./arrow-left-Cx-fLTQL.js";const q={admin:"Administrador",employee:"Funcionário",motoboy:"Motoboy"},A={admin:"bg-red-100 text-red-700",employee:"bg-blue-100 text-blue-700",motoboy:"bg-green-100 text-green-700"};function fe({employees:g,current_user_id:D,can_create_motoboy:l}){const[f,d]=i.useState(!1),[w,n]=i.useState(!1),[x,c]=i.useState(null),[u,h]=i.useState(null),[r,s]=i.useState({name:"",email:"",phone:"",role:"employee",password:"",password_confirmation:""}),[a,o]=i.useState({name:"",email:"",phone:"",role:"employee",is_active:!0}),y=t=>{t.preventDefault(),b.post(route("employees.store"),r,{onSuccess:()=>{d(!1),s({name:"",email:"",phone:"",role:"employee",password:"",password_confirmation:""})}})},j=t=>{t.preventDefault(),x&&b.put(route("employees.update",{employee:x.id}),a,{onSuccess:()=>{n(!1),c(null)}})},k=t=>{c(t),o({name:t.name,email:t.email,phone:t.phone,role:t.role,is_active:t.is_active}),n(!0)},N=t=>{b.delete(route("employees.destroy",{employee:t})),h(null)};return e.jsxs(C,{children:[e.jsx(v,{title:"Gerenciar Funcionários"}),e.jsxs("div",{className:"flex h-full flex-col space-y-8",children:[e.jsx(S,{title:"Funcionários",subtitle:"Gerencie seus funcionários, admins e motoboys."}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-[#ff3d03] hover:bg-[#e63700] text-white px-6 py-3 rounded-xl font-bold transition-all shadow-md shadow-[#ff3d03]/20 hover:shadow-lg hover:shadow-[#ff3d03]/30",children:[e.jsx(E,{className:"w-5 h-5"}),"Novo Funcionário"]})]}),e.jsx("div",{className:"bg-white dark:bg-[#1a1b1e] rounded-2xl border border-gray-200 dark:border-white/5 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-white/5 bg-gray-50 dark:bg-white/[0.02]",children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900 dark:text-white",children:"Nome"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900 dark:text-white",children:"Email"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900 dark:text-white",children:"Telefone"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900 dark:text-white",children:"Cargo"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900 dark:text-white",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold text-gray-900 dark:text-white",children:"Ações"})]})}),e.jsx("tbody",{children:g.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:'Nenhum funcionário cadastrado. Clique em "Novo Funcionário" para adicionar.'})}):g.map(t=>e.jsxs("tr",{className:`border-b border-gray-100 dark:border-white/5 hover:bg-gray-50 dark:hover:bg-white/[0.02] transition-colors ${t.is_current_user?"bg-orange-50 dark:bg-orange-900/10":""}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#ff3d03] to-orange-600 flex items-center justify-center text-white font-bold text-sm",children:t.name.charAt(0).toUpperCase()}),e.jsx("div",{children:e.jsxs("div",{className:"font-bold text-gray-900 dark:text-white",children:[t.name,t.is_current_user&&e.jsx("span",{className:"ml-2 text-xs bg-[#ff3d03] text-white px-2 py-1 rounded-full",children:"Você"})]})})]})}),e.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:t.email}),e.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:t.phone}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold ${A[t.role]}`,children:q[t.role]})}),e.jsx("td",{className:"px-6 py-4",children:t.is_active?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700",children:[e.jsx(F,{className:"w-4 h-4"})," Ativo"]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold bg-gray-100 text-gray-700",children:[e.jsx(m,{className:"w-4 h-4"})," Inativo"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>k(t),className:"p-2 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",title:"Editar",children:e.jsx(_,{className:"w-5 h-5"})}),!t.is_current_user&&e.jsx("button",{onClick:()=>h(t.id),className:"p-2 hover:bg-red-100 text-red-600 rounded-lg transition-colors",title:"Remover",children:e.jsx(p,{className:"w-5 h-5"})}),t.is_current_user&&e.jsx("div",{className:"p-2 opacity-30 cursor-not-allowed",title:"Você não pode se remover",children:e.jsx(p,{className:"w-5 h-5"})})]})})]},t.id))})]})})})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-[#1a1b1e] rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white dark:bg-[#1a1b1e] border-b border-gray-200 dark:border-white/5 px-6 py-4 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Novo Funcionário"}),e.jsx("button",{onClick:()=>d(!1),className:"p-1 hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(m,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Nome *"}),e.jsx("input",{type:"text",value:r.name,onChange:t=>s({...r,name:t.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03]",placeholder:"Nome completo",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:r.email,onChange:t=>s({...r,email:t.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03]",placeholder:"email@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Telefone *"}),e.jsx("input",{type:"tel",value:r.phone,onChange:t=>s({...r,phone:t.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03]",placeholder:"(11) 99999-9999",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Cargo *"}),e.jsxs("select",{value:r.role,onChange:t=>s({...r,role:t.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03] [&>option]:bg-white [&>option]:dark:bg-[#1a1b1e] [&>option]:text-gray-900 [&>option]:dark:text-white",required:!0,children:[e.jsx("option",{value:"employee",className:"bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white",children:"Funcionário"}),e.jsx("option",{value:"admin",className:"bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white",children:"Administrador"}),e.jsxs("option",{value:"motoboy",className:"bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white disabled:text-gray-400",disabled:!l,children:["Motoboy ",!l&&"(Upgrade Necessário)"]})]}),!l&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Para cadastrar motoboys, seu plano precisa ter o recurso habilitado."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Senha *"}),e.jsx("input",{type:"password",value:r.password,onChange:t=>s({...r,password:t.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03]",placeholder:"Mínimo 8 caracteres",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Confirmar Senha *"}),e.jsx("input",{type:"password",value:r.password_confirmation,onChange:t=>s({...r,password_confirmation:t.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03]",placeholder:"Confirme a senha",required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 text-gray-900 dark:text-white font-bold hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 rounded-lg bg-[#ff3d03] hover:bg-[#e63700] text-white font-bold transition-colors",children:"Criar"})]})]})]})}),w&&x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-[#1a1b1e] rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white dark:bg-[#1a1b1e] border-b border-gray-200 dark:border-white/5 px-6 py-4 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Editar Funcionário"}),e.jsx("button",{onClick:()=>{n(!1),c(null)},className:"p-1 hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(m,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:j,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Nome *"}),e.jsx("input",{type:"text",value:a.name,onChange:t=>o({...a,name:t.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03]",placeholder:"Nome completo",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:a.email,onChange:t=>o({...a,email:t.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03]",placeholder:"email@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Telefone *"}),e.jsx("input",{type:"tel",value:a.phone,onChange:t=>o({...a,phone:t.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03]",placeholder:"(11) 99999-9999",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Cargo *"}),e.jsxs("select",{value:a.role,onChange:t=>o({...a,role:t.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03] [&>option]:bg-white [&>option]:dark:bg-[#1a1b1e] [&>option]:text-gray-900 [&>option]:dark:text-white",required:!0,children:[e.jsx("option",{value:"employee",className:"bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white",children:"Funcionário"}),e.jsx("option",{value:"admin",className:"bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white",children:"Administrador"}),e.jsxs("option",{value:"motoboy",className:"bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white disabled:text-gray-400",disabled:!l,children:["Motoboy ",!l&&"(Upgrade Necessário)"]})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.is_active,onChange:t=>o({...a,is_active:t.target.checked}),className:"w-5 h-5 rounded border-gray-200 dark:border-white/10 text-[#ff3d03] focus:ring-[#ff3d03]"}),e.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Funcionário Ativo"})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{n(!1),c(null)},className:"flex-1 px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 text-gray-900 dark:text-white font-bold hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 rounded-lg bg-[#ff3d03] hover:bg-[#e63700] text-white font-bold transition-colors",children:"Salvar"})]})]})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-[#1a1b1e] rounded-2xl max-w-sm w-full",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Remover Funcionário"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Tem certeza que deseja remover este funcionário? Esta ação não pode ser desfeita."}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>h(null),className:"flex-1 px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 text-gray-900 dark:text-white font-bold hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:"Cancelar"}),e.jsx("button",{onClick:()=>N(u),className:"flex-1 px-4 py-2.5 rounded-lg bg-red-600 hover:bg-red-700 text-white font-bold transition-colors",children:"Remover"})]})]})})})]})}export{fe as default};
