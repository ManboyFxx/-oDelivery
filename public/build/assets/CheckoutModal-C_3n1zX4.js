import{r,j as e,f as Ne,X as q,e as i,d as z}from"./app-CCgVoYEQ.js";import{M as Ce}from"./Modal-rsFWo1Ry.js";import{S as _e}from"./sparkles-BdxVYdTs.js";import{G as Y}from"./gift-1wpzltOM.js";import Se from"./AddressForm-C8ZT-sc7.js";import{t as B}from"./index-CEu0ySQD.js";import{A as Pe}from"./arrow-left-COMqi0zl.js";import{C as ie}from"./circle-check-big-BY4tTXLJ.js";import{M}from"./map-pin-CihiAg2i.js";import{W as L}from"./wallet-Ck5zMm5B.js";import{T as Ae}from"./ticket-BYoNT3ck.js";import{C as de}from"./credit-card-DNYgLdhn.js";import{B as Ee}from"./banknote-D4excANe.js";import{L as De}from"./loader-circle-RrWj1FYm.js";import{C as Me}from"./chevron-right-QrR7QbDr.js";import{t as Ie}from"./switch-3Xb6eePU.js";import"./keyboard-BRIR3wlq.js";import"./use-sync-refs-D0Pc_C8j.js";import"./portal-DEyrsJCl.js";import"./with-selector-CQ3QENBX.js";import"./hidden-dfAfSfNn.js";import"./transition-vUlZZAvv.js";import"./TextInput-BczBMDWj.js";import"./InputLabel-Cd-NfE0-.js";import"./PrimaryButton-B8tWqAj6.js";import"./SecondaryButton-DcxQ5Lgq.js";import"./search-DLr_Xhyt.js";import"./use-resolve-button-type-DEV79sNA.js";function Re({points:h,show:u,onComplete:f}){return r.useEffect(()=>{if(u){const o=setTimeout(f,3500);return()=>clearTimeout(o)}},[u,f]),u?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/30 animate-fade-in pointer-events-auto"}),e.jsx("style",{children:`
                @keyframes celebrationBounce {
                    0% {
                        transform: scale(0.5) translateY(20px);
                        opacity: 0;
                    }
                    50% {
                        transform: scale(1.05) rotate(5deg);
                    }
                    100% {
                        transform: scale(1) translateY(0);
                        opacity: 1;
                    }
                }

                @keyframes spin-slowly {
                    0%, 100% { transform: rotate(0deg); }
                    50% { transform: rotate(10deg) scaleY(1.1); }
                }

                @keyframes pulse-glow {
                    0%, 100% { box-shadow: 0 0 20px rgba(255, 61, 3, 0.5); }
                    50% { box-shadow: 0 0 40px rgba(255, 61, 3, 0.8); }
                }

                @keyframes float-up {
                    0% {
                        opacity: 1;
                        transform: translateY(0);
                    }
                    100% {
                        opacity: 0;
                        transform: translateY(-100px);
                    }
                }

                .celebration-card {
                    animation: celebrationBounce 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
                }

                .celebration-icon {
                    animation: spin-slowly 2s ease-in-out infinite;
                }

                .celebration-glow {
                    animation: pulse-glow 1.5s ease-in-out infinite;
                }

                .floating-points {
                    animation: float-up 2s ease-out forwards;
                }
            `}),e.jsx("div",{className:"celebration-card relative z-10",children:e.jsxs("div",{className:"bg-gradient-to-br from-orange-400 via-orange-500 to-pink-500 rounded-3xl p-8 shadow-2xl celebration-glow text-center max-w-sm w-full",children:[e.jsx("div",{className:"absolute inset-0 rounded-3xl overflow-hidden",children:[...Array(6)].map((o,n)=>e.jsx(_e,{className:"absolute h-6 w-6 text-white/40",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animation:`float-up ${2+Math.random()*1}s ease-out forwards`,animationDelay:`${n*.2}s`}},n))}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"celebration-icon mb-4",children:e.jsx(Y,{className:"h-16 w-16 mx-auto text-white drop-shadow-lg"})}),e.jsx("h2",{className:"text-3xl md:text-4xl font-black text-white mb-2 drop-shadow-lg",children:"Parab√©ns!"}),e.jsxs("div",{className:"text-white",children:[e.jsxs("p",{className:"text-5xl font-black mb-2 drop-shadow-lg",children:["+",h]}),e.jsx("p",{className:"text-lg font-bold drop-shadow-lg",children:"pontos!"})]}),e.jsx("p",{className:"text-white/90 text-sm mt-3 drop-shadow-lg",children:"Voc√™ est√° acumulando pr√™mios üéâ"})]})]})}),[...Array(8)].map((o,n)=>e.jsx("div",{className:"absolute floating-points pointer-events-none",style:{left:`calc(50% + ${(n-4)*30}px)`,top:"50%",animationDelay:`${n*.1}s`},children:e.jsxs("span",{className:"text-2xl font-black text-orange-500",children:["+",Math.floor(h/4)]})},n))]}):null}function xt({show:h,onClose:u,cart:f,store:o,customer:n,total:le,addresses:I,onSuccess:Te}){const[s,w]=r.useState("delivery"),[d,U]=r.useState("delivery"),[x,W]=r.useState(I),[l,v]=r.useState(""),[R,k]=r.useState(!1),[g,ce]=r.useState("credit_card"),[N,xe]=r.useState(""),[C,_]=r.useState(!1),[G,p]=r.useState(""),[me,X]=r.useState(!1),[ue,ge]=r.useState(0),[S,O]=r.useState(""),[m,H]=r.useState(null),[J,P]=r.useState(""),[he,K]=r.useState(!1),[b,fe]=r.useState(!1),[pe,Q]=r.useState(0),[Z,ee]=r.useState(0),[te,T]=r.useState(!1),[F,be]=r.useState(""),{success:A}=Ne();r.useEffect(()=>{W(I)},[I]),r.useEffect(()=>{if(h&&x.length>0&&!l){const t=x.find(a=>a.is_default);v(t?t.id:x[0].id)}},[h,x,l]);const re=d==="delivery"?o.settings?.delivery_fee||5:0,$=(m&&m.discount_amount||0)+Z,y=le,V=Math.max(0,y+re-$),ae=r.useMemo(()=>!o?.loyalty_enabled||!o?.settings?.points_per_currency?0:Math.ceil(y*o.settings.points_per_currency),[y,o]),c=t=>`R$ ${t.toFixed(2).replace(".",",")}`,ye=()=>{if(s==="delivery"){if(d==="delivery"&&!l){p("Selecione um endere√ßo para entrega.");return}p(""),w("payment")}else if(s==="payment"){if(g==="cash"&&N&&parseFloat(N.replace(",","."))<V){p("O valor do troco deve ser maior que o total.");return}p(""),w("review")}},se=()=>{s==="review"?w("payment"):s==="payment"&&w("delivery")},oe=async()=>{_(!0),p("");try{const t={tenant_id:o.settings.tenant_id,customer_id:n.id,mode:d,address_id:d==="delivery"?l:null,payment_method:g,change_for:g==="cash"?parseFloat(N.replace(",",".")):null,coupon_id:m?.id||null,loyalty_points_used:b?pe:0,items:f.map(D=>({product_id:D.product.id,quantity:D.quantity,notes:D.notes,complements:D.selectedComplements.map(ne=>({id:ne.optionId||ne.id,quantity:1}))}))},a=await z.post("/customer/checkout",t),j=`/${window.location.pathname.split("/")[1]}/orders/${a.data.order_id}`;a.data.loyalty_points_earned>0?(ge(a.data.loyalty_points_earned),X(!0),setTimeout(()=>{A("Pedido Realizado!","Redirecionando para acompanhamento..."),window.location.href=j},3500)):(A("Pedido Realizado!","Redirecionando para acompanhamento..."),setTimeout(()=>{window.location.href=j},1500))}catch(t){console.error(t),t.response?.status===403&&t.response?.data?.requires_identity_verification?(T(!0),B.warning("Confirme sua identidade para continuar.")):p(t.response?.data?.message||"Erro ao processar pedido.")}finally{_(!1)}},je=async t=>{t.preventDefault(),_(!0);try{let a=localStorage.getItem("device_fingerprint");a||(a="device-"+Math.random().toString(36).substring(2)+Date.now().toString(36),localStorage.setItem("device_fingerprint",a)),(await z.post("/customer/quick-login",{phone_last_4:F,customer_id:n.id,device_fingerprint:a})).data.success&&(B.success("Identidade confirmada!"),T(!1),oe())}catch(a){console.error(a),B.error(a.response?.data?.message||"D√≠gitos incorretos.")}finally{_(!1)}},we=async()=>{if(S.trim()){K(!0),P("");try{const t=await z.post("/api/validate-coupon",{code:S,cart_total:y,tenant_id:o.tenant_id||window.location.pathname.split("/")[1]});t.data.valid?(H({...t.data.coupon,discount_amount:t.data.discount}),A("Cupom Aplicado!",t.data.message),O("")):P(t.data.message||"Cupom inv√°lido")}catch(t){P(t.response?.data?.message||"Erro ao validar cupom")}finally{K(!1)}}},ve=t=>{W(a=>[...a,t]),v(t.id),k(!1)},ke=()=>e.jsxs("div",{className:"flex justify-between items-center mb-6 px-2",children:[[{id:"delivery",label:"Entrega",icon:M},{id:"payment",label:"Pagamento",icon:L},{id:"review",label:"Confirma√ß√£o",icon:ie}].map((t,a)=>{const E=t.id===s,j=s==="payment"&&a===0||s==="review"&&a<=1;return e.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[e.jsx("div",{className:i("w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 border-2",E?"bg-[#ff3d03] border-[#ff3d03] text-white shadow-lg scale-110":j?"bg-green-500 border-green-500 text-white":"bg-white dark:bg-premium-card border-gray-300 dark:border-gray-700 text-gray-400 dark:text-gray-500"),children:e.jsx(t.icon,{className:"w-5 h-5"})}),e.jsx("span",{className:i("text-xs font-semibold mt-2 transition-colors duration-300",E?"text-[#ff3d03]":j?"text-green-600 dark:text-green-400":"text-gray-400 dark:text-gray-500"),children:t.label})]},t.id)}),e.jsx("div",{className:"absolute top-[4.5rem] left-10 right-10 h-0.5 bg-gray-200 dark:bg-gray-700 -z-0 transition-colors duration-300"}),e.jsx("div",{className:i("absolute top-[4.5rem] left-10 h-0.5 bg-green-500 transition-all duration-300 -z-0",s==="delivery"?"w-0":s==="payment"?"w-1/2":"w-[calc(100%-5rem)]")})]});return e.jsxs(Ce,{show:h,onClose:u,maxWidth:"md",children:[e.jsx(Re,{points:ue,show:me,onComplete:()=>X(!1)}),e.jsxs("div",{className:"p-6 min-h-[500px] flex flex-col bg-white dark:bg-premium-dark transition-colors duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s!=="delivery"?e.jsx("button",{onClick:se,className:"p-1 hover:bg-gray-100 dark:hover:bg-white/10 rounded-full transition-colors duration-300",children:e.jsx(Pe,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})}):e.jsx("div",{}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white transition-colors duration-300",children:te?"Confirma√ß√£o de Seguran√ßa":e.jsxs(e.Fragment,{children:[s==="delivery"&&"Entrega ou Retirada",s==="payment"&&"Pagamento",s==="review"&&"Resumo do Pedido"]})}),e.jsx("button",{onClick:u,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-300",children:e.jsx(q,{className:"h-6 w-6"})})]}),te?e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[e.jsx("div",{className:"w-16 h-16 bg-orange-100 dark:bg-orange-900/20 rounded-full flex items-center justify-center mb-4 transition-colors duration-300",children:e.jsx(ie,{className:"w-8 h-8 text-[#ff3d03]"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2 text-center transition-colors duration-300",children:"Protegendo sua conta"}),e.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-center text-sm mb-6 transition-colors duration-300",children:["Para continuar, confirme os ",e.jsx("strong",{children:"4 √∫ltimos d√≠gitos"})," do seu telefone."]}),e.jsxs("form",{onSubmit:je,className:"w-full max-w-xs space-y-4",children:[e.jsx("input",{type:"text",value:F,onChange:t=>be(t.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"0000",className:"w-full text-center text-2xl font-bold tracking-widest py-3 border-2 border-gray-200 dark:border-gray-700 dark:bg-white/5 dark:text-white rounded-xl focus:border-[#ff3d03] dark:focus:border-[#ff3d03] focus:ring-0 outline-none transition-all duration-300",autoFocus:!0}),e.jsx("button",{type:"submit",disabled:C||F.length<4,className:"w-full bg-[#ff3d03] hover:bg-[#e63700] text-white font-bold py-3 rounded-xl transition-colors disabled:opacity-50",children:C?"Verificando...":"Confirmar"}),e.jsx("button",{type:"button",onClick:()=>T(!1),className:"w-full text-gray-400 dark:text-gray-500 font-medium text-sm hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-300",children:"Cancelar"})]})]}):e.jsxs(e.Fragment,{children:[!R&&ke(),e.jsxs("div",{className:"flex-1 overflow-y-auto max-h-[60vh] px-1 py-1",children:[G&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 rounded-lg mb-4 text-sm font-medium flex items-center gap-2 transition-colors duration-300",children:[e.jsx(q,{className:"w-4 h-4"})," ",G]}),R?e.jsx(Se,{onCancel:()=>k(!1),onSuccess:ve,tenantId:o.settings.tenant_id,customerId:n.id}):e.jsxs(e.Fragment,{children:[s==="delivery"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>U("delivery"),className:i("p-4 rounded-xl border-2 font-bold transition-all flex flex-col items-center gap-2 duration-300",d==="delivery"?"border-[#ff3d03] bg-orange-50 dark:bg-[#ff3d03]/10 text-[#ff3d03]":"border-gray-200 dark:border-gray-700 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-600"),children:[e.jsx(M,{className:"w-6 h-6"}),"Entrega"]}),e.jsxs("button",{onClick:()=>U("pickup"),className:i("p-4 rounded-xl border-2 font-bold transition-all flex flex-col items-center gap-2 duration-300",d==="pickup"?"border-[#ff3d03] bg-orange-50 dark:bg-[#ff3d03]/10 text-[#ff3d03]":"border-gray-200 dark:border-gray-700 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-600"),children:[e.jsx("div",{className:"w-6 h-6 relative",children:e.jsx(L,{className:"absolute w-full h-full"})}),"Retirada"]})]}),d==="delivery"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-premium-dark transition-colors duration-300",children:[e.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 transition-colors duration-300",children:"Selecione o Endere√ßo"}),e.jsx("button",{onClick:()=>k(!0),className:"text-sm font-bold text-[#ff3d03] hover:underline",children:"+ Novo Endere√ßo"})]}),x.length===0?e.jsxs("div",{className:"text-center py-6 bg-gray-50 dark:bg-white/5 rounded-xl border-2 border-dashed border-gray-200 dark:border-gray-700 transition-colors duration-300",children:[e.jsx(M,{className:"w-8 h-8 text-gray-300 dark:text-gray-600 mx-auto mb-2 transition-colors duration-300"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2 transition-colors duration-300",children:"Nenhum endere√ßo cadastrado"}),e.jsx("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-white dark:bg-white/10 border border-gray-300 dark:border-white/10 rounded-lg text-sm font-medium hover:bg-gray-50 dark:hover:bg-white/20 text-gray-900 dark:text-white transition-colors duration-300",children:"Cadastrar Agora"})]}):x.map(t=>e.jsx("div",{onClick:()=>v(t.id),className:i("p-4 rounded-xl border-2 cursor-pointer transition-all flex items-start justify-between group duration-300",l===t.id?"border-[#ff3d03] bg-orange-50/50 dark:bg-[#ff3d03]/10":"border-gray-100 dark:border-gray-700 bg-white dark:bg-white/5 hover:border-gray-200 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-white/10"),children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:i("mt-1 w-5 h-5 rounded-full border flex items-center justify-center flex-shrink-0 transition-colors duration-300",l===t.id?"border-[#ff3d03] bg-[#ff3d03]":"border-gray-300 dark:border-gray-600"),children:l===t.id&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-gray-900 dark:text-white transition-colors duration-300",children:[t.street,", ",t.number]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300",children:[t.neighborhood," - ",t.city]}),t.complement&&e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-0.5 transition-colors duration-300",children:t.complement})]})]})},t.id))]})]}),s==="payment"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5 transition-colors duration-300",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2 text-sm transition-colors duration-300",children:[e.jsx(Ae,{className:"h-4 w-4 text-[#ff3d03]"}),"Cupom de Desconto"]}),m?e.jsxs("div",{className:"bg-white dark:bg-white/5 border border-green-200 dark:border-green-800/50 rounded-lg p-3 flex justify-between items-center shadow-sm transition-colors duration-300",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-green-700 dark:text-green-400 text-sm transition-colors duration-300",children:["‚úì ",m.code]}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-500/80 transition-colors duration-300",children:["Desconto de ",m.discount_type==="fixed"?c(m.discount_value):`${m.discount_value}%`]})]}),e.jsx("button",{onClick:()=>H(null),className:"text-gray-400 dark:text-gray-500 hover:text-red-500 dark:hover:text-red-400 transition-colors duration-300",children:e.jsx(q,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:S,onChange:t=>{O(t.target.value),P("")},placeholder:"C√≥digo do cupom",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-white/5 dark:text-white rounded-lg text-sm focus:ring-[#ff3d03] focus:border-[#ff3d03] transition-colors duration-300"}),e.jsx("button",{onClick:we,disabled:he||!S,className:"bg-gray-900 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-800 disabled:opacity-50",children:"Aplicar"})]}),J&&e.jsx("p",{className:"text-xs text-red-500 mt-2",children:J})]}),o?.loyalty_enabled&&n?.loyalty_points>0&&e.jsxs("div",{className:i("p-4 rounded-xl border transition-all duration-300",b?"bg-orange-50 dark:bg-[#ff3d03]/10 border-orange-200 dark:border-[#ff3d03]/30":"bg-gray-50 dark:bg-white/5 border-gray-100 dark:border-white/5"),children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2 text-sm transition-colors duration-300",children:[e.jsx(Y,{className:"h-4 w-4 text-orange-500"}),"Abater com Pontos"]}),e.jsx(Ie,{checked:b,onChange:t=>{if(fe(t),t){const a=n.loyalty_points*(o.settings?.currency_per_point||.1);Q(n.loyalty_points),ee(a),A("Pontos Aplicados!",`Desconto de ${c(a)} adicionado.`)}else Q(0),ee(0)},className:i("relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",b?"bg-[#ff3d03]":"bg-gray-200"),children:e.jsx("span",{className:i("inline-block h-4 w-4 transform rounded-full bg-white transition-transform",b?"translate-x-6":"translate-x-1")})})]}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:["Saldo: ",e.jsxs("span",{className:"font-bold",children:[n.loyalty_points," pontos"]})]}),e.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 transition-colors duration-300",children:["1 ponto = ",c(o.settings?.currency_per_point||.1)]})]}),b&&e.jsxs("p",{className:"text-sm font-bold text-orange-600",children:["-",c(Z)]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-3 transition-colors duration-300",children:"Forma de Pagamento"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{id:"credit_card",label:"Cr√©dito",sub:"Maquininha",icon:de},{id:"debit_card",label:"D√©bito",sub:"Maquininha",icon:de},{id:"pix",label:"PIX",sub:"Na entrega",icon:L},{id:"cash",label:"Dinheiro",sub:"Esp√©cie",icon:Ee}].map(t=>e.jsxs("div",{onClick:()=>ce(t.id),className:i("p-3 rounded-xl border-2 cursor-pointer transition-all flex flex-col items-center text-center gap-2 hover:shadow-md duration-300",g===t.id?"border-[#ff3d03] bg-orange-50 dark:bg-[#ff3d03]/10 shadow-sm":"border-gray-100 dark:border-gray-700 bg-white dark:bg-white/5 hover:border-gray-200 dark:hover:border-gray-600"),children:[e.jsx(t.icon,{className:i("w-6 h-6 transition-colors duration-300",g===t.id?"text-[#ff3d03]":"text-gray-400 dark:text-gray-500")}),e.jsxs("div",{children:[e.jsx("p",{className:i("font-bold text-sm transition-colors duration-300",g===t.id?"text-[#ff3d03]":"text-gray-700 dark:text-gray-200"),children:t.label}),e.jsx("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 transition-colors duration-300",children:t.sub})]})]},t.id))})]}),g==="cash"&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 transition-colors duration-300",children:"Troco para quanto?"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"R$"}),e.jsx("input",{type:"text",value:N,onChange:t=>xe(t.target.value),placeholder:"0,00",className:"w-full pl-9 px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-white/5 dark:text-white rounded-lg focus:ring-[#ff3d03] focus:border-[#ff3d03] transition-colors duration-300"})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 transition-colors duration-300",children:["Total do pedido: ",c(V)]})]})]}),s==="review"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-premium-card border border-gray-200 dark:border-white/5 rounded-xl shadow-sm overflow-hidden transition-colors duration-300",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 px-4 py-3 border-b border-gray-100 dark:border-white/5 flex justify-between items-center transition-colors duration-300",children:[e.jsx("h3",{className:"font-bold text-gray-800 dark:text-white transition-colors duration-300",children:"Resumo do Pedido"}),e.jsxs("span",{className:"text-xs font-medium bg-gray-200 dark:bg-white/10 px-2 py-1 rounded-full text-gray-600 dark:text-gray-300 transition-colors duration-300",children:[f.length," itens"]})]}),e.jsx("div",{className:"p-4 space-y-3 max-h-40 overflow-y-auto",children:f.map((t,a)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:"font-bold text-gray-900 dark:text-white transition-colors duration-300",children:[t.quantity,"x"]}),e.jsx("span",{className:"text-gray-600 dark:text-gray-300 line-clamp-1 transition-colors duration-300",children:t.product.name})]}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium transition-colors duration-300",children:c(t.subtotal)})]},a))})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl text-sm text-blue-800 dark:text-blue-300 transition-colors duration-300",children:[e.jsx(M,{className:"w-5 h-5 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:d==="delivery"?"Entrega em:":"Retirada em Loja"}),d==="delivery"&&l?e.jsxs("p",{className:"opacity-90",children:[x.find(t=>t.id===l)?.street,", ",x.find(t=>t.id===l)?.number]}):e.jsx("p",{className:"opacity-90",children:"Retirar no balc√£o."})]})]}),ae>0&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/10 dark:to-orange-900/10 rounded-xl border border-yellow-100 dark:border-yellow-900/20 transition-colors duration-300",children:[e.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 p-1.5 rounded-full text-yellow-600 dark:text-yellow-400 transition-colors duration-300",children:e.jsx(Y,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-bold text-yellow-800 dark:text-yellow-400 transition-colors duration-300",children:["Voc√™ ganhar√° ",ae," pontos!"]}),e.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-500/80 transition-colors duration-300",children:"Neste pedido"})]})]}),e.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-100 dark:border-white/5 transition-colors duration-300",children:[e.jsxs("div",{className:"flex justify-between text-gray-500 dark:text-gray-400 text-sm transition-colors duration-300",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{children:c(y)})]}),d==="delivery"&&e.jsxs("div",{className:"flex justify-between text-gray-500 dark:text-gray-400 text-sm transition-colors duration-300",children:[e.jsx("span",{children:"Taxa de Entrega"}),e.jsx("span",{children:c(re)})]}),$>0&&e.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400 text-sm font-medium transition-colors duration-300",children:[e.jsx("span",{children:"Desconto"}),e.jsxs("span",{children:["- ",c($)]})]}),e.jsxs("div",{className:"flex justify-between items-end pt-2 mt-2 border-t border-gray-100 dark:border-white/5 transition-colors duration-300",children:[e.jsx("span",{className:"text-gray-900 dark:text-white font-bold transition-colors duration-300",children:"Total Final"}),e.jsx("span",{className:"text-2xl font-black text-[#ff3d03]",children:c(V)})]})]})]})]})]}),!R&&e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100 dark:border-white/5 flex gap-3 transition-colors duration-300",children:[s!=="delivery"?e.jsx("button",{onClick:se,className:"flex-1 px-4 py-3 bg-gray-100 dark:bg-white/10 text-gray-700 dark:text-gray-300 font-bold rounded-xl hover:bg-gray-200 dark:hover:bg-white/20 transition-colors duration-300",children:"Voltar"}):e.jsx("button",{onClick:u,className:"flex-1 px-4 py-3 bg-gray-100 dark:bg-white/10 text-gray-700 dark:text-gray-300 font-bold rounded-xl hover:bg-gray-200 dark:hover:bg-white/20 transition-colors duration-300",children:"Cancelar"}),s==="review"?e.jsx("button",{onClick:oe,disabled:C,className:"flex-[2] bg-[#ff3d03] hover:bg-[#e63700] text-white font-bold py-3 px-4 rounded-xl transition-colors flex items-center justify-center gap-2 shadow-lg shadow-orange-200 disabled:opacity-70",children:C?e.jsx(De,{className:"animate-spin"}):"Confirmar Pedido"}):e.jsxs("button",{onClick:ye,className:"flex-[2] bg-[#ff3d03] hover:bg-[#e63700] text-white font-bold py-3 px-4 rounded-xl transition-colors flex items-center justify-center gap-2 shadow-lg shadow-orange-200",children:["Continuar ",e.jsx(Me,{className:"w-5 h-5"})]})]})]})]})]})}export{xt as default};
