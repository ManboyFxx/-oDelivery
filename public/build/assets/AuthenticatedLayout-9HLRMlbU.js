import{c as w,b as O,f as q,r as l,j as e,e as C,X,L as E,a as D,g as Y}from"./app-HqVB7QPj.js";import{M as ee,C as te}from"./monitor-Bn_p-FLs.js";import{S as re}from"./shopping-bag-BekSJ6CZ.js";import{P as ae}from"./package-DpPNOKeM.js";import{I as se}from"./image-CceDjAgC.js";import{L as U,C as G}from"./layout-dashboard-DxBFrjz4.js";import{C as ne}from"./credit-card-zwRdo0o8.js";import{T as oe}from"./trophy-B4uvjOM1.js";import{T as V}from"./ticket-BCX58JOT.js";import{S as L}from"./store-Twdi2VKB.js";import{D as ie}from"./dollar-sign-Bbq3Cf95.js";import{K as le}from"./key-CZcQeJ6_.js";import{S as de}from"./shield-check-Dqc14Puo.js";import{L as ce}from"./log-out-CqWD_LeO.js";import{K as J}from"./transition-CcpghaaQ.js";import{M as me}from"./Modal-sjGawRgm.js";import{T as ue}from"./truck-wGVx3j7U.js";import{t as xe}from"./switch-CodGa6ek.js";import{l as P}from"./menu-BzXcPbmP.js";import{C as Z}from"./chevron-down-CQ6vzind.js";import{C as F}from"./clock-BWQnPzpU.js";import{M as pe}from"./menu-DjqcCfV2.js";import{S as he}from"./search-tUfSrsRh.js";import{S as ge,M as fe}from"./sun-e0CjAi-7.js";import{B as be}from"./bell-D8nnMj-_.js";import{E as ye}from"./eye-BdKdMqbj.js";import{A as je}from"./arrow-left-DuRqIwUU.js";import{L as ve}from"./lock-C7IJsBBA.js";const ke=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],H=w("book-open",ke);const we=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Ne=w("box",we);const Ce=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Se=w("chef-hat",Ce);const Me=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],K=w("circle-pause",Me);const Pe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_e=w("download",Pe);const Ae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],De=w("life-buoy",Ae);const Le=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],W=w("message-square",Le);const Oe=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ie=w("user-cog",Oe);const Te=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$e=w("users",Te);function Fe({isOpen:s,onClose:r}){const{url:d,props:c}=O(),u=c.auth.user,b=c.tenant,{info:x}=q(),[p,h]=l.useState(!1),g=l.useRef(null);l.useEffect(()=>{const n=g.current;if(!n)return;const i=sessionStorage.getItem("sidebar-scroll-position");i&&(n.scrollTop=parseInt(i,10));const m=()=>{sessionStorage.setItem("sidebar-scroll-position",n.scrollTop.toString())};return n.addEventListener("scroll",m),()=>n.removeEventListener("scroll",m)},[]);const t=n=>d.startsWith(n);l.useEffect(()=>{h(!1),r?.()},[d]);const j=(n,i)=>{if(b?.subscription_status==="pending"){const m=["subscription.index","logout"],k=i||"";if(k&&!m.includes(k)){n.preventDefault(),x("Acesso Bloqueado","Conclua o pagamento para liberar todas as funcionalidades.");return}}h(!1),r?.()},f=[{title:"Operação",items:[{name:"PDV / Caixa",href:route("pdv.index"),route:"pdv.index",icon:ee,current:t("/pdv")},{name:"Pedidos",href:route("orders.index"),route:"orders.index",icon:re,current:t("/orders")},{name:"Cozinha (KDS)",href:route("kitchen.index"),route:"kitchen.index",icon:Se,current:t("/kitchen")},{name:"Estoque",href:route("stock.index"),route:"stock.index",icon:Ne,current:t("/estoque")}]},{title:"Cardápio",items:[{name:"Gestão de Cardápio",href:route("menu.index"),route:"menu.index",icon:H,current:t("/cardapio")},{name:"Produtos",href:route("products.index"),route:"products.index",icon:ae,current:t("/products")},{name:"Banco de Imagens",href:route("media.index"),route:"media.index",icon:se,current:t("/media")}]}],S=[{title:"Visão Geral",items:[{name:"Dashboard",href:route("dashboard"),route:"dashboard",icon:U,current:t("/dashboard")},{name:"Minha Assinatura",href:route("subscription.index"),route:"subscription.index",icon:ne,current:t("/subscription")}]},{title:"Gestão",items:[{name:"Clientes",href:route("customers.index"),route:"customers.index",icon:$e,current:t("/customers")},{name:"Equipe",href:route("employees.index"),route:"employees.index",icon:Ie,current:t("/employees")},{name:"Fidelidade",href:route("loyalty.index"),route:"loyalty.index",icon:oe,current:t("/fidelidade")},{name:"Financeiro",href:route("financial.index"),route:"financial.index",icon:G,current:t("/financeiro")}]},{title:"Marketing",items:[{name:"Cupons",href:route("coupons.index"),route:"coupons.index",icon:V,current:t("/coupons")},{name:"WhatsApp",href:route("whatsapp.index"),route:"whatsapp.index",icon:W,current:t("/whatsapp")}]},{title:"Configurações",items:[{name:"Loja",href:route("settings.index"),route:"settings.index",icon:L,current:t("/settings")}]},{title:"Sistema",items:[{name:"Apps & Downloads",href:route("system.downloads"),route:"system.downloads",icon:_e,current:t("/sistema/downloads")}]}],a={title:"Ajuda",items:[{name:"Suporte",href:route("support.index"),route:"support.index",icon:De,current:t("/painel/suporte")}]},y=u.role==="admin"?[...f,...S,a]:[...f,a],v=[{title:"Administração",items:[{name:"Dashboard",href:route("admin.dashboard"),route:"admin.dashboard",icon:U,current:t("/admin/dashboard")},{name:"Tenants",href:route("admin.tenants.index"),route:"admin.tenants.index",icon:L,current:t("/admin/tenants")},{name:"Finanças",href:route("admin.financial.index"),route:"admin.financial.index",icon:ie,current:t("/admin/financial")},{name:"Cupons de Plano",href:route("admin.plan-coupons.index"),route:"admin.plan-coupons.index",icon:V,current:t("/admin/plan-coupons")}]},{title:"Sistema",items:[{name:"API Keys",href:route("admin.api-keys.index"),route:"admin.api-keys.index",icon:le,current:t("/admin/api-keys")},{name:"WhatsApp Master",href:route("admin.whatsapp.index"),route:"admin.whatsapp.index",icon:W,current:t("/admin/whatsapp")&&!t("/admin/whatsapp/templates")},{name:"Templates Padrão",href:route("admin.whatsapp.templates.index"),route:"admin.whatsapp.templates.index",icon:H,current:t("/admin/whatsapp/templates")},{name:"Logs de Segurança",href:route("admin.logs.security"),route:"admin.logs.security",icon:de,current:t("/admin/logs")}]}],_=u.role==="super_admin"?v:y,o=c.tenant?.limits;return e.jsxs(e.Fragment,{children:[(s||p)&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm lg:hidden transition-opacity",onClick:()=>{h(!1),r?.()}}),e.jsxs("aside",{className:C("fixed inset-y-0 left-0 z-50 flex h-screen w-72 flex-col justify-between border-r border-white/5 bg-[#0a0a0a] selection:bg-orange-500/20 transition-transform duration-300 ease-out",s||p?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[e.jsxs("div",{className:"flex-none pt-8 pb-6 px-6 bg-[#0a0a0a]",children:[e.jsx("div",{className:"flex items-center gap-4 px-2",children:e.jsxs("div",{className:"flex flex-col w-full gap-1",children:[e.jsx("img",{src:"/images/logo.png",alt:"ÓoDelivery",className:"h-14 w-auto object-contain mx-auto mb-2"}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]",children:"Painel Gestor"})})]})}),e.jsx("button",{onClick:()=>{h(!1),r?.()},className:"lg:hidden absolute top-4 right-4 p-2 rounded-lg hover:bg-white/10 text-white/60 hover:text-white transition-colors",children:e.jsx(X,{className:"h-5 w-5"})})]}),e.jsx("div",{ref:g,className:"flex-1 overflow-y-auto px-4 py-2 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent hover:scrollbar-thumb-white/20",children:e.jsx("nav",{className:"flex flex-col gap-6 pb-6",children:_.map((n,i)=>e.jsxs("div",{children:[n.title&&e.jsx("h3",{className:C("mb-2 px-4 text-[10px] font-black uppercase tracking-widest",n.title==="Sistema"?"text-cyan-500/80":"text-white/30"),children:n.title}),e.jsx("div",{className:"space-y-1",children:n.items.map(m=>{const k=m.name==="Apps & Downloads";return e.jsxs(E,{href:m.href,onClick:A=>j(A,m.route),className:C("group relative flex items-center gap-3 rounded-2xl px-4 py-3 text-sm font-bold transition-all duration-200",m.current?k?"bg-cyan-500/10 text-cyan-400":"bg-[#ff3d03]/10 text-[#ff3d03]":"text-gray-400 hover:bg-white/5 hover:text-white"),children:[m.current&&e.jsx("div",{className:C("absolute left-0 top-1/2 -translate-y-1/2 h-8 w-1 rounded-r-full",k?"bg-cyan-400":"bg-[#ff3d03]")}),e.jsx(m.icon,{className:C("h-5 w-5 transition-transform duration-200 group-hover:scale-110",m.current?k?"text-cyan-400":"text-[#ff3d03]":"text-gray-500 group-hover:text-white")}),e.jsx("span",{className:"relative z-10 font-bold tracking-wide",children:m.name}),!m.current&&e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]},m.name)})})]},i))})}),o&&o.products&&o.orders&&e.jsxs("div",{className:"mx-4 mb-2 p-4 rounded-2xl bg-white/5 border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 opacity-60",children:[e.jsx(G,{size:14,className:"text-white"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-white",children:"Consumo do Plano"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 mb-1",children:[e.jsx("span",{children:"Produtos"}),e.jsxs("span",{children:[o.products.used," / ",o.products.max??"∞"]})]}),o.products.max?e.jsx("div",{className:"h-1.5 w-full bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:C("h-full rounded-full transition-all duration-500",o.products.used/o.products.max>.9?"bg-red-500":"bg-[#ff3d03]"),style:{width:`${Math.min(o.products.used/o.products.max*100,100)}%`}})}):e.jsx("span",{className:"text-[10px] text-green-400 font-bold",children:"Ilimitado"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 mb-1",children:[e.jsx("span",{children:"Pedidos (Mês)"}),e.jsxs("span",{children:[o.orders.used," / ",o.orders.max??"∞"]})]}),o.orders.max?e.jsx("div",{className:"h-1.5 w-full bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:C("h-full rounded-full transition-all duration-500",o.orders.used/o.orders.max>.9?"bg-red-500":"bg-blue-500"),style:{width:`${Math.min(o.orders.used/o.orders.max*100,100)}%`}})}):e.jsx("span",{className:"text-[10px] text-green-400 font-bold",children:"Ilimitado"})]})]}),e.jsxs("div",{className:"flex-none p-4 bg-[#0a0a0a] border-t border-white/5",children:[e.jsxs(E,{href:route("logout"),onClick:n=>j(n,"logout"),method:"post",as:"button",className:"group flex w-full items-center gap-3 rounded-2xl px-4 py-3 text-sm font-bold text-gray-400 hover:bg-red-500/10 hover:text-red-500 transition-all duration-200",children:[e.jsx(ce,{className:"h-5 w-5 transition-transform group-hover:-translate-x-1"}),e.jsx("span",{children:"Sair do Sistema"})]}),e.jsxs("div",{className:"mt-4 px-2 flex justify-between items-center opacity-30 hover:opacity-100 transition-opacity",children:[e.jsx("span",{className:"text-[10px] font-medium text-white",children:"v4.0.0 Pro"}),e.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-green-500 animate-pulse"})]})]})]})]})}const z=l.createContext({open:!1,setOpen:()=>{},toggleOpen:()=>{}}),N=({children:s})=>{const[r,d]=l.useState(!1),c=()=>{d(u=>!u)};return e.jsx(z.Provider,{value:{open:r,setOpen:d,toggleOpen:c},children:e.jsx("div",{className:"relative",children:s})})},Ee=({children:s})=>{const{open:r,setOpen:d,toggleOpen:c}=l.useContext(z);return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:c,children:s}),r&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)})]})},qe=({align:s="right",width:r="48",contentClasses:d="py-1 bg-white dark:bg-gray-700",children:c})=>{const{open:u,setOpen:b}=l.useContext(z);let x="origin-top";s==="left"?x="ltr:origin-top-left rtl:origin-top-right start-0":s==="right"&&(x="ltr:origin-top-right rtl:origin-top-left end-0");let p="";return r==="48"&&(p="w-48"),e.jsx(e.Fragment,{children:e.jsx(J,{show:u,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx("div",{className:`absolute z-50 mt-2 rounded-md shadow-lg ${x} ${p}`,onClick:()=>b(!1),children:e.jsx("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+d,children:c})})})})},ze=({className:s="",children:r,...d})=>e.jsx(E,{...d,className:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none dark:text-gray-300 dark:hover:bg-gray-800 dark:focus:bg-gray-800 "+s,children:r});N.Trigger=Ee;N.Content=qe;N.Link=ze;function Be(){const{tenant:s}=O().props;if(!s)return null;const{store_status:r}=s;if(console.log("DEBUG Store Status:",r),!r)return null;const[d,c]=l.useState(!1),[u,b]=l.useState(""),x=r.is_open,p=r.is_delivery_paused,h=!!r.paused_until,g=r.status_override,t=a=>{D.post(route("settings.update"),{status_override:a},{preserveScroll:!0,preserveState:!0})},j=a=>{D.post(route("settings.update"),{is_delivery_paused:a},{preserveScroll:!0,preserveState:!0})},f=a=>{let y=null;if(a){const v=new Date;v.setMinutes(v.getMinutes()+a),y=v.toISOString()}D.post(route("settings.update"),{paused_until:y},{preserveScroll:!0,preserveState:!0,onSuccess:()=>c(!1)})},S=a=>new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsxs("div",{className:`hidden md:flex items-center gap-2 px-3 py-1.5 rounded-full border transition-colors ${p?"bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:border-amber-800":"bg-white border-transparent dark:bg-white/5"}`,children:[e.jsx(ue,{className:`w-4 h-4 ${p?"text-amber-500":"text-gray-400"}`}),e.jsx("span",{className:`text-xs font-medium ${p?"text-amber-700 dark:text-amber-400":"text-gray-600 dark:text-gray-400"}`,children:"Delivery"}),e.jsx(xe,{checked:!p,onChange:a=>j(!a),className:`${p?"bg-gray-300 dark:bg-gray-600":"bg-green-500"} relative inline-flex h-5 w-9 items-center rounded-full transition-colors`,children:e.jsx("span",{className:`${p?"translate-x-1":"translate-x-5"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),e.jsxs("div",{className:"flex items-center bg-white dark:bg-white/5 rounded-full p-1 border border-gray-100 dark:border-white/10 shadow-sm",children:[e.jsxs(P,{as:"div",className:"relative",children:[e.jsxs(P.Button,{className:`flex items-center gap-2 px-3 py-1.5 rounded-full font-bold text-sm transition-colors ${x?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 hover:bg-green-200":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 hover:bg-red-200"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${x?"bg-green-500":"bg-red-500"} animate-pulse`}),x?"Aberta":"Fechada",e.jsx(Z,{className:"w-3 h-3 opacity-50"})]}),e.jsx(J,{as:l.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:e.jsxs(P.Items,{className:"absolute left-0 mt-2 w-56 origin-top-left bg-white dark:bg-gray-800 rounded-xl shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden divide-y divide-gray-100 dark:divide-white/5 disabled:opacity-50",children:[e.jsxs("div",{className:"px-4 py-3 bg-gray-50 dark:bg-white/5",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Modo de Operação"}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${g===null?"bg-blue-500":"bg-gray-300"}`}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:g==="open"?"Forçar Aberto":g==="closed"?"Forçar Fechado":"Automático"})]})]}),e.jsxs("div",{className:"p-1",children:[e.jsx(P.Item,{children:({active:a})=>e.jsxs("button",{onClick:()=>t(null),className:`${a?"bg-gray-100 dark:bg-white/5":""} flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm text-gray-700 dark:text-gray-200`,children:[e.jsx(F,{className:"w-4 h-4 text-blue-500"}),"Automático (Horários)",g===null&&e.jsx(L,{className:"w-3 h-3 ml-auto text-blue-500"})]})}),e.jsx(P.Item,{children:({active:a})=>e.jsxs("button",{onClick:()=>t("open"),className:`${a?"bg-green-50 dark:bg-green-900/10":""} flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm text-green-700 dark:text-green-400`,children:[e.jsx(te,{className:"w-4 h-4"}),"Abrir Loja (Forçar)",g==="open"&&e.jsx(L,{className:"w-3 h-3 ml-auto text-green-500"})]})}),e.jsx(P.Item,{children:({active:a})=>e.jsxs("button",{onClick:()=>t("closed"),className:`${a?"bg-red-50 dark:bg-red-900/10":""} flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm text-red-700 dark:text-red-400`,children:[e.jsx(K,{className:"w-4 h-4"}),"Fechar Loja (Forçar)",g==="closed"&&e.jsx(L,{className:"w-3 h-3 ml-auto text-red-500"})]})})]})]})})]}),e.jsx("div",{className:"w-px h-4 bg-gray-200 dark:bg-white/10 mx-1"}),h?e.jsxs("button",{onClick:()=>f(null),className:"flex items-center gap-2 px-3 py-1.5 text-xs font-bold text-amber-700 dark:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-900/20 rounded-full transition-colors",title:"Clique para cancelar pausa",children:[e.jsx(F,{className:"w-4 h-4"}),"Até ",S(r.paused_until),e.jsx("span",{className:"hidden md:inline text-amber-600 dark:text-amber-500 ml-1",children:"✖"})]}):e.jsx("button",{onClick:()=>c(!0),className:"p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-white/10 rounded-full transition-colors",title:"Pausar Loja",children:e.jsx(K,{className:"w-5 h-5"})})]}),e.jsx(me,{show:d,onClose:()=>c(!1),maxWidth:"sm",children:e.jsxs("div",{className:"p-6 bg-white dark:bg-[#1a1b1e]",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(F,{className:"w-5 h-5 text-amber-500"}),"Pausar Loja"]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Por quanto tempo deseja pausar os pedidos? A loja ficará fechada temporariamente."}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[e.jsx("button",{onClick:()=>f(15),className:"bg-gray-100 dark:bg-white/5 hover:bg-amber-50 hover:text-amber-600 dark:hover:bg-amber-900/20 dark:hover:text-amber-400 border border-transparent hover:border-amber-200 rounded-xl py-3 text-sm font-bold transition-all",children:"15 min"}),e.jsx("button",{onClick:()=>f(30),className:"bg-gray-100 dark:bg-white/5 hover:bg-amber-50 hover:text-amber-600 dark:hover:bg-amber-900/20 dark:hover:text-amber-400 border border-transparent hover:border-amber-200 rounded-xl py-3 text-sm font-bold transition-all",children:"30 min"}),e.jsx("button",{onClick:()=>f(60),className:"bg-gray-100 dark:bg-white/5 hover:bg-amber-50 hover:text-amber-600 dark:hover:bg-amber-900/20 dark:hover:text-amber-400 border border-transparent hover:border-amber-200 rounded-xl py-3 text-sm font-bold transition-all",children:"1h"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",placeholder:"Outro (min)",value:u,onChange:a=>b(a.target.value),onKeyDown:a=>a.key==="Enter"&&u&&f(parseInt(u)),className:"flex-1 px-4 py-2 border border-gray-200 dark:border-white/10 rounded-xl bg-transparent text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),e.jsx("button",{onClick:()=>u&&f(parseInt(u)),className:"px-4 py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl font-bold text-sm",children:"Aplicar"})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700 text-sm font-medium",children:"Cancelar"})})]})})]})}function Re({user:s,onMenuClick:r,hasUnread:d=!1,onRead:c}){const[u,b]=l.useState(()=>typeof window<"u"?localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches:!1),x=()=>{u?(document.documentElement.classList.remove("dark"),localStorage.theme="light",b(!1)):(document.documentElement.classList.add("dark"),localStorage.theme="dark",b(!0))};return e.jsxs("header",{className:"flex h-20 items-center justify-between bg-white px-4 md:px-8 dark:bg-[#0f1012] transition-colors border-b border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("button",{onClick:r,className:"lg:hidden p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400 transition-colors","aria-label":"Abrir menu",children:e.jsx(pe,{className:"h-6 w-6"})}),e.jsxs("div",{className:"relative hidden sm:block group",children:[e.jsx(he,{className:"absolute left-4 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400 group-focus-within:text-[#ff3d03] transition-colors"}),e.jsx("input",{type:"text",placeholder:"Pesquisar...",className:"h-11 w-64 rounded-2xl border-none bg-gray-100 pl-11 text-sm font-medium outline-none focus:ring-2 focus:ring-[#ff3d03]/20 dark:bg-[#1a1b1e] dark:text-gray-100 placeholder-gray-500 transition-all"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[e.jsx(Be,{}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:x,className:"rounded-xl p-2.5 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 transition-colors",children:u?e.jsx(ge,{className:"h-5 w-5"}):e.jsx(fe,{className:"h-5 w-5"})}),e.jsxs("button",{onClick:c,className:"relative rounded-xl p-2.5 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 transition-colors group",children:[e.jsx(be,{className:`h-5 w-5 ${d?"text-[#ff3d03] animate-bounce":""}`}),d&&e.jsx("span",{className:"absolute right-2.5 top-2.5 h-2.5 w-2.5 rounded-full bg-[#ff3d03] ring-2 ring-white dark:ring-[#0f1012] animate-pulse shadow-[0_0_8px_rgba(255,61,3,0.6)]"})]})]}),e.jsx("div",{className:"h-8 w-px bg-gray-200 dark:bg-gray-800 mx-1"}),e.jsxs(N,{children:[e.jsx(N.Trigger,{children:e.jsxs("button",{className:"flex items-center gap-3 text-left pl-2 pr-1 py-1 rounded-2xl hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[e.jsx("div",{className:"h-9 w-9 bg-gradient-to-br from-[#ff3d03] to-[#d63302] text-white rounded-xl flex items-center justify-center font-black text-sm shadow-lg shadow-[#ff3d03]/20 group-hover:scale-105 transition-transform",children:s?.name?.substring(0,2).toUpperCase()||"AD"}),e.jsxs("div",{className:"hidden md:block",children:[e.jsx("p",{className:"text-xs font-bold text-gray-800 dark:text-white leading-tight group-hover:text-[#ff3d03] transition-colors",children:s?.name||"Administrador"}),e.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-400 uppercase tracking-wide font-medium",children:[s?.role==="super_admin"?"Super Admin":s?.role==="admin"?"Proprietário":s?.role==="employee"?"Funcionário":"Entregador",e.jsx(Z,{className:"h-3 w-3"})]})]})]})}),e.jsxs(N.Content,{children:[e.jsx(N.Link,{href:route("profile.edit"),children:"Meu Perfil"}),e.jsx(N.Link,{href:route("logout"),method:"post",as:"button",children:"Sair"})]})]})]})]})}function Ue(){const{tenant:s}=O().props,{updateSettings:r}=q();return l.useEffect(()=>{s?.notification_settings&&r&&r(s.notification_settings)},[s,r]),null}function Ge(){return e.jsx("div",{className:"w-full bg-zinc-900 border-b border-white/5 px-4 py-2 relative z-[60]",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-1.5 bg-zinc-800 rounded-lg",children:e.jsx(ye,{className:"w-4 h-4 text-[#ff3d03]"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-white text-xs font-black uppercase tracking-widest leading-none",children:"Modo de Visualização (Suporte)"}),e.jsx("span",{className:"text-zinc-500 text-[10px] font-bold",children:"Você está acessando como o administrador da loja."})]})]}),e.jsxs("button",{onClick:()=>D.post(route("admin.impersonate.leave")),className:"flex items-center gap-2 px-4 py-1.5 bg-[#ff3d03]/10 hover:bg-[#ff3d03] text-[#ff3d03] hover:text-white rounded-lg text-xs font-black transition-all group",children:[e.jsx(je,{className:"w-3.5 h-3.5 transition-transform group-hover:-translate-x-1"}),"Voltar ao Super Admin"]})]})})}function yt({user:s,header:r,children:d,tenant:c}){const{props:u,url:b}=O(),{auth:x,tenant:p}=u,h=c||p,g=x.user,[t,j]=l.useState(!1),[f,S]=l.useState(!1),{success:a,error:y,info:v,soundEnabled:_}=q(),{play:o}=Y(),{flash:n,toast:i}=O().props,m=l.useRef(null),k=l.useRef(null);return l.useEffect(()=>{const A=JSON.stringify(n)!==JSON.stringify(m.current),M=JSON.stringify(i)!==JSON.stringify(k.current);A&&(n?.success&&a("Sucesso",n.success),n?.error&&y("Erro",n.error),m.current=n),M&&i&&(i.type==="success"?a(i.title||"Sucesso",i.message):i.type==="error"?y(i.title||"Erro",i.message):v(i.title||"Info",i.message),k.current=i)},[n,i,a,y,v]),l.useEffect(()=>{if(!h)return;const A=h.id;let M=0;const B=async()=>{try{const I=await fetch(`/api/poll/${A}`);if(!I.ok)return;const{timestamp:T}=await I.json();if(M===0){M=T;return}if(T<=M)return;const R=await fetch(route("api.orders.status-check"));if(!R.ok)return;const $=await R.json();$.hasNewOrders&&(_&&o("new-order"),a("Novo Pedido!","Chegou um novo pedido!"),j(!0)),$.hasReadyOrders&&(_&&o("ready"),v("Pedido Pronto!","Um pedido está pronto."),j(!0)),$.hasCanceledOrders&&(_&&o("error"),y("Pedido Cancelado","Um pedido foi cancelado."),j(!0)),M=T}catch(I){console.error("Polling error",I)}};B();const Q=setInterval(B,15e3);return()=>clearInterval(Q)},[h?.id]),e.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-premium-dark transition-colors",children:[e.jsx(Ue,{}),e.jsx(Fe,{isOpen:f,onClose:()=>S(!1)}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden lg:pl-72 transition-all duration-300",children:[x.is_impersonating&&e.jsx(Ge,{}),e.jsx(Re,{user:s||g,onMenuClick:()=>S(!0),hasUnread:t,onRead:()=>j(!1)}),r&&e.jsx("header",{className:"bg-white dark:bg-premium-card shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:r})}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 lg:p-8",children:e.jsx("div",{className:"max-w-[1600px] mx-auto w-full",children:d})}),h?.subscription_status==="pending"&&!b.startsWith("/subscription")&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-gray-900/80 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-md w-full p-8 text-center animate-in zoom-in-95 duration-300",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-orange-100 dark:bg-[#ff3d03]/20 text-[#ff3d03] rounded-full flex items-center justify-center mb-6",children:e.jsx(ve,{className:"w-8 h-8"})}),e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2",children:"Quase lá!"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Seu estabelecimento foi criado com sucesso. Para liberar seu acesso ilimitado ao painel, conclua o pagamento da sua assinatura."}),e.jsx("button",{onClick:()=>D.get(route("subscription.checkout","unified")),className:"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl shadow-sm text-lg font-medium text-white bg-[#ff3d03] hover:bg-[#e63700] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#ff3d03] transition-colors",children:"Finalizar Pagamento"})]})})]})]})}export{yt as A,H as B,Se as C,_e as D,W as M,$e as U,Ne as a};
