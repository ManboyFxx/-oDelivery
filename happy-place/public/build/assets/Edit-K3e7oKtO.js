import{u as h,r as u,j as e,H as b,L as f}from"./app-Y5Ta3CeG.js";import{A as j}from"./AuthenticatedLayout-CAB7q58S.js";import"./credit-card-NqdS9wLC.js";import"./shopping-bag-DEl5ITHZ.js";import"./trophy-CaZ-iuc5.js";import"./chart-column-q_mYOMxW.js";import"./ticket-78J4UJd6.js";import"./shield-check-CE3ObrOF.js";import"./transition-DsDBJgYc.js";import"./Modal-K9vPyGuv.js";import"./truck-D5nhsJ3T.js";import"./switch-DyHZ1eR0.js";import"./chevron-down-Dspl7OZG.js";import"./clock-jhxT_zXH.js";import"./search-Bcld7yM4.js";import"./sparkles-M__sCfOv.js";import"./arrow-right-DDZIXcAC.js";function T({product:r,categories:d,complement_groups:o=[]}){const{data:a,setData:s,post:m,processing:c,errors:i}=h({_method:"PATCH",name:r.name,price:r.price,description:r.description||"",category_id:r.category_id||"",complement_groups:r.complement_groups?r.complement_groups.map(t=>t.id):[],image:null,loyalty_redeemable:r.loyalty_redeemable||!1,loyalty_points_cost:r.loyalty_points_cost||0}),[n,g]=u.useState(r.image_url||null),x=t=>{t.preventDefault(),m(route("products.update",r.id))},y=t=>{const l=t.target.files?.[0];l&&(s("image",l),g(URL.createObjectURL(l)))};return e.jsxs(j,{children:[e.jsx(b,{title:`Editar ${r.name}`}),e.jsxs("div",{className:"mx-auto max-w-2xl px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Editar Produto"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Atualize as informa√ß√µes do produto abaixo."})]}),e.jsxs("form",{onSubmit:x,className:"space-y-6",encType:"multipart/form-data",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-100",children:"Foto do Produto"}),e.jsxs("div",{className:"mt-2 flex items-center gap-x-3",children:[n?e.jsx("img",{src:n,alt:"Preview",className:"h-24 w-24 rounded-lg object-cover bg-gray-100"}):e.jsx("div",{className:"h-24 w-24 rounded-lg bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-400",children:"Sem foto"}),e.jsxs("label",{htmlFor:"image-upload",className:"rounded-md bg-white px-2.5 py-1.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-white dark:ring-gray-600 dark:hover:bg-gray-700 cursor-pointer",children:["Alterar",e.jsx("input",{id:"image-upload",name:"image",type:"file",className:"sr-only",onChange:y,accept:"image/*"})]})]}),i.image&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.image})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-100",children:"Nome do Produto"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{id:"name",type:"text",value:a.name,onChange:t=>s("name",t.target.value),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 dark:bg-gray-800 dark:text-white dark:ring-gray-700"}),i.name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.name})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-100",children:"Pre√ßo (R$)"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{id:"price",type:"number",step:"0.01",value:a.price,onChange:t=>s("price",t.target.value),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 dark:bg-gray-800 dark:text-white dark:ring-gray-700"}),i.price&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.price})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-100",children:"Categoria"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("select",{id:"category",value:a.category_id,onChange:t=>s("category_id",t.target.value),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 dark:bg-gray-800 dark:text-white dark:ring-gray-700",children:[e.jsx("option",{value:"",children:"Selecione..."}),d.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),i.category_id&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:i.category_id})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-100",children:"Descri√ß√£o"}),e.jsx("div",{className:"mt-2",children:e.jsx("textarea",{id:"description",rows:3,value:a.description,onChange:t=>s("description",t.target.value),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 dark:bg-gray-800 dark:text-white dark:ring-gray-700"})}),e.jsx("p",{className:"mt-3 text-sm leading-6 text-gray-600 dark:text-gray-400",children:"Uma breve descri√ß√£o do prato ou bebida."})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/10 rounded-2xl p-6 border-2 border-orange-200 dark:border-orange-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-2xl",children:"üéÅ"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Programa de Fidelidade"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-xl mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"loyalty_redeemable",className:"font-semibold text-gray-900 dark:text-white",children:"Permite resgate por pontos"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Cliente pode trocar pontos por este produto"})]}),e.jsx("button",{type:"button",onClick:()=>s("loyalty_redeemable",!a.loyalty_redeemable),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-600 focus:ring-offset-2 ${a.loyalty_redeemable?"bg-orange-600":"bg-gray-200 dark:bg-gray-700"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${a.loyalty_redeemable?"translate-x-5":"translate-x-0"}`})})]}),a.loyalty_redeemable&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4",children:[e.jsx("label",{htmlFor:"loyalty_points_cost",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Pontos necess√°rios para resgate"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"loyalty_points_cost",type:"number",min:"1",value:a.loyalty_points_cost,onChange:t=>s("loyalty_points_cost",parseInt(t.target.value)||0),className:"block w-full rounded-lg border-0 py-2.5 pl-4 pr-12 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-orange-600 sm:text-sm dark:bg-gray-700 dark:text-white dark:ring-gray-600",placeholder:"Ex: 150"}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"pts"})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"üí° Dica: Produtos de R$ 30 geralmente custam 100-150 pontos"})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-100 mb-2",children:"Grupos de Complementos"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(t=>e.jsxs("div",{className:"relative flex items-start",children:[e.jsx("div",{className:"flex h-6 items-center",children:e.jsx("input",{id:`param-${t.id}`,name:"complement_groups[]",type:"checkbox",value:t.id,checked:a.complement_groups.includes(t.id),onChange:l=>{l.target.checked?s("complement_groups",[...a.complement_groups,t.id]):s("complement_groups",a.complement_groups.filter(p=>p!==t.id))},className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600 dark:border-gray-700 dark:bg-gray-800"})}),e.jsxs("div",{className:"ml-3 text-sm leading-6",children:[e.jsx("label",{htmlFor:`param-${t.id}`,className:"font-medium text-gray-900 dark:text-gray-100",children:t.name}),e.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:[t.min_selections," a ",t.max_selections," op√ß√µes"]})]})]},t.id))})]}),e.jsxs("div",{className:"flex items-center justify-end gap-x-6 border-t border-gray-900/10 pt-6 dark:border-gray-700",children:[e.jsx(f,{href:route("products.index"),className:"text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:c,className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Salvar Altera√ß√µes"})]})]})]})]})}export{T as default};
