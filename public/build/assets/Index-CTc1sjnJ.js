import{r as c,u,j as e,H as _,X as m,a as F}from"./app-Cz2FlK-X.js";import{A as q}from"./AuthenticatedLayout-BRg8X8-i.js";import{P as $}from"./PageHeader-ge391TsQ.js";import{P as D}from"./plus-gfMYUrpj.js";import{C as A}from"./check-f19Kd8Cm.js";import{P as M}from"./pen-pRra-UGh.js";import{T as f}from"./trash-2-De_fnAJJ.js";import"./monitor-DCcDnjpR.js";import"./shopping-bag-CTZQWuU8.js";import"./package-j8qiwvly.js";import"./image-BrGhz3PF.js";import"./layout-dashboard-s7cc1WUc.js";import"./credit-card-iq0899F0.js";import"./users-q-aUcb25.js";import"./trophy-Bq5LeqhL.js";import"./ticket-BMRK4cci.js";import"./store-C5Zno6Px.js";import"./dollar-sign-DVAotz2y.js";import"./key-kez1Qm86.js";import"./shield-check-Cm1GtHgO.js";import"./log-out-CHy1zhEr.js";import"./transition-CRSyYdUI.js";import"./use-sync-refs-Cw5wNZXH.js";import"./Modal-C9lxCCAU.js";import"./keyboard-a7uHaJKk.js";import"./portal-B3X7_D_j.js";import"./with-selector-BhrssK9k.js";import"./hidden-BNnctkNA.js";import"./truck-N80-YtZw.js";import"./switch-B8p3SKCs.js";import"./use-resolve-button-type-BqgbvpS-.js";import"./menu-DApYnhd1.js";import"./chevron-down-C2ZP5H8w.js";import"./clock-C81beufX.js";import"./circle-play-D9gEtnZy.js";import"./menu-T1lYYjQt.js";import"./search-DFX2nYcc.js";import"./sun-DMczBmwe.js";import"./bell-CsmCO2lu.js";import"./eye-BLo4v0L-.js";import"./arrow-left-BIOjJWvJ.js";import"./usePushNotifications-yiXeBVVK.js";import"./zap-LJ3l74lM.js";import"./star-D_xrVok1.js";import"./chevron-right-g7BsehEN.js";import"./lock-CTPcfyxV.js";const P={admin:"Administrador",employee:"Funcionário",motoboy:"Motoboy"},T={admin:"bg-red-100 text-red-700",employee:"bg-blue-100 text-blue-700",motoboy:"bg-green-100 text-green-700"};function qe({employees:b,current_user_id:z,can_create_motoboy:l}){const[w,d]=c.useState(!1),[y,i]=c.useState(!1),[x,n]=c.useState(null),[p,h]=c.useState(null),{data:s,setData:o,post:j,processing:g,errors:a,reset:k,clearErrors:N}=u({name:"",email:"",phone:"",role:"employee",password:"",password_confirmation:""}),r=u({name:"",email:"",phone:"",role:"employee",is_active:!0}),v=t=>{t.preventDefault(),j(route("employees.store"),{onSuccess:()=>{d(!1),k()}})},C=t=>{t.preventDefault(),x&&r.put(route("employees.update",{employee:x.id}),{onSuccess:()=>{i(!1),n(null)}})},E=t=>{n(t),r.setData({name:t.name,email:t.email,phone:t.phone,role:t.role,is_active:t.is_active}),r.clearErrors(),i(!0)},S=t=>{F.delete(route("employees.destroy",{employee:t})),h(null)};return e.jsxs(q,{children:[e.jsx(_,{title:"Gerenciar Funcionários"}),e.jsxs("div",{className:"flex h-full flex-col space-y-8",children:[e.jsx($,{title:"Funcionários",subtitle:"Gerencie seus funcionários, admins e motoboys."}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-[#ff3d03] hover:bg-[#e63700] text-white px-6 py-3 rounded-xl font-bold transition-all shadow-md shadow-[#ff3d03]/20 hover:shadow-lg hover:shadow-[#ff3d03]/30",children:[e.jsx(D,{className:"w-5 h-5"}),"Novo Funcionário"]})]}),e.jsx("div",{className:"bg-white dark:bg-[#1a1b1e] rounded-2xl border border-gray-200 dark:border-white/5 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-white/5 bg-gray-50 dark:bg-white/[0.02]",children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900 dark:text-white",children:"Nome"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900 dark:text-white",children:"Email"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900 dark:text-white",children:"Telefone"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900 dark:text-white",children:"Cargo"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900 dark:text-white",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold text-gray-900 dark:text-white",children:"Ações"})]})}),e.jsx("tbody",{children:b.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:'Nenhum funcionário cadastrado. Clique em "Novo Funcionário" para adicionar.'})}):b.map(t=>e.jsxs("tr",{className:`border-b border-gray-100 dark:border-white/5 hover:bg-gray-50 dark:hover:bg-white/[0.02] transition-colors ${t.is_current_user?"bg-orange-50 dark:bg-orange-900/10":""}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#ff3d03] to-orange-600 flex items-center justify-center text-white font-bold text-sm",children:t.name.charAt(0).toUpperCase()}),e.jsx("div",{children:e.jsxs("div",{className:"font-bold text-gray-900 dark:text-white",children:[t.name,t.is_current_user&&e.jsx("span",{className:"ml-2 text-xs bg-[#ff3d03] text-white px-2 py-1 rounded-full",children:"Você"})]})})]})}),e.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:t.email}),e.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:t.phone}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold ${T[t.role]}`,children:P[t.role]})}),e.jsx("td",{className:"px-6 py-4",children:t.is_active?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700",children:[e.jsx(A,{className:"w-4 h-4"})," Ativo"]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold bg-gray-100 text-gray-700",children:[e.jsx(m,{className:"w-4 h-4"})," Inativo"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>E(t),className:"p-2 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",title:"Editar",children:e.jsx(M,{className:"w-5 h-5"})}),!t.is_current_user&&e.jsx("button",{onClick:()=>h(t.id),className:"p-2 hover:bg-red-100 text-red-600 rounded-lg transition-colors",title:"Remover",children:e.jsx(f,{className:"w-5 h-5"})}),t.is_current_user&&e.jsx("div",{className:"p-2 opacity-30 cursor-not-allowed",title:"Você não pode se remover",children:e.jsx(f,{className:"w-5 h-5"})})]})})]},t.id))})]})})})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-[#1a1b1e] rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white dark:bg-[#1a1b1e] border-b border-gray-200 dark:border-white/5 px-6 py-4 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Novo Funcionário"}),e.jsx("button",{onClick:()=>d(!1),className:"p-1 hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(m,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Nome *"}),e.jsx("input",{type:"text",value:s.name,onChange:t=>o("name",t.target.value),className:`w-full px-4 py-2.5 rounded-lg border bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03] ${a.name?"border-red-500":"border-gray-200 dark:border-white/10"}`,placeholder:"Nome completo",required:!0}),a.name&&e.jsx("p",{className:"mt-1 text-xs text-red-500 font-bold",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:s.email,onChange:t=>o("email",t.target.value),className:`w-full px-4 py-2.5 rounded-lg border bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03] ${a.email?"border-red-500":"border-gray-200 dark:border-white/10"}`,placeholder:"email@example.com",required:!0}),a.email&&e.jsx("p",{className:"mt-1 text-xs text-red-500 font-bold",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Telefone *"}),e.jsx("input",{type:"tel",value:s.phone,onChange:t=>o("phone",t.target.value),className:`w-full px-4 py-2.5 rounded-lg border bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03] ${a.phone?"border-red-500":"border-gray-200 dark:border-white/10"}`,placeholder:"(11) 99999-9999",required:!0}),a.phone&&e.jsx("p",{className:"mt-1 text-xs text-red-500 font-bold",children:a.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Cargo *"}),e.jsxs("select",{value:s.role,onChange:t=>o("role",t.target.value),className:`w-full px-4 py-2.5 rounded-lg border bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03] [&>option]:bg-white [&>option]:dark:bg-[#1a1b1e] [&>option]:text-gray-900 [&>option]:dark:text-white ${a.role?"border-red-500":"border-gray-200 dark:border-white/10"}`,required:!0,children:[e.jsx("option",{value:"employee",className:"bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white",children:"Funcionário"}),e.jsx("option",{value:"admin",className:"bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white",children:"Administrador"}),e.jsxs("option",{value:"motoboy",className:"bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white disabled:text-gray-400",disabled:!l,children:["Motoboy ",!l&&"(Upgrade Necessário)"]})]}),a.role&&e.jsx("p",{className:"mt-1 text-xs text-red-500 font-bold",children:a.role}),!l&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Para cadastrar motoboys, seu plano precisa ter o recurso habilitado."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Senha *"}),e.jsx("input",{type:"password",value:s.password,onChange:t=>o("password",t.target.value),className:`w-full px-4 py-2.5 rounded-lg border bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03] ${a.password?"border-red-500":"border-gray-200 dark:border-white/10"}`,placeholder:"Mínimo 8 caracteres",required:!0}),a.password&&e.jsx("p",{className:"mt-1 text-xs text-red-500 font-bold",children:a.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Confirmar Senha *"}),e.jsx("input",{type:"password",value:s.password_confirmation,onChange:t=>o("password_confirmation",t.target.value),className:`w-full px-4 py-2.5 rounded-lg border bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03] ${a.password_confirmation?"border-red-500":"border-gray-200 dark:border-white/10"}`,placeholder:"Confirme a senha",required:!0}),a.password_confirmation&&e.jsx("p",{className:"mt-1 text-xs text-red-500 font-bold",children:a.password_confirmation})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{d(!1),N()},className:"flex-1 px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 text-gray-900 dark:text-white font-bold hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:g,className:"flex-1 px-4 py-2.5 rounded-lg bg-[#ff3d03] hover:bg-[#e63700] text-white font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Criando...":"Criar"})]})]})]})}),y&&x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-[#1a1b1e] rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white dark:bg-[#1a1b1e] border-b border-gray-200 dark:border-white/5 px-6 py-4 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Editar Funcionário"}),e.jsx("button",{onClick:()=>{i(!1),n(null)},className:"p-1 hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(m,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Nome *"}),e.jsx("input",{type:"text",value:r.data.name,onChange:t=>r.setData("name",t.target.value),className:`w-full px-4 py-2.5 rounded-lg border bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03] ${r.errors.name?"border-red-500":"border-gray-200 dark:border-white/10"}`,placeholder:"Nome completo",required:!0}),r.errors.name&&e.jsx("p",{className:"mt-1 text-xs text-red-500 font-bold",children:r.errors.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:r.data.email,onChange:t=>r.setData("email",t.target.value),className:`w-full px-4 py-2.5 rounded-lg border bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03] ${r.errors.email?"border-red-500":"border-gray-200 dark:border-white/10"}`,placeholder:"email@example.com",required:!0}),r.errors.email&&e.jsx("p",{className:"mt-1 text-xs text-red-500 font-bold",children:r.errors.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Telefone *"}),e.jsx("input",{type:"tel",value:r.data.phone,onChange:t=>r.setData("phone",t.target.value),className:`w-full px-4 py-2.5 rounded-lg border bg-white dark:bg-white/5 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03] ${r.errors.phone?"border-red-500":"border-gray-200 dark:border-white/10"}`,placeholder:"(11) 99999-9999",required:!0}),r.errors.phone&&e.jsx("p",{className:"mt-1 text-xs text-red-500 font-bold",children:r.errors.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Cargo *"}),e.jsxs("select",{value:r.data.role,onChange:t=>r.setData("role",t.target.value),className:`w-full px-4 py-2.5 rounded-lg border bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff3d03] [&>option]:bg-white [&>option]:dark:bg-[#1a1b1e] [&>option]:text-gray-900 [&>option]:dark:text-white ${r.errors.role?"border-red-500":"border-gray-200 dark:border-white/10"}`,required:!0,children:[e.jsx("option",{value:"employee",className:"bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white",children:"Funcionário"}),e.jsx("option",{value:"admin",className:"bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white",children:"Administrador"}),e.jsxs("option",{value:"motoboy",className:"bg-white dark:bg-[#1a1b1e] text-gray-900 dark:text-white disabled:text-gray-400",disabled:!l,children:["Motoboy ",!l&&"(Upgrade Necessário)"]})]}),r.errors.role&&e.jsx("p",{className:"mt-1 text-xs text-red-500 font-bold",children:r.errors.role})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.data.is_active,onChange:t=>r.setData("is_active",t.target.checked),className:"w-5 h-5 rounded border-gray-200 dark:border-white/10 text-[#ff3d03] focus:ring-[#ff3d03]"}),e.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Funcionário Ativo"})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{i(!1),n(null)},className:"flex-1 px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 text-gray-900 dark:text-white font-bold hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:r.processing,className:"flex-1 px-4 py-2.5 rounded-lg bg-[#ff3d03] hover:bg-[#e63700] text-white font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r.processing?"Salvando...":"Salvar"})]})]})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-[#1a1b1e] rounded-2xl max-w-sm w-full",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Remover Funcionário"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Tem certeza que deseja remover este funcionário? Esta ação não pode ser desfeita."}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>h(null),className:"flex-1 px-4 py-2.5 rounded-lg border border-gray-200 dark:border-white/10 text-gray-900 dark:text-white font-bold hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:"Cancelar"}),e.jsx("button",{onClick:()=>S(p),className:"flex-1 px-4 py-2.5 rounded-lg bg-red-600 hover:bg-red-700 text-white font-bold transition-colors",children:"Remover"})]})]})})})]})}export{qe as default};
