import{c as E,b as V,u as U,r as i,d as B,j as e,H,L as f,C as T,X as W}from"./app-BXyMlLUz.js";import{I as c}from"./InputError-BDqYki70.js";import{I as d}from"./InputLabel-Cth7rGlY.js";import{P as J}from"./PrimaryButton-CV9Zs476.js";import{A as v}from"./arrow-left-Dc4qfp1h.js";import{S as O}from"./sparkles-BrlVsKD6.js";import{L as w}from"./loader-circle-DjwSOqvV.js";import{A as N}from"./arrow-right-KTrUEnIe.js";import{U as X}from"./user-BHsZ68Kf.js";import{P as G}from"./phone-Btf3Akpg.js";import{M as K}from"./mail-OTDwj6y5.js";import{L as k}from"./lock-D5PgWI4T.js";import{E as C}from"./eye-off-DJPMqiTa.js";import{E as S}from"./eye-CjbhbC5x.js";const Q=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Y=E("building-2",Q);const Z=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],ee=E("link-2",Z);function se(m,t){const[l,h]=i.useState(m);return i.useEffect(()=>{const u=setTimeout(()=>{h(m)},t);return()=>{clearTimeout(u)}},[m,t]),l}function _(m){return m.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}function he(){const{props:m}=V();new URLSearchParams(window.location.search);const{data:t,setData:l,post:h,processing:u,errors:n,reset:F}=U({store_name:"",slug:"",name:"",whatsapp:"",email:"",password:"",password_confirmation:"",plan:"unified"}),[a,g]=i.useState({available:null,message:"",suggested:null,checking:!1}),[L,y]=i.useState(!1),[p,$]=i.useState(!1),[b,P]=i.useState(!1),x=se(t.slug,500),M=s=>{l("store_name",s),L||l("slug",_(s))};i.useEffect(()=>{if(x.length<3){g({available:null,message:x.length>0?"Mínimo 3 caracteres":"",suggested:null,checking:!1});return}g(s=>({...s,checking:!0})),B.post("/check-slug",{slug:x}).then(s=>{g({available:s.data.available,message:s.data.message,suggested:s.data.suggested,checking:!1})}).catch(()=>{g({available:null,message:"Erro ao verificar disponibilidade",suggested:null,checking:!1})})},[x]);const D=s=>{const r=s.replace(/\D/g,"");return r.length<=2?r:r.length<=7?`(${r.slice(0,2)}) ${r.slice(2)}`:r.length<=11?`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7)}`:`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7,11)}`},A=s=>{l("whatsapp",D(s))},q=s=>{s.preventDefault(),h(route("register"),{onFinish:()=>F("password","password_confirmation")})},I=()=>{a.suggested&&(l("slug",a.suggested),y(!0))},[o,j]=i.useState(1),z=()=>{if(o===1){if(!t.store_name||!t.slug){if(!t.store_name){document.getElementById("store_name")?.focus();return}if(!t.slug){document.getElementById("slug")?.focus();return}}j(2)}},R=()=>{j(1)};return e.jsxs("div",{className:"flex h-screen w-full font-sans selection:bg-[#ff3d03] selection:text-white antialiased overflow-hidden",children:[e.jsx(H,{title:"Criar Conta Empresarial - ÓoDelivery"}),e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative bg-gray-50 items-center justify-center p-12 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white to-gray-100 -z-0"}),e.jsx("img",{src:"/images/register-hero-v2.png",alt:"Register Illustration",className:"relative z-10 w-full max-w-2xl object-contain drop-shadow-2xl hover:scale-105 transition-transform duration-700"})]}),e.jsxs("div",{className:"w-full lg:w-1/2 bg-white flex flex-col justify-center px-6 py-12 sm:px-12 lg:px-16 xl:px-24 overflow-y-auto relative h-full",children:[e.jsx("div",{className:"absolute top-8 right-8 lg:left-8",children:e.jsxs(f,{href:"/",className:"inline-flex items-center gap-2 text-gray-400 hover:text-[#ff3d03] transition-colors font-medium",children:[e.jsx(v,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Voltar"})]})}),e.jsxs("div",{className:"w-full max-w-lg mx-auto",children:[e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex justify-center items-center gap-2 mb-4",children:[e.jsx("img",{src:"/images/logo-icon.png",alt:"ÓoDelivery",className:"h-10 w-auto"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"ÓoDelivery."})]}),e.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight leading-tight text-center",children:"Comece grátis."}),e.jsxs("div",{className:"flex justify-center gap-2 mt-2",children:[e.jsx("div",{className:`h-1.5 w-8 rounded-full transition-colors ${o>=1?"bg-[#ff3d03]":"bg-gray-200"}`}),e.jsx("div",{className:`h-1.5 w-8 rounded-full transition-colors ${o>=2?"bg-[#ff3d03]":"bg-gray-200"}`})]}),e.jsxs("p",{className:"text-gray-500 font-medium text-sm text-center uppercase tracking-wider",children:["Etapa ",o," de 2: ",o===1?"Dados do Estabelecimento":"Dados de Acesso"]}),o===1&&e.jsxs("div",{className:"bg-gradient-to-r from-[#ff3d03]/10 to-orange-50 border-2 border-[#ff3d03] rounded-2xl p-4 text-center mt-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx(O,{className:"h-5 w-5 text-[#ff3d03] fill-[#ff3d03]"}),e.jsx("h3",{className:"text-lg font-black text-gray-900",children:"Plano Único - Tudo Liberado"})]}),e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Recursos ilimitados por R$ 129,90/mês"})]})]}),e.jsxs("form",{onSubmit:q,className:"space-y-5 text-left",children:[o===1&&e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"store_name",value:"Nome do Estabelecimento",className:"text-xs font-bold uppercase tracking-widest text-gray-700 mb-1.5"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 group-focus-within:text-[#ff3d03] transition-colors",children:e.jsx(Y,{className:"h-5 w-5"})}),e.jsx("input",{id:"store_name",type:"text",value:t.store_name,onChange:s=>M(s.target.value),className:"block w-full pl-12 pr-4 py-4 bg-white border-2 border-gray-200 focus:border-[#ff3d03] focus:ring-0 rounded-xl text-gray-900 font-normal placeholder-gray-500 transition-colors shadow-sm",placeholder:"Ex: Pizzaria do João",required:!0,autoFocus:!0})]}),e.jsx(c,{message:n.store_name,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"slug",value:"Link do Cardápio",className:"text-xs font-bold uppercase tracking-widest text-gray-700 mb-1.5"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 font-medium group-focus-within:text-[#ff3d03] transition-colors text-sm",children:"oodelivery.online/"}),e.jsx("input",{id:"slug",type:"text",value:t.slug,onChange:s=>{l("slug",_(s.target.value)),y(!0)},className:`block w-full pl-[170px] pr-12 py-4 bg-white border-2 focus:ring-0 rounded-xl text-gray-900 font-normal placeholder-gray-500 transition-colors shadow-sm ${a.available===!0?"border-green-500 focus:border-green-500":a.available===!1?"border-red-500 focus:border-red-500":"border-gray-200 focus:border-[#ff3d03]"}`,placeholder:"seunome",required:!0}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:a.checking?e.jsx(w,{className:"h-5 w-5 animate-spin text-gray-400"}):a.available===!0?e.jsx(T,{className:"h-5 w-5 text-green-500"}):a.available===!1?e.jsx(W,{className:"h-5 w-5 text-red-500"}):e.jsx(ee,{className:"h-5 w-5 text-gray-400"})})]}),e.jsxs("div",{className:"min-h-[24px]",children:[a.available===!1&&e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-sm font-medium text-red-500",children:a.message}),a.suggested&&e.jsxs("button",{type:"button",onClick:I,className:"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded-md transition-colors font-bold",children:["Usar ",a.suggested]})]}),a.available===!0&&e.jsx("p",{className:"text-sm font-medium text-green-500 mt-1",children:"Este link está disponível!"})]}),e.jsx(c,{message:n.slug,className:"mt-1"})]}),e.jsxs("button",{type:"button",onClick:z,className:"w-full flex items-center justify-center py-4 bg-[#ff3d03] hover:bg-[#e63700] text-white font-medium text-lg rounded-xl shadow-lg shadow-[#ff3d03]/30 transition-colors mt-6",children:["Continuar",e.jsx(N,{className:"w-5 h-5 ml-2"})]})]}),e.jsx("div",{className:"relative flex items-center gap-4 py-2 opacity-0 h-0 overflow-hidden"}),o===2&&e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"name",value:"Seu Nome",className:"text-xs font-bold uppercase tracking-widest text-gray-700 mb-1.5"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 group-focus-within:text-[#ff3d03] transition-colors",children:e.jsx(X,{className:"h-5 w-5"})}),e.jsx("input",{id:"name",type:"text",value:t.name,onChange:s=>l("name",s.target.value),className:"block w-full pl-12 pr-4 py-4 bg-white border-2 border-gray-200 focus:border-[#ff3d03] focus:ring-0 rounded-xl text-gray-900 font-normal placeholder-gray-500 transition-colors shadow-sm",placeholder:"Nome Completo",required:!0,autoFocus:!0})]}),e.jsx(c,{message:n.name,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"whatsapp",value:"WhatsApp",className:"text-xs font-bold uppercase tracking-widest text-gray-700 mb-1.5"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 group-focus-within:text-[#ff3d03] transition-colors",children:e.jsx(G,{className:"h-5 w-5"})}),e.jsx("input",{id:"whatsapp",type:"tel",value:t.whatsapp,onChange:s=>A(s.target.value),className:"block w-full pl-12 pr-4 py-4 bg-white border-2 border-gray-200 focus:border-[#ff3d03] focus:ring-0 rounded-xl text-gray-900 font-normal placeholder-gray-500 transition-colors shadow-sm",placeholder:"(00) 00000-0000",required:!0})]}),e.jsx(c,{message:n.whatsapp,className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"email",value:"E-mail",className:"text-xs font-bold uppercase tracking-widest text-gray-700 mb-1.5"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 group-focus-within:text-[#ff3d03] transition-colors",children:e.jsx(K,{className:"h-5 w-5"})}),e.jsx("input",{id:"email",type:"email",value:t.email,onChange:s=>l("email",s.target.value),className:"block w-full pl-12 pr-4 py-4 bg-white border-2 border-gray-200 focus:border-[#ff3d03] focus:ring-0 rounded-xl text-gray-900 font-normal placeholder-gray-500 transition-colors shadow-sm",placeholder:"seu@email.com",required:!0})]}),e.jsx(c,{message:n.email,className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"password",value:"Senha",className:"text-xs font-bold uppercase tracking-widest text-gray-700 mb-1.5"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 group-focus-within:text-[#ff3d03] transition-colors",children:e.jsx(k,{className:"h-5 w-5"})}),e.jsx("input",{id:"password",type:p?"text":"password",value:t.password,onChange:s=>l("password",s.target.value),className:"block w-full pl-12 pr-10 py-4 bg-white border-2 border-gray-200 focus:border-[#ff3d03] focus:ring-0 rounded-xl text-gray-900 font-normal placeholder-gray-500 transition-colors shadow-sm",placeholder:"••••••••",required:!0}),e.jsx("button",{type:"button",onClick:()=>$(!p),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 focus:outline-none",children:p?e.jsx(C,{className:"h-4 w-4"}):e.jsx(S,{className:"h-4 w-4"})})]}),e.jsx(c,{message:n.password,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"password_confirmation",value:"Confirmar",className:"text-xs font-bold uppercase tracking-widest text-gray-700 mb-1.5"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 group-focus-within:text-[#ff3d03] transition-colors",children:e.jsx(k,{className:"h-5 w-5"})}),e.jsx("input",{id:"password_confirmation",type:b?"text":"password",value:t.password_confirmation,onChange:s=>l("password_confirmation",s.target.value),className:"block w-full pl-12 pr-10 py-4 bg-white border-2 border-gray-200 focus:border-[#ff3d03] focus:ring-0 rounded-xl text-gray-900 font-normal placeholder-gray-500 transition-colors shadow-sm",placeholder:"••••••••",required:!0}),e.jsx("button",{type:"button",onClick:()=>P(!b),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 focus:outline-none",children:b?e.jsx(C,{className:"h-4 w-4"}):e.jsx(S,{className:"h-4 w-4"})})]}),e.jsx(c,{message:n.password_confirmation,className:"mt-1"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{type:"button",onClick:R,className:"flex-1 flex items-center justify-center py-4 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium text-lg rounded-xl transition-colors",children:[e.jsx(v,{className:"w-5 h-5 mr-2"}),"Voltar"]}),e.jsx(J,{className:"flex-[2] flex items-center justify-center py-4 bg-[#ff3d03] hover:bg-[#e63700] text-white font-medium text-lg rounded-xl shadow-lg shadow-[#ff3d03]/30 transition-colors",disabled:u,children:u?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"w-5 h-5 animate-spin mr-2"}),"Criando..."]}):e.jsxs(e.Fragment,{children:["Concluir Cadastro",e.jsx(N,{className:"w-5 h-5 ml-2"})]})})]})]})]}),e.jsxs("div",{className:"mt-8 text-center border-t border-gray-100 pt-6",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-500",children:["Já tem uma conta?"," ",e.jsx(f,{href:route("login"),className:"text-[#ff3d03] hover:underline transition-all",children:"Fazer Login"})]}),e.jsxs("div",{className:"mt-4 flex justify-center gap-4 text-xs font-medium text-gray-400",children:[e.jsx(f,{href:"#",className:"hover:text-gray-600",children:"Termos de Uso"}),e.jsx("span",{children:"•"}),e.jsx(f,{href:"#",className:"hover:text-gray-600",children:"Privacidade"})]})]})]})]})]})}export{he as default};
