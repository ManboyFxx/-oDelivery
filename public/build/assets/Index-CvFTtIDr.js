import{j as e,L as c,r as n,a as m,H as v}from"./app-DStU8MwD.js";import{A as N}from"./AuthenticatedLayout-DbMMfPc0.js";import{P as w}from"./plus-BKUIj5vD.js";import{S as g}from"./store-DuSO3jdq.js";import{Z as k}from"./zap-CKk3AS2t.js";import{S}from"./search-DEuGphhN.js";import{P as _}from"./package-DTP_tjtl.js";import{S as T}from"./shopping-cart-DlAzvhM7.js";import{E as L}from"./eye-QpiWbMKF.js";import{S as P}from"./shield-CHnE_AKQ.js";import"./monitor-BxyGoWP4.js";import"./shopping-bag-DWef1FNa.js";import"./image-DoN3fn7u.js";import"./layout-dashboard-lVxcZVl0.js";import"./credit-card-B7I-2Gye.js";import"./users-yPlFTsXt.js";import"./trophy-BlNa_V_6.js";import"./ticket-DQoQd_m4.js";import"./dollar-sign-BZpTB1Mz.js";import"./key-SqM6ParG.js";import"./shield-check-CRBnQq9v.js";import"./log-out-j4Bx4tDQ.js";import"./transition-DKZ_I0YA.js";import"./use-sync-refs-DFFshV1K.js";import"./Modal-DTlkYVpv.js";import"./keyboard-B40p_ba_.js";import"./portal-yErZUvIx.js";import"./with-selector-DKWJKT3r.js";import"./hidden-DR4F-w76.js";import"./truck-BNo8_dDu.js";import"./switch-Db9cnu65.js";import"./use-resolve-button-type-tIJiKY6f.js";import"./menu-B1dGMPu8.js";import"./chevron-down-C5vhnEBS.js";import"./clock-Dh7Of57R.js";import"./circle-play-CI0RrttL.js";import"./menu-DBOcVmce.js";import"./sun-Bzc8mG1J.js";import"./bell-CX96QJqb.js";import"./arrow-left-BJHQYbU1.js";import"./usePushNotifications-DPgYwf5r.js";import"./star-BnEWWDQh.js";import"./chevron-right-B_2chNzF.js";import"./lock-CIamgwxM.js";function C({links:a}){return!a||a.length<=3?null:e.jsx("div",{className:"flex items-center justify-center gap-1",children:a.map((r,d)=>r.url?r.active?e.jsx("span",{className:"px-4 py-2 text-sm font-bold bg-[#ff3d03] text-white rounded-lg",dangerouslySetInnerHTML:{__html:r.label}},d):e.jsx(c,{href:r.url,className:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg transition-colors",dangerouslySetInnerHTML:{__html:r.label},preserveScroll:!0},d):e.jsx("span",{className:"px-3 py-2 text-sm text-gray-400 cursor-not-allowed",dangerouslySetInnerHTML:{__html:r.label}},d))})}function we({tenants:a,filters:r,plans:d}){const[i,f]=n.useState(r.search||""),[l,u]=n.useState(r.status||"all"),[o,b]=n.useState(r.plan||"all"),[x,j]=n.useState(r.tab||"real"),[A,E]=n.useState(null);n.useEffect(()=>{const t=setTimeout(()=>{i!==(r.search||"")&&m.get(route("admin.tenants.index"),{search:i,status:l!=="all"?l:void 0,plan:o!=="all"?o:void 0,tab:x},{preserveState:!0,preserveScroll:!0,replace:!0})},300);return()=>clearTimeout(t)},[i]);const p=(t,s)=>{t==="status"&&u(s),t==="plan"&&b(s),m.get(route("admin.tenants.index"),{search:i,status:t==="status"&&s!=="all"?s:l!=="all"?l:void 0,plan:t==="plan"&&s!=="all"?s:o!=="all"?o:void 0,tab:x},{preserveState:!0,preserveScroll:!0})},h=t=>{j(t),m.get(route("admin.tenants.index"),{search:i,status:l!=="all"?l:void 0,plan:o!=="all"?o:void 0,tab:t},{preserveState:!0,preserveScroll:!0})},y=t=>{const s={free:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300",unified:"bg-gradient-to-r from-[#ff3d03] to-[#e63700] text-white shadow-md shadow-orange-500/20",pro:"bg-gradient-to-r from-blue-500 to-blue-700 text-white",custom:"bg-gradient-to-r from-purple-500 to-purple-700 text-white"};return s[t]||s.free};return e.jsxs(N,{children:[e.jsx(v,{title:"Gerenciar Lojas"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:"Gerenciar Lojas"}),e.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:[a.meta?.total||0," lojas cadastradas"]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(c,{href:route("admin.tenants.create"),className:"flex items-center gap-2 px-6 py-3 bg-[#ff3d03] hover:bg-[#ff3d03]/90 text-white rounded-xl font-bold text-sm shadow-lg shadow-[#ff3d03]/20 transition-all transform hover:scale-105",children:[e.jsx(w,{className:"h-4 w-4"}),"Nova Loja"]})})]}),e.jsxs("div",{className:"flex border-b border-gray-100 dark:border-white/5",children:[e.jsx("button",{onClick:()=>h("real"),className:`px-6 py-4 text-sm font-black transition-all border-b-2 ${x==="real"?"border-[#ff3d03] text-[#ff3d03]":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4"}),"Lojas Reais"]})}),e.jsx("button",{onClick:()=>h("demo"),className:`px-6 py-4 text-sm font-black transition-all border-b-2 ${x==="demo"?"border-[#ff3d03] text-[#ff3d03]":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),"Lojas de Demonstração"]})})]}),e.jsxs("div",{className:"bg-white dark:bg-[#1a1b1e] p-4 rounded-[24px] border border-gray-100 dark:border-white/5 shadow-sm flex flex-col md:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1 w-full",children:[e.jsx(S,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nome, domínio ou email...",value:i,onChange:t=>f(t.target.value),className:"w-full pl-9 pr-4 py-2.5 rounded-xl bg-gray-50 dark:bg-white/5 border-transparent focus:border-[#ff3d03] focus:ring-[#ff3d03] text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto overflow-x-auto pb-2 md:pb-0",children:[e.jsxs("select",{value:l,onChange:t=>p("status",t.target.value),className:"px-4 py-2.5 rounded-xl bg-gray-50 dark:bg-white/5 border-transparent focus:border-[#ff3d03] focus:ring-[#ff3d03] text-sm font-medium min-w-[140px]",children:[e.jsx("option",{value:"all",children:"Todos Status"}),e.jsx("option",{value:"active",children:"Ativos"}),e.jsx("option",{value:"suspended",children:"Suspensos"}),e.jsx("option",{value:"trial",children:"Em Trial"}),e.jsx("option",{value:"inactive",children:"Inativos"})]}),e.jsxs("select",{value:o,onChange:t=>p("plan",t.target.value),className:"px-4 py-2.5 rounded-xl bg-gray-50 dark:bg-white/5 border-transparent focus:border-[#ff3d03] focus:ring-[#ff3d03] text-sm font-medium min-w-[140px]",children:[e.jsx("option",{value:"all",children:"Todos Planos"}),d&&d.map(t=>e.jsx("option",{value:t.plan,children:t.display_name},t.plan))]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-[#1a1b1e] rounded-[32px] border border-gray-100 dark:border-white/5 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50 dark:bg-white/5 border-b border-gray-100 dark:border-white/5",children:[e.jsx("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Loja"}),e.jsx("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Plano"}),e.jsx("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"text-left py-4 px-6 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Uso"}),e.jsx("th",{className:"text-right py-4 px-6 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Ações"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-white/5",children:[a.data.map(t=>e.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-[#ff3d03] to-[#e63700] flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-[#ff3d03]/20",children:t.slug.substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx(c,{href:route("admin.tenants.edit",t.id),className:"font-bold text-gray-900 dark:text-white hover:text-[#ff3d03] transition-colors",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-0.5",children:[e.jsx("span",{children:t.email}),e.jsx("span",{children:"•"}),e.jsxs("a",{href:`http://${t.slug}.oodelivery.com.br`,target:"_blank",rel:"noreferrer",className:"hover:underline hover:text-[#ff3d03]",children:[t.slug,".oodelivery.com.br"]})]})]})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("div",{className:"flex flex-col gap-1",children:e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-xs font-bold w-fit ${y(t.plan)}`,children:t.plan.toUpperCase()})})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("span",{className:`px-2.5 py-1 rounded-lg text-xs font-bold flex items-center gap-1.5 w-fit ${t.is_suspended?"bg-red-50 text-red-600 dark:bg-red-500/10 dark:text-red-400":t.is_active?"bg-green-50 text-green-600 dark:bg-green-500/10 dark:text-green-400":"bg-gray-100 text-gray-600 dark:bg-white/10 dark:text-gray-400"}`,children:[e.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${t.is_suspended?"bg-red-500":t.is_active?"bg-green-500":"bg-gray-500"}`}),t.is_suspended?"Suspenso":t.is_active?"Ativo":"Inativo"]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[e.jsx(_,{className:"h-3 w-3"})," Prod."]}),e.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:[t.usage.products,e.jsxs("span",{className:"text-gray-400 font-normal",children:[" / ",t.limits.products||"∞"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[e.jsx(T,{className:"h-3 w-3"})," Ped."]}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:t.usage.orders})]})]})}),e.jsx("td",{className:"py-4 px-6 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(c,{href:route("admin.tenants.impersonate",t.id),className:"p-2 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-500/10 text-gray-400 hover:text-[#ff3d03] transition-colors",title:"Acessar Loja (Suporte)",children:e.jsx(L,{className:"h-4 w-4"})}),e.jsx(c,{href:route("admin.tenants.edit",t.id),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/10 text-gray-400 hover:text-[#ff3d03] transition-colors",title:"Editar",children:e.jsx(P,{className:"h-4 w-4"})})]})})]},t.id)),a.data.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"py-12 text-center text-gray-500",children:[e.jsx(g,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"font-medium",children:"Nenhuma loja encontrada"}),e.jsx("p",{className:"text-xs mt-1",children:"Tente ajustar os filtros de busca"})]})})]})]})}),e.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-white/5",children:e.jsx(C,{links:a.links})})]})]})]})}export{we as default};
