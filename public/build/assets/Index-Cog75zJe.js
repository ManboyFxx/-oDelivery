import{r as i,u as N,j as e,H as y,T as _}from"./app-B_J8lkvq.js";import{A as C}from"./AuthenticatedLayout-DKdP690n.js";import{P as I}from"./PageHeader-DB876WB8.js";import{M as S}from"./Modal-C-bZLru0.js";import{P as E}from"./plus-B3HQxRgD.js";import{S as P}from"./search-BGAmxcu_.js";import{B as g}from"./beaker-BwssnQzE.js";import{S as A}from"./square-pen-V3IbRAaL.js";import{P as M}from"./power-Bl3ibsZq.js";import{P as q}from"./package-CeHhWqUy.js";import{F as D}from"./funnel-B-q297Rk.js";import{S as T}from"./save-nyUg9hUn.js";import"./shopping-bag-DaPSf6TI.js";import"./layout-dashboard-DDvXwa6l.js";import"./credit-card-hB9Iy1G8.js";import"./trophy-CpSHVSLI.js";import"./chart-column-DlQMyJ49.js";import"./ticket-DBNRMPVC.js";import"./store-azgh8etq.js";import"./dollar-sign-DExvMb2d.js";import"./key-Wmv6-h3t.js";import"./shield-check-2o4NXgtW.js";import"./log-out-BCw83gpS.js";import"./transition-DR1ycciu.js";import"./use-sync-refs-D78moVXV.js";import"./truck-CuKP95K_.js";import"./switch-C3fnJxal.js";import"./use-resolve-button-type-LJuoFKDT.js";import"./keyboard-C8TFH4Q7.js";import"./hidden-DWZmHSJq.js";import"./menu-BcHp92a-.js";import"./portal-CNpUkHpF.js";import"./with-selector-FY2Gi7hl.js";import"./chevron-down-NvgkGDYJ.js";import"./clock-DD5LZAZg.js";import"./menu-COef93TY.js";import"./bell-DhFf-dhR.js";import"./eye-C1y5PipQ.js";import"./arrow-left-DhEioSnZ.js";function ve({ingredients:h}){const[o,u]=i.useState(""),[b,t]=i.useState(!1),[r,n]=i.useState(null),{data:l,setData:s,post:c,put:f,processing:d,reset:x,errors:m}=N({name:"",is_available:!0,stock:0,min_stock:0}),p=h.filter(a=>a.name.toLowerCase().includes(o.toLowerCase())),k=()=>{x(),n(null),t(!0)},j=a=>{s({name:a.name,is_available:a.is_available,stock:a.stock||0,min_stock:a.min_stock||0}),n(a),t(!0)},v=a=>{a.preventDefault(),r?f(route("ingredients.update",r.id),{onSuccess:()=>t(!1)}):c(route("ingredients.store"),{onSuccess:()=>{t(!1),x()}})},w=a=>{c(route("ingredients.toggle",a.id))};return e.jsxs(C,{children:[e.jsx(y,{title:"Gerenciamento de Ingredientes"}),e.jsxs("div",{className:"flex h-full flex-col space-y-8",children:[e.jsx(I,{title:"Ingredientes",subtitle:"Gerencie os insumos e composições dos seus produtos.",action:e.jsxs("button",{onClick:k,className:"flex items-center gap-2 rounded-2xl bg-[#ff3d03] px-6 py-3 text-sm font-bold text-white shadow-lg shadow-[#ff3d03]/20 hover:bg-[#e63602] transition-all",children:[e.jsx(E,{className:"h-5 w-5"}),"Novo Ingrediente"]})}),e.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(P,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 group-focus-within:text-[#ff3d03] transition-colors"}),e.jsx("input",{type:"text",placeholder:"Buscar ingredientes...",value:o,onChange:a=>u(a.target.value),className:"w-full pl-12 pr-4 py-3 rounded-2xl border-gray-200 dark:border-white/10 dark:bg-[#1a1b1e] dark:text-white focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent transition-all shadow-sm"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(a=>e.jsx("div",{className:"bg-white dark:bg-[#1a1b1e] rounded-[32px] border border-gray-100 dark:border-white/5 shadow-xl shadow-gray-200/50 dark:shadow-none overflow-hidden group hover:scale-[1.02] transition-all duration-300",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-3 rounded-2xl ${a.is_available?"bg-orange-50 dark:bg-orange-500/10":"bg-gray-100 dark:bg-white/5"}`,children:e.jsx(g,{className:`w-6 h-6 ${a.is_available?"text-[#ff3d03]":"text-gray-400"}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-gray-900 dark:text-white uppercase tracking-tight line-clamp-1",children:a.name}),e.jsx("span",{className:`text-xs font-bold uppercase tracking-widest ${a.is_available?"text-green-500":"text-red-500"}`,children:a.is_available?"Disponível":"Indisponível"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>j(a),className:"p-2 hover:bg-gray-50 dark:hover:bg-white/5 rounded-xl transition-colors text-gray-400 hover:text-[#ff3d03]",children:e.jsx(A,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>w(a),className:`p-2 rounded-xl transition-colors ${a.is_available?"text-green-500 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:a.is_available?"Desativar":"Ativar",children:e.jsx(M,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-white/2 rounded-2xl",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-tighter block mb-1",children:"Estoque Atual"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:`text-sm font-black ${a.stock<=a.min_stock?"text-red-500":"text-gray-900 dark:text-white"}`,children:[a.stock||0," unid"]})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-white/2 rounded-2xl",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-tighter block mb-1",children:"Vinculado a"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm font-black text-gray-900 dark:text-white",children:[a.complement_options_count||0," opções"]})]})]})]}),a.stock<=a.min_stock&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-500/10 rounded-2xl text-red-600 dark:text-red-400",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-bold uppercase",children:"Estoque baixo ou crítico"})]})]})},a.id))}),p.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-white/5 rounded-full flex items-center justify-center mb-6",children:e.jsx(g,{className:"w-10 h-10 text-gray-300"})}),e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2 uppercase italic tracking-tighter",children:"Nenhum ingrediente encontrado"}),e.jsx("p",{className:"text-gray-500 max-w-xs mx-auto",children:"Tente ajustar sua busca ou adicione um novo ingrediente para começar."})]})]}),e.jsx(S,{show:b,onClose:()=>t(!1),children:e.jsxs("form",{onSubmit:v,className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-6 uppercase tracking-tight italic",children:r?"Editar Ingrediente":"Novo Ingrediente"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Nome do Ingrediente"}),e.jsx("input",{type:"text",value:l.name,onChange:a=>s("name",a.target.value),className:"w-full px-5 py-4 rounded-2xl border-gray-200 dark:border-white/10 dark:bg-[#1a1b1e] dark:text-white focus:ring-2 focus:ring-[#ff3d03] transition-all",placeholder:"Ex: Bacon, Mussarela...",required:!0}),m.name&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:m.name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Estoque Inicial"}),e.jsx("input",{type:"number",value:l.stock,onChange:a=>s("stock",parseInt(a.target.value)),className:"w-full px-5 py-4 rounded-2xl border-gray-200 dark:border-white/10 dark:bg-[#1a1b1e] dark:text-white focus:ring-2 focus:ring-[#ff3d03] transition-all",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Mínimo para Alerta"}),e.jsx("input",{type:"number",value:l.min_stock,onChange:a=>s("min_stock",parseInt(a.target.value)),className:"w-full px-5 py-4 rounded-2xl border-gray-200 dark:border-white/10 dark:bg-[#1a1b1e] dark:text-white focus:ring-2 focus:ring-[#ff3d03] transition-all",min:"0"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 dark:bg-white/2 rounded-2xl",children:[e.jsx("input",{type:"checkbox",id:"is_available",checked:l.is_available,onChange:a=>s("is_available",a.target.checked),className:"w-5 h-5 rounded-lg border-gray-300 text-[#ff3d03] focus:ring-[#ff3d03]"}),e.jsx("label",{htmlFor:"is_available",className:"text-sm font-bold text-gray-700 dark:text-gray-300 cursor-pointer select-none",children:"Disponível para uso agora"})]})]}),e.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-gray-100 dark:border-white/5",children:[e.jsx("button",{type:"button",onClick:()=>t(!1),className:"flex-1 py-4 px-6 rounded-2xl text-sm font-bold text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5 transition-all",children:"Cancelar"}),e.jsxs("button",{type:"submit",disabled:d,className:"flex-1 py-4 px-6 rounded-2xl text-sm font-black text-white bg-[#ff3d03] shadow-lg shadow-[#ff3d03]/20 hover:bg-[#e63602] transition-all flex items-center justify-center gap-2 uppercase tracking-widest",children:[d?e.jsx("div",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(T,{className:"w-5 h-5"}),r?"Salvar":"Criar"]})]})]})})]})}export{ve as default};
