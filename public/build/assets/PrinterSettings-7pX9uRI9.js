import{b as y,u as j,r as p,j as e}from"./app-DStU8MwD.js";import{S as g}from"./SecondaryButton-SeRsFzXR.js";import{P as N}from"./PrimaryButton-BGPXm-XG.js";import{P as w}from"./printer-BoDiceMg.js";import{R as b}from"./refresh-cw-BoDnz7P8.js";import{C as v}from"./circle-alert-BVgghJlp.js";import{C as i}from"./check-45U1Zexh.js";import{C as h}from"./copy-DNNxWaep.js";function E({data:o,setData:d}){const{printer_token_exists:t,flash_printer_token:a,printer_token_raw:s}=y().props;console.log("PrinterSettings Debug:",{printer_token_exists:t,hasFlash:!!a,hasRaw:!!s});const{post:u,processing:n}=j({}),[c,m]=p.useState(!1),[l,f]=p.useState(!1),k=()=>{confirm("Gerar um novo token ir√° desconectar qualquer impressora usando o token anterior. Deseja continuar?")&&u(route("settings.printer.generate-token"))},x=r=>{r&&(navigator.clipboard.writeText(r),m(!0),setTimeout(()=>m(!1),2e3))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-premium-card rounded-[32px] border border-gray-100 dark:border-white/5 p-8 shadow-sm",children:[e.jsxs("h3",{className:"text-gray-900 dark:text-gray-200 mb-6 flex items-center gap-2 font-bold text-lg",children:[e.jsx(w,{className:"h-5 w-5 text-[#ff3d03]"}),"Configura√ß√µes de Impress√£o"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Largura do Papel"}),e.jsx("div",{className:"flex bg-gray-100 dark:bg-premium-dark p-1 rounded-xl border border-gray-200 dark:border-white/10",children:[58,80].map(r=>e.jsxs("button",{type:"button",onClick:()=>d("printer_paper_width",r),className:`flex-1 py-3 rounded-lg text-sm font-bold transition-all ${o.printer_paper_width===r?"bg-white dark:bg-premium-card text-[#ff3d03] shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[r,"mm"]},r))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"C√≥pias por Pedido"}),e.jsx("input",{type:"number",min:"1",max:"5",value:o.print_copies,onChange:r=>d("print_copies",parseInt(r.target.value)),className:"w-full px-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white font-bold"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-premium-dark rounded-2xl border border-gray-100 dark:border-white/5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:"Impress√£o Autom√°tica"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Imprimir automaticamente ao confirmar o pedido."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o.auto_print_on_confirm,onChange:r=>d("auto_print_on_confirm",r.target.checked)}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[#ff3d03]"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-premium-card rounded-[32px] border border-gray-100 dark:border-white/5 p-8 shadow-sm",children:[e.jsxs("h3",{className:"text-gray-900 dark:text-gray-200 mb-6 flex items-center gap-2 font-bold text-lg",children:[e.jsx(b,{className:"h-5 w-5 text-[#ff3d03]"}),"Token de Impress√£o Local"]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-200 dark:border-blue-800/30 rounded-2xl p-4 mb-6 flex items-start gap-3",children:[e.jsx(v,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("p",{className:"font-medium",children:"Como Configurar"}),e.jsxs("p",{className:"mt-1",children:["Para imprimir pedidos localmente, baixe o app ",e.jsx("strong",{children:"√≥oprint"})," e use o token abaixo."]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status do Token"}),e.jsx("div",{className:"flex items-center gap-2",children:t?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-sm font-medium",children:[e.jsx(i,{className:"h-3 w-3"}),"Token Ativo"]}):e.jsx("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-sm font-medium",children:"Nenhum token gerado"})})]}),a&&e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200 dark:border-yellow-800/30 rounded-2xl p-6",children:[e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 font-medium mb-3",children:"‚ö†Ô∏è Copie este token agora! Ele n√£o ser√° exibido novamente nesta forma expandida."}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 bg-white dark:bg-black/20 p-3 rounded-xl border border-yellow-200 dark:border-yellow-800/30 font-mono text-sm break-all",children:a}),e.jsx(g,{onClick:()=>x(a),className:"h-12 w-12 flex items-center justify-center p-0 shrink-0",children:c?e.jsx(i,{className:"h-5 w-5 text-green-600"}):e.jsx(h,{className:"h-5 w-5"})})]})]}),s&&!a&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"üé´ Seu Token de Impress√£o Local"}),e.jsxs("div",{className:"flex items-center gap-2 relative",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:l?"text":"password",readOnly:!0,value:s,className:"w-full bg-gray-50 dark:bg-premium-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 font-mono text-sm pr-12"}),e.jsx("button",{onClick:()=>f(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:l?e.jsx("span",{role:"img","aria-label":"hide",children:"üôà"}):e.jsx("span",{role:"img","aria-label":"show",children:"üëÅÔ∏è"})})]}),e.jsx(g,{onClick:()=>x(s),className:"h-12 w-12 flex items-center justify-center p-0 shrink-0",children:c?e.jsx(i,{className:"h-5 w-5 text-green-600"}):e.jsx(h,{className:"h-5 w-5"})})]}),e.jsxs("p",{className:"text-[10px] text-gray-500",children:["Este token permite que o app ",e.jsx("b",{children:"√≥oprint"})," se conecte a este terminal."]})]}),t&&!s&&!a&&e.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 border border-dashed border-gray-200 dark:border-white/10 rounded-2xl p-6 text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Voc√™ possui um token ativo, mas ele foi gerado antes desta atualiza√ß√£o e n√£o pode ser exibido."}),e.jsx("p",{className:"text-xs text-gray-400",children:"Gere um novo token abaixo para que ele fique sempre vis√≠vel aqui."})]}),e.jsx("div",{className:"pt-4 border-t border-gray-100 dark:border-white/5",children:e.jsxs(N,{type:"button",onClick:k,disabled:n,className:"w-full sm:w-auto",children:[e.jsx(b,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),t?"Gerar Novo Token":"Gerar Token de Acesso"]})})]})]})]})}export{E as default};
