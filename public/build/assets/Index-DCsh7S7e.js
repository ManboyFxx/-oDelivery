import{c as $e,l as ns,r as o,b as p,j as e,d as h,H as os,X as A}from"./app-Co-RcoKZ.js";import{M as is}from"./Modal-BCYtFCag.js";import ds from"./CheckoutModal-CZwGlJEG.js";import{S as k}from"./shopping-bag-D_1QUoay.js";import{M as we}from"./minus-Bi8DrwD5.js";import{P as ne}from"./plus-BvTKcDzm.js";import{S as ve}from"./shopping-cart-BuFSSPuw.js";import{P as _e}from"./pen-CJ7O9HdF.js";import{T as ke}from"./trash-2-DwDioJnM.js";import{T as oe,L as cs}from"./trophy-Bbx6phls.js";import{G as v}from"./gift-BMOKG3Hs.js";import{S as xs}from"./sparkles-D9YEV0eG.js";import{M as U}from"./map-pin-0asnjzfR.js";import{C as ms}from"./check-De49R9vz.js";import{H as Ce}from"./history-C_SIF67C.js";import{M as hs}from"./message-circle-6h-bJttO.js";import{P as Se}from"./phone-hZ8ddDQ_.js";import{I as Ee,F as gs}from"./instagram-DPxuN70_.js";import{G as ze}from"./globe-rkJaUcVo.js";import{C as ps}from"./chevron-right-CpXaVoNJ.js";import{U as fs}from"./user-vhUyrQqX.js";import{C as us}from"./clock--ttMHVBI.js";import"./transition-BBCVaVDC.js";import"./circle-check-big-G87-CjUU.js";import"./ticket-llffRvF2.js";import"./dollar-sign-Ckn95nOT.js";import"./credit-card-BoiVNEpj.js";import"./banknote-CvDptaUq.js";import"./wallet-VIwHQ3AC.js";import"./loader-circle-BNHOn7WM.js";const bs=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ys=$e("house",bs);const js=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Ns=$e("navigation",js),M=({price:r})=>e.jsxs("span",{className:"font-bold text-[#ff3d03]",children:["R$ ",Number(r).toFixed(2).replace(".",",")]});function et({store:r,categories:C,slug:ie,authCustomer:Oe,activePromotion:u}){const de=r.theme_mode||"modern-clean",{play:Pe,initializeAudio:ce}=ns(),[S,Q]=o.useState("all"),[Ae,b]=o.useState(!1),[Me,xe]=o.useState(!1),[me,he]=o.useState("phone"),[B,G]=o.useState(""),[ge,pe]=o.useState(""),[n,F]=o.useState(Oe),[_,y]=o.useState(!1),[c,H]=o.useState(null),[E,z]=o.useState(1),[fe,I]=o.useState(""),[T,R]=o.useState({}),[W,X]=o.useState(null),[f,$]=o.useState([]),[Fe,O]=o.useState(!1),[J,q]=o.useState(!1),[j,D]=o.useState("info"),[P,Ie]=o.useState([]),[Te,L]=o.useState(!1),[K,Y]=o.useState(null),[Z,Re]=o.useState([]),[ee,qe]=o.useState(1),[De,ue]=o.useState(!1),[Le,Ve]=o.useState(!1),[Ue,se]=o.useState(!1),[x,g]=o.useState({street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zip_code:""});o.useEffect(()=>{const s=()=>{ce()};return window.addEventListener("click",s,{once:!0}),window.addEventListener("touchstart",s,{once:!0}),()=>{window.removeEventListener("click",s),window.removeEventListener("touchstart",s)}},[ce]),o.useEffect(()=>{const s=localStorage.getItem("cart");s&&$(JSON.parse(s))},[]),o.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(f))},[f]),o.useEffect(()=>{J&&n&&V()},[J,n]);const V=async()=>{try{const s=await p.get("/customer/addresses");Ie(s.data)}catch(s){console.error("Error loading addresses:",s)}},te=async(s=1)=>{if(n){ue(!0);try{const t=await p.get("/customer/orders",{params:{page:s,customer_id:n.id,tenant_id:r.settings.tenant_id}});Re(t.data.orders),qe(s),Ve(t.data.pagination.has_more)}catch(t){console.error("Error loading orders:",t)}finally{ue(!1)}}};o.useEffect(()=>{j==="orders"&&n&&Z.length===0&&te(1)},[j,n]);const Qe=s=>{Q(s);const t=document.getElementById(s);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},Be=async s=>{s.preventDefault(),y(!0);try{const t=await p.post("/customer/check-phone",{phone:B,tenant_slug:ie});t.data.exists?(F(t.data.customer),b(!1),G("")):he("name")}catch(t){console.error("Error checking phone:",t)}finally{y(!1)}},Ge=async s=>{s.preventDefault(),y(!0);try{const t=await p.post("/customer/complete-registration",{phone:B,name:ge,tenant_slug:ie});F(t.data.customer),b(!1),G(""),pe(""),he("phone")}catch(t){console.error("Error completing registration:",t),alert(t.response?.data?.message||"Erro ao completar cadastro. Tente novamente.")}finally{y(!1)}},He=async()=>{try{await p.post("/customer/logout"),F(null)}catch(s){console.error("Error logging out:",s)}},be=s=>{H(s),z(1),I(""),R({}),X(null)},We=s=>{const t=f[s];H(t.product),z(t.quantity),I(t.notes);const a={};t.selectedComplements.forEach(l=>{a[l.groupId]||(a[l.groupId]={}),a[l.groupId][l.optionId]=l.quantity||1}),R(a),X(s),O(!1)},Xe=async s=>{if(!n){b(!0);return}if(n.loyalty_points<(s.loyalty_points_cost||0)){alert(`VocÃª nÃ£o tem pontos suficientes. NecessÃ¡rio: ${s.loyalty_points_cost}, DisponÃ­vel: ${n.loyalty_points}`);return}y(!0);try{const t=await p.post("/customer/redeem-product",{tenant_id:r.settings.tenant_id,customer_id:n.id,product_id:s.id,quantity:1});t.data.success&&(F({...n,loyalty_points:t.data.remaining_points}),alert(`ParabÃ©ns! VocÃª resgatou ${s.name}!
Pedido #${t.data.order_number} criado com sucesso.`))}catch(t){console.error("Redemption error:",t);const a=t.response?.data?.error||"Erro ao processar resgate. Tente novamente.";alert(a)}finally{y(!1)}},ae=()=>{H(null),z(1),I(""),R({}),X(null)},ye=(s,t,a,l,i)=>{R(d=>{const m=d[s]||{},w=m[t]||0,N=Math.max(0,Math.min(w+a,l));if(Object.values(m).reduce((rs,ls)=>rs+ls,0)-w+N>i)return d;const le={...m};return N===0?delete le[t]:le[t]=N,{...d,[s]:le}})},je=s=>{const t=T[s]||{};return Object.values(t).reduce((a,l)=>a+l,0)},Ne=()=>{if(!c)return 0;let s=Number(c.price);return c.complement_groups?.forEach(t=>{const a=T[t.id]||{};Object.entries(a).forEach(([l,i])=>{const d=t.options.find(m=>m.id===l);d&&(s+=d.price*i)})}),s*E},Je=()=>{if(!c?.complement_groups)return{valid:!0,message:""};for(const s of c.complement_groups){const t=je(s.id);if(s.is_required&&t===0)return{valid:!1,message:`"${s.name}" Ã© obrigatÃ³rio. Selecione pelo menos ${s.min_selections} opÃ§Ã£o(Ãµes).`};if(t>0&&t<s.min_selections)return{valid:!1,message:`Selecione pelo menos ${s.min_selections} opÃ§Ã£o(Ãµes) em "${s.name}".`};if(t>s.max_selections)return{valid:!1,message:`Selecione no mÃ¡ximo ${s.max_selections} opÃ§Ã£o(Ãµes) em "${s.name}".`}}return{valid:!0,message:""}},Ke=()=>{if(!c)return;const s=Je();if(!s.valid){alert(s.message);return}const t=[];c.complement_groups?.forEach(l=>{const i=T[l.id]||{};Object.entries(i).forEach(([d,m])=>{const w=l.options.find(N=>N.id===d);if(w&&m>0)for(let N=0;N<m;N++)t.push({groupId:l.id,optionId:w.id,name:w.name,price:w.price,quantity:1})})});const a={product:c,quantity:E,notes:fe,selectedComplements:t,subtotal:Ne()};$(W!==null?l=>l.map((i,d)=>d===W?a:i):l=>[...l,a]),Pe("success"),ae()},Ye=s=>{$(t=>t.filter((a,l)=>l!==s))},re=()=>f.reduce((s,t)=>s+t.subtotal,0),Ze=()=>f.reduce((s,t)=>s+t.quantity,0),es=async s=>{s.preventDefault(),y(!0);try{K?await p.put(`/customer/addresses/${K.id}`,x):await p.post("/customer/addresses",x),await V(),L(!1),Y(null),g({street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zip_code:""})}catch(t){t.response?.status===422&&alert(t.response.data.message)}finally{y(!1)}},ss=async s=>{if(confirm("Deseja realmente remover este endereÃ§o?"))try{await p.delete(`/customer/addresses/${s}`),await V()}catch(t){console.error("Error deleting address:",t)}},ts=async s=>{try{await p.post(`/customer/addresses/${s}/set-default`),await V()}catch(t){console.error("Error setting default address:",t)}},as=s=>{Y(s),g({street:s.street,number:s.number,complement:s.complement||"",neighborhood:s.neighborhood,city:s.city,state:s.state,zip_code:s.zip_code}),L(!0)};return e.jsxs("div",{className:h("min-h-screen transition-colors duration-500",de==="classic"?"bg-[#1a1b1e] text-gray-100":"bg-gray-50 text-gray-900"),children:[e.jsx(os,{title:r.name}),Ae&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>b(!1),children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:me==="phone"?"Entrar ou Cadastrar":"Complete seu Cadastro"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(A,{className:"h-6 w-6"})})]}),me==="phone"?e.jsxs("form",{onSubmit:Be,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"NÃºmero de Telefone"}),e.jsx("input",{type:"tel",value:B,onChange:s=>G(s.target.value),placeholder:"(00) 00000-0000",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent",required:!0})]}),e.jsx("button",{type:"submit",disabled:_,className:"w-full bg-[#ff3d03] hover:bg-[#e63700] text-white font-bold py-3 rounded-xl transition-colors disabled:opacity-50",children:_?"Verificando...":"Continuar"})]}):e.jsxs("form",{onSubmit:Ge,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seu Nome"}),e.jsx("input",{type:"text",value:ge,onChange:s=>pe(s.target.value),placeholder:"Digite seu nome",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent",required:!0})]}),e.jsx("button",{type:"submit",disabled:_,className:"w-full bg-[#ff3d03] hover:bg-[#e63700] text-white font-bold py-3 rounded-xl transition-colors disabled:opacity-50",children:_?"Cadastrando...":"Finalizar Cadastro"})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end md:items-center justify-center",onClick:ae,children:e.jsxs("div",{className:"bg-white rounded-t-3xl md:rounded-3xl w-full md:max-w-2xl max-h-[90vh] overflow-y-auto",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"h-64 w-full bg-gray-100 relative",children:[c.image_url?e.jsx("img",{src:c.image_url,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-50 text-gray-300",children:e.jsx(k,{className:"h-20 w-20"})}),e.jsx("button",{onClick:ae,className:"absolute top-4 right-4 h-10 w-10 bg-white rounded-full flex items-center justify-center shadow-lg",children:e.jsx(A,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:c.name}),e.jsx("p",{className:"text-gray-600",children:c.description}),e.jsx("p",{className:"text-2xl font-bold text-[#ff3d03] mt-4",children:e.jsx(M,{price:c.price})})]}),c.complement_groups&&c.complement_groups.length>0&&e.jsx("div",{className:"space-y-4",children:c.complement_groups.map(s=>{const t=je(s.id),a=!s.is_required||t>=s.min_selections;return e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("h3",{className:"font-bold text-gray-900",children:[s.name,s.is_required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`text-xs font-medium px-2 py-1 rounded ${a?"bg-green-50 text-green-700":"bg-orange-50 text-orange-700"}`,children:[t,"/",s.max_selections]}),e.jsx("span",{className:"text-xs text-gray-500",children:s.min_selections>0&&`MÃ­n: ${s.min_selections}`})]})]}),e.jsx("div",{className:"space-y-2",children:s.options.map(l=>{const i=T[s.id]?.[l.id]||0,d=l.max_quantity||1,m=i<d&&t<s.max_selections;return e.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-xl transition-colors ${i>0?"bg-orange-50 border-[#ff3d03]":"bg-white hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:l.name}),d>1&&e.jsxs("span",{className:"text-xs text-gray-400",children:["(mÃ¡x: ",d,")"]})]}),l.price>0&&e.jsxs("span",{className:"text-sm text-gray-600",children:["+R$ ",l.price.toFixed(2).replace(".",","),i>1&&` Ã— ${i} = R$ ${(l.price*i).toFixed(2).replace(".",",")}`]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>ye(s.id,l.id,-1,d,s.max_selections),disabled:i===0,className:"h-8 w-8 rounded-lg bg-gray-200 text-gray-700 flex items-center justify-center disabled:opacity-30 disabled:cursor-not-allowed hover:bg-gray-300 transition-colors",children:e.jsx(we,{className:"h-4 w-4"})}),e.jsx("span",{className:"w-8 text-center font-bold text-gray-900",children:i}),e.jsx("button",{onClick:()=>ye(s.id,l.id,1,d,s.max_selections),disabled:!m,className:"h-8 w-8 rounded-lg bg-[#ff3d03] text-white flex items-center justify-center disabled:opacity-30 disabled:cursor-not-allowed hover:bg-[#e63700] transition-colors",children:e.jsx(ne,{className:"h-4 w-4"})})]})]},l.id)})})]},s.id)})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ObservaÃ§Ãµes (opcional)"}),e.jsx("textarea",{value:fe,onChange:s=>I(s.target.value),placeholder:"Ex: Sem cebola, bem passado...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent resize-none",rows:3})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-gray-100 rounded-xl p-2",children:[e.jsx("button",{onClick:()=>z(Math.max(1,E-1)),className:"h-10 w-10 bg-white rounded-lg flex items-center justify-center hover:bg-gray-50",children:e.jsx(we,{className:"h-5 w-5"})}),e.jsx("span",{className:"font-bold text-lg w-8 text-center",children:E}),e.jsx("button",{onClick:()=>z(E+1),className:"h-10 w-10 bg-white rounded-lg flex items-center justify-center hover:bg-gray-50",children:e.jsx(ne,{className:"h-5 w-5"})})]}),e.jsxs("button",{onClick:Ke,className:"flex-1 bg-[#ff3d03] hover:bg-[#e63700] text-white font-bold py-4 rounded-xl transition-colors flex items-center justify-center gap-2",children:[W!==null?"Atualizar":"Adicionar"," â€¢ ",e.jsx(M,{price:Ne()})]})]})]})]})}),Fe&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-end",onClick:()=>O(!1),children:e.jsxs("div",{className:"bg-white w-full md:w-96 h-full overflow-y-auto",onClick:s=>s.stopPropagation(),children:[e.jsx("div",{className:"p-6 border-b sticky top-0 bg-white z-10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Carrinho"}),e.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(A,{className:"h-6 w-6"})})]})}),f.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[e.jsx(ve,{className:"h-16 w-16 mb-4"}),e.jsx("p",{children:"Seu carrinho estÃ¡ vazio"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-6 space-y-4",children:f.map((s,t)=>e.jsxs("div",{className:"border rounded-xl p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-gray-900",children:s.product.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantidade: ",s.quantity]}),s.selectedComplements.length>0&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s.selectedComplements.map((a,l)=>e.jsxs("div",{children:["+ ",a.name]},l))}),s.notes&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1 italic",children:["Obs: ",s.notes]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>We(t),className:"text-blue-500 hover:text-blue-700",children:e.jsx(_e,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>Ye(t),className:"text-red-500 hover:text-red-700",children:e.jsx(ke,{className:"h-5 w-5"})})]})]}),e.jsx("div",{className:"text-right font-bold text-[#ff3d03]",children:e.jsx(M,{price:s.subtotal})})]},t))}),e.jsxs("div",{className:"sticky bottom-0 bg-white border-t p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[e.jsx("span",{children:"Total"}),e.jsx(M,{price:re()})]}),e.jsx("button",{onClick:()=>{n?(O(!1),se(!0)):b(!0)},className:"w-full bg-[#ff3d03] hover:bg-[#e63700] text-white font-bold py-4 rounded-xl transition-colors",children:"Finalizar Pedido"})]})]})]})}),J&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>q(!1),children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden flex flex-col",onClick:s=>s.stopPropagation(),children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Minha Conta"}),e.jsx("button",{onClick:()=>q(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(A,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"flex border-b",children:[e.jsx("button",{onClick:()=>D("info"),className:h("flex-1 py-3 text-sm font-medium transition-colors",j==="info"?"text-[#ff3d03] border-b-2 border-[#ff3d03]":"text-gray-500 hover:text-gray-700"),children:"Meus Dados"}),e.jsx("button",{onClick:()=>D("addresses"),className:h("flex-1 py-3 text-sm font-medium transition-colors",j==="addresses"?"text-[#ff3d03] border-b-2 border-[#ff3d03]":"text-gray-500 hover:text-gray-700"),children:"EndereÃ§os"}),e.jsx("button",{onClick:()=>D("orders"),className:h("flex-1 py-3 text-sm font-medium transition-colors",j==="orders"?"text-[#ff3d03] border-b-2 border-[#ff3d03]":"text-gray-500 hover:text-gray-700"),children:"Pedidos"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[j==="info"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"font-bold text-gray-900",children:n.name}),e.jsx("p",{className:"text-sm text-gray-600",children:n.phone})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl p-6 text-white relative overflow-hidden shadow-xl",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:e.jsx(oe,{size:140})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-2 bg-white/10 rounded-lg backdrop-blur-sm",children:e.jsx(v,{className:"h-5 w-5 text-[#ff3d03]"})}),e.jsx("span",{className:"text-sm font-bold text-gray-300 uppercase tracking-widest",children:"Fidelidade"}),e.jsxs("div",{className:h("ml-auto px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider flex items-center gap-1 border",(n.loyalty_tier||"bronze")==="diamond"?"bg-cyan-500/20 text-cyan-200 border-cyan-500/30":(n.loyalty_tier||"bronze")==="gold"?"bg-yellow-500/20 text-yellow-200 border-yellow-500/30":(n.loyalty_tier||"bronze")==="silver"?"bg-gray-500/20 text-gray-200 border-gray-500/30":"bg-orange-500/20 text-orange-200 border-orange-500/30"),children:[e.jsx(oe,{className:"h-3 w-3"}),n.loyalty_tier==="diamond"?"Diamante":n.loyalty_tier==="gold"?"Ouro":n.loyalty_tier==="silver"?"Prata":"Bronze"]})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-[#ff3d03] to-orange-400",children:n.loyalty_points||0}),e.jsx("span",{className:"text-lg font-bold text-gray-400",children:"pontos"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Use seus pontos para resgatar produtos grÃ¡tis!"})]})]}),(()=>{const s=[{name:"Bronze",min:0,max:99,icon:"ðŸ¥‰"},{name:"Prata",min:100,max:499,icon:"ðŸ¥ˆ"},{name:"Ouro",min:500,max:999,icon:"ðŸ¥‡"},{name:"Diamante",min:1e3,max:1/0,icon:"ðŸ’Ž"}],t=n.loyalty_points||0,a=s.find(m=>t>=m.min&&t<=m.max)||s[0],l=s.find(m=>m.min>t);if(!l)return e.jsx("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 rounded-xl p-4 border border-cyan-200",children:e.jsxs("p",{className:"text-sm font-bold text-cyan-900 text-center flex items-center justify-center gap-2",children:[e.jsx(xs,{className:"h-4 w-4"}),"VocÃª atingiu o nÃ­vel mÃ¡ximo!"]})});const i=l.min-t,d=(t-a.min)/(l.min-a.min)*100;return e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:"PrÃ³ximo NÃ­vel"}),e.jsxs("span",{className:"text-xs font-bold text-gray-900 flex items-center gap-1",children:["Faltam ",i," pts para ",l.icon," ",l.name]})]}),e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-4 overflow-hidden shadow-inner",children:e.jsx("div",{className:"bg-gradient-to-r from-[#ff3d03] to-orange-500 h-full rounded-full transition-all duration-1000 ease-out relative",style:{width:`${Math.min(d,100)}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/20 animate-[pulse_2s_infinite]"})})})]})})(),e.jsxs("button",{onClick:He,className:"w-full flex items-center justify-center gap-2 bg-red-50 text-red-600 font-bold py-3 rounded-xl hover:bg-red-100 transition-colors",children:[e.jsx(cs,{className:"h-5 w-5"}),"Sair da Conta"]})]}),j==="addresses"&&e.jsx("div",{className:"space-y-4",children:Te?e.jsxs("form",{onSubmit:es,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rua"}),e.jsx("input",{type:"text",value:x.street,onChange:s=>g({...x,street:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NÃºmero"}),e.jsx("input",{type:"text",value:x.number,onChange:s=>g({...x,number:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complemento"}),e.jsx("input",{type:"text",value:x.complement,onChange:s=>g({...x,complement:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bairro"}),e.jsx("input",{type:"text",value:x.neighborhood,onChange:s=>g({...x,neighborhood:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),e.jsx("input",{type:"text",value:x.city,onChange:s=>g({...x,city:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),e.jsx("input",{type:"text",value:x.state,onChange:s=>g({...x,state:s.target.value}),maxLength:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent",required:!0})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),e.jsx("input",{type:"text",value:x.zip_code,onChange:s=>g({...x,zip_code:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent",required:!0})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{L(!1),Y(null),g({street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zip_code:""})},className:"flex-1 bg-gray-100 text-gray-700 font-bold py-3 rounded-xl hover:bg-gray-200 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:_,className:"flex-1 bg-[#ff3d03] text-white font-bold py-3 rounded-xl hover:bg-[#e63700] transition-colors disabled:opacity-50",children:_?"Salvando...":K?"Atualizar":"Salvar"})]})]}):e.jsxs(e.Fragment,{children:[P.length<2&&e.jsxs("button",{onClick:()=>L(!0),className:"w-full flex items-center justify-center gap-2 bg-[#ff3d03] text-white font-bold py-3 rounded-xl hover:bg-[#e63700] transition-colors",children:[e.jsx(ne,{className:"h-5 w-5"}),"Adicionar EndereÃ§o (",P.length,"/2)"]}),P.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx(U,{className:"h-16 w-16 mx-auto mb-4"}),e.jsx("p",{children:"Nenhum endereÃ§o cadastrado"})]}):e.jsx("div",{className:"space-y-3",children:P.map(s=>e.jsxs("div",{className:"border rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ys,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[s.street,", ",s.number]}),s.complement&&e.jsx("p",{className:"text-sm text-gray-600",children:s.complement}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.neighborhood," - ",s.city,"/",s.state]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["CEP: ",s.zip_code]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>as(s),className:"text-blue-600 hover:text-blue-700",children:e.jsx(_e,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ss(s.id),className:"text-red-600 hover:text-red-700",children:e.jsx(ke,{className:"h-4 w-4"})})]})]}),s.is_default?e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[e.jsx(ms,{className:"h-3 w-3"}),"EndereÃ§o PadrÃ£o"]}):e.jsx("button",{onClick:()=>ts(s.id),className:"text-xs text-gray-600 hover:text-[#ff3d03]",children:"Tornar padrÃ£o"})]},s.id))})]})}),j==="orders"&&e.jsx("div",{className:"space-y-4",children:De?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx("div",{className:"animate-spin",children:e.jsx(Ce,{className:"h-8 w-8 mx-auto"})}),e.jsx("p",{className:"text-sm mt-2",children:"Carregando pedidos..."})]}):Z.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx(Ce,{className:"h-16 w-16 mx-auto mb-4"}),e.jsx("p",{className:"text-sm",children:"Nenhum pedido ainda"})]}):e.jsxs(e.Fragment,{children:[Z.map(s=>{const t={new:{label:"Novo",color:"blue"},confirmed:{label:"Confirmado",color:"purple"},preparing:{label:"Preparando",color:"orange"},ready:{label:"Pronto",color:"green"},delivered:{label:"Entregue",color:"green"},completed:{label:"Completo",color:"green"},cancelled:{label:"Cancelado",color:"red"}},a=t[s.status]||t.new;return e.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"font-bold text-lg",children:["#",s.order_number]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold bg-${a.color}-100 text-${a.color}-700`,children:a.label})]}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(s.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.loyalty_points_earned>0&&e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-orange-600",children:[e.jsx(v,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm font-bold",children:["+",s.loyalty_points_earned," pts"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"font-bold text-lg text-gray-900",children:["R$ ",Number(s.total).toFixed(2).replace(".",",")]})})]})},s.id)}),e.jsxs("div",{className:"flex gap-2 mt-4 justify-center pt-4 border-t",children:[ee>1&&e.jsx("button",{onClick:()=>te(ee-1),className:"px-4 py-2 text-sm font-bold bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Anterior"}),Le&&e.jsx("button",{onClick:()=>te(ee+1),className:"px-4 py-2 text-sm font-bold bg-[#ff3d03] text-white rounded-lg hover:bg-[#e63700] transition-colors",children:"PrÃ³ximos"})]})]})})]})]})}),de==="modern-clean"&&e.jsxs("div",{className:"bg-[#f2f4f7] min-h-screen pb-20",children:[e.jsx("div",{className:"h-64 w-full relative",children:e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url('${r.banner_url||"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?q=80&w=2670&auto=format&fit=crop"}')`},children:e.jsx("div",{className:"absolute inset-0 bg-black/40"})})}),e.jsx("div",{className:"max-w-5xl mx-auto px-4 relative -mt-20",children:e.jsxs("div",{className:"bg-white rounded-3xl p-4 md:p-6 shadow-sm border border-gray-100 grid md:grid-cols-[1fr_auto] gap-4 md:gap-6 items-start relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-[0.03] pointer-events-none",children:e.jsx(k,{size:300,strokeWidth:1})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 relative z-10",children:[e.jsxs("div",{className:"shrink-0 flex flex-col items-center sm:items-start gap-2",children:[e.jsx("div",{className:"h-20 w-20 md:h-24 md:w-24 rounded-2xl overflow-hidden shadow-lg border-2 border-white ring-1 ring-gray-100 bg-white",children:r.logo_url?e.jsx("img",{src:r.logo_url,className:"h-full w-full object-cover",alt:r.name}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-50 text-gray-400",children:e.jsx(k,{size:32})})}),e.jsxs("div",{className:h("px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1.5 shadow-sm",r.is_open?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:[e.jsx("span",{className:h("w-2 h-2 rounded-full",r.is_open?"bg-green-600 animate-pulse":"bg-red-600")}),r.is_open?"Aberto Agora":"Fechado"]})]}),e.jsxs("div",{className:"flex-1 text-center sm:text-left space-y-2 md:space-y-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl sm:text-3xl font-black text-gray-900 leading-tight",children:r.name}),r.description&&e.jsx("p",{className:"text-gray-500 text-sm mt-1 max-w-lg mx-auto sm:mx-0",children:r.description})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-600 text-sm",children:[e.jsx(U,{className:"h-4 w-4 shrink-0 text-[#ff3d03]"}),e.jsx("span",{className:"line-clamp-1",children:r.address})]}),e.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-2",children:[e.jsxs("a",{href:`https://waze.com/ul?q=${encodeURIComponent(r.address)}`,target:"_blank",className:"flex items-center gap-2 px-2 py-1.5 md:px-3 md:py-2 bg-blue-50 text-blue-600 rounded-xl text-xs font-bold hover:bg-blue-100 transition-colors border border-blue-100",children:[e.jsx(Ns,{className:"h-3.5 w-3.5 fill-current"}),"Waze"]}),e.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(r.address)}`,target:"_blank",className:"flex items-center gap-2 px-2 py-1.5 md:px-3 md:py-2 bg-white text-gray-700 rounded-xl text-xs font-bold hover:bg-gray-50 transition-colors border border-gray-200",children:[e.jsx(U,{className:"h-3.5 w-3.5"}),"Maps"]}),r.whatsapp&&e.jsxs("a",{href:`https://wa.me/${r.whatsapp.replace(/\D/g,"")}`,target:"_blank",className:"flex items-center gap-2 px-2 py-1.5 md:px-3 md:py-2 bg-green-50 text-green-700 rounded-xl text-xs font-bold hover:bg-green-100 transition-colors border border-green-100",children:[e.jsx(hs,{className:"h-3.5 w-3.5"}),"WhatsApp"]}),r.phone&&e.jsxs("a",{href:`tel:${r.phone.replace(/\D/g,"")}`,className:"flex items-center gap-2 px-2 py-1.5 md:px-3 md:py-2 bg-gray-50 text-gray-700 rounded-xl text-xs font-bold hover:bg-gray-100 transition-colors border border-gray-200",children:[e.jsx(Se,{className:"h-3.5 w-3.5"}),"Ligar"]})]})]}),e.jsxs("div",{className:"flex justify-center sm:justify-start gap-2 pt-1 border-t border-gray-50 mt-2",children:[r.instagram&&e.jsx("a",{href:`https://instagram.com/${r.instagram.replace("@","")}`,target:"_blank",className:"p-2 text-gray-400 hover:text-[#E1306C] hover:bg-pink-50 rounded-lg transition-colors",children:e.jsx(Ee,{className:"h-5 w-5"})}),r.facebook&&e.jsx("a",{href:r.facebook,target:"_blank",className:"p-2 text-gray-400 hover:text-[#1877F2] hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(gs,{className:"h-5 w-5"})}),r.website&&e.jsx("a",{href:r.website,target:"_blank",className:"p-2 text-gray-400 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ze,{className:"h-5 w-5"})})]})]})]}),e.jsx("div",{className:"w-full md:w-80 shrink-0 relative z-10",children:n?e.jsxs("div",{onClick:()=>q(!0),className:"h-full bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-4 md:p-5 text-white shadow-lg cursor-pointer hover:shadow-xl hover:scale-[1.02] transition-all relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-[#ff3d03] opacity-20 blur-3xl group-hover:opacity-30 transition-opacity"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 text-xs font-medium mb-0.5",children:"Bem-vindo(a),"}),e.jsx("p",{className:"font-bold text-lg truncate max-w-[150px]",children:n.name.split(" ")[0]})]}),(n.loyalty_tier||"bronze")&&e.jsxs("div",{className:h("px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider flex items-center gap-1 border",(n.loyalty_tier||"bronze")==="diamond"?"bg-cyan-500/20 text-cyan-200 border-cyan-500/30":(n.loyalty_tier||"bronze")==="gold"?"bg-yellow-500/20 text-yellow-200 border-yellow-500/30":(n.loyalty_tier||"bronze")==="silver"?"bg-gray-500/20 text-gray-200 border-gray-500/30":"bg-orange-500/20 text-orange-200 border-orange-500/30"),children:[e.jsx(oe,{className:"h-3 w-3"}),n.loyalty_tier==="diamond"?"Diamante":n.loyalty_tier==="gold"?"Ouro":n.loyalty_tier==="silver"?"Prata":"Bronze"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-end gap-2 mb-2",children:[e.jsx("span",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-[#ff3d03] to-orange-400",children:n.loyalty_points||0}),e.jsx("span",{className:"text-sm font-medium text-gray-400 mb-1.5",children:"pontos"})]}),e.jsx("div",{className:"w-full bg-gray-700/50 rounded-full h-1.5 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-[#ff3d03] to-orange-500 h-full max-w-full block",style:{width:"0%"}})}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("span",{className:"text-[10px] text-gray-400",children:"Ver recompensas"}),e.jsx("div",{className:"p-1 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:e.jsx(ps,{className:"h-4 w-4 text-white"})})]})]})]})]}):e.jsxs("div",{className:"h-full bg-gray-50 rounded-2xl p-4 md:p-5 border border-gray-100 flex flex-col justify-center items-center text-center gap-2 md:gap-3",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white rounded-full flex items-center justify-center shadow-sm text-[#ff3d03]",children:e.jsx(fs,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900",children:"Cliente Fidelidade?"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Entre para acumular pontos!"})]}),e.jsx("button",{onClick:()=>b(!0),className:"w-full py-2 bg-[#ff3d03] hover:bg-[#e63700] text-white rounded-xl text-sm font-bold transition-all shadow-lg shadow-orange-500/20",children:"Entrar / Cadastrar"})]})})]})}),!r.is_open&&e.jsx("div",{className:"max-w-5xl mx-auto px-4 mt-6",children:e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4 flex items-center gap-3 shadow-md",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-red-700",children:"ðŸ”’ Fechado no momento"}),e.jsx("p",{className:"text-sm text-red-600",children:r.operating_hours_formatted})]})]})}),u&&e.jsx("div",{className:"max-w-5xl mx-auto px-4 mt-6",children:e.jsx("div",{className:"rounded-2xl p-6 text-white shadow-lg hover:shadow-xl transition-shadow",style:{background:`linear-gradient(135deg, ${u.banner_gradient_start||"#ff3d03"}, ${u.banner_gradient_end||"#ff6b35"})`},children:e.jsxs("div",{className:"flex items-center gap-4",children:[u.banner_icon&&e.jsx("span",{className:"text-4xl flex-shrink-0",children:u.banner_icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-black text-2xl mb-1",children:u.name}),e.jsx("p",{className:"text-white/90 text-sm mb-2",children:u.description}),e.jsxs("p",{className:"text-sm font-bold text-white/95",children:["ðŸ”¥ Ganhe ",u.multiplier,"x mais pontos em todas as compras!"]})]})]})})}),e.jsx("div",{className:"max-w-5xl mx-auto px-4 mt-8 sticky top-4 z-40",children:e.jsxs("div",{className:"bg-white p-2 rounded-2xl shadow-lg border border-gray-100 flex gap-2 overflow-x-auto scrollbar-hide justify-center",children:[e.jsx("button",{onClick:()=>Q("all"),className:h("px-6 py-2.5 rounded-xl text-sm font-bold transition-all whitespace-nowrap",S==="all"?"bg-[#ff3d03] text-white shadow-lg shadow-orange-500/30":"text-gray-500 hover:bg-gray-50"),children:"Todos"}),C.filter(s=>s.category_type!=="loyalty_rewards").map(s=>e.jsx("button",{onClick:()=>Qe(s.id),className:h("px-6 py-2.5 rounded-xl text-sm font-bold transition-all whitespace-nowrap",S===s.id?"bg-[#ff3d03] text-white shadow-lg shadow-orange-500/30":"text-gray-500 hover:bg-gray-50"),children:s.name},s.id)),C.some(s=>s.category_type==="loyalty_rewards"&&s.products?.length>0)&&e.jsxs("button",{onClick:()=>Q("rewards"),className:h("px-6 py-2.5 rounded-xl text-sm font-bold transition-all whitespace-nowrap flex items-center gap-2",S==="rewards"?"bg-[#ff3d03] text-white shadow-lg shadow-orange-500/30":"text-gray-500 hover:bg-gray-50"),children:[e.jsx(v,{className:"h-4 w-4"}),"Recompensas"]})]})}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 mt-8 space-y-12 pb-24",children:[S==="all"&&(()=>{const s=C.flatMap(t=>t.products).filter(t=>t.is_featured&&t.is_available!==!1);return s.length===0?null:e.jsxs("div",{className:"scroll-mt-40 mb-12",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-black text-gray-800 uppercase tracking-wide border-l-4 border-yellow-400 pl-3 flex items-center gap-2",children:"â­ Destaques"}),e.jsxs("span",{className:"text-sm font-medium text-gray-400",children:[s.length," itens"]})]}),e.jsx("div",{className:"flex overflow-x-auto gap-4 pb-4 scrollbar-hide snap-x -mx-4 px-4 md:mx-0 md:px-0",children:s.map(t=>{const a=t.track_stock&&(t.stock_quantity||0)<=0,l=t.promotional_price&&Number(t.promotional_price)<Number(t.price);return e.jsxs("div",{className:`snap-center shrink-0 min-w-[260px] w-[260px] bg-white rounded-xl overflow-hidden shadow-md border border-yellow-100 flex flex-col ${a?"opacity-70 grayscale":"hover:shadow-lg hover:border-yellow-300 transition-all duration-300"}`,children:[e.jsxs("div",{className:"h-32 w-full bg-gray-100 relative overflow-hidden",children:[t.image_url?e.jsx("img",{src:t.image_url,className:"h-full w-full object-cover hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-50 text-gray-300",children:e.jsx(k,{className:"h-12 w-12"})}),e.jsxs("div",{className:"absolute top-2 left-2 right-2 flex flex-wrap gap-2 z-20",children:[t.loyalty_redeemable&&t.loyalty_points_cost>0&&e.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 via-orange-500 to-pink-500 text-white px-2.5 py-1 rounded-lg text-[10px] font-black shadow-lg shadow-orange-500/50 flex items-center gap-1",children:[e.jsx(v,{className:"h-3 w-3"}),t.loyalty_points_cost," PTS"]}),t.is_promotional&&e.jsx("div",{className:"bg-red-500 text-white px-2 py-0.5 rounded-full text-[10px] font-bold shadow-lg shadow-red-500/50",children:"ðŸ”¥ PROMOÃ‡ÃƒO"}),t.is_new&&e.jsx("div",{className:"bg-purple-500 text-white px-2 py-0.5 rounded-full text-[10px] font-bold shadow-lg shadow-purple-500/50",children:"âœ¨ NOVO"}),t.is_exclusive&&e.jsx("div",{className:"bg-cyan-500 text-white px-2 py-0.5 rounded-full text-[10px] font-bold shadow-lg shadow-cyan-500/50",children:"ðŸ’Ž EXCLUSIVO"}),t.is_featured&&e.jsx("div",{className:"bg-yellow-400 text-yellow-900 px-2 py-0.5 rounded-full text-[10px] font-bold shadow-sm",children:"â­ DESTAQUE"})]}),a&&e.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-10",children:e.jsx("span",{className:"bg-red-600 text-white font-black text-xs uppercase tracking-widest px-3 py-1.5 rounded-lg -rotate-3 border-2 border-white shadow-lg",children:"Esgotado"})})]}),e.jsxs("div",{className:"p-3 flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-sm mb-1 line-clamp-1",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mb-3 flex-1",children:t.description}),e.jsx("div",{className:"mt-auto pt-2 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex flex-col",children:[l&&e.jsxs("span",{className:"text-xs text-gray-400 line-through",children:["R$ ",Number(t.price).toFixed(2).replace(".",",")]}),e.jsxs("div",{className:"text-[#ff3d03] font-bold text-base",children:["R$ ",Number(l?t.promotional_price:t.price).toFixed(2).replace(".",",")]})]}),e.jsx("button",{onClick:()=>!a&&be(t),disabled:a,className:`px-3 py-1.5 rounded-lg font-bold text-xs shadow-md active:scale-95 transition-transform
                                                                            ${a?"bg-gray-200 text-gray-500 cursor-not-allowed shadow-none":"bg-[#ff3d03] text-white hover:bg-[#e63700] shadow-orange-500/20"}`,children:a?"IndisponÃ­vel":"Adicionar"})]})})]})]},`featured-${t.id}`)})})]})})(),S==="rewards"?(()=>{const t=C.find(a=>a.category_type==="loyalty_rewards")?.products||[];return t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(v,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhuma recompensa disponÃ­vel no momento"})]}):e.jsxs("div",{className:"scroll-mt-40",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-black text-gray-800 uppercase tracking-wide border-l-4 border-[#ff3d03] pl-3",children:"ðŸŽ Recompensas"}),e.jsxs("span",{className:"text-sm font-medium text-gray-400",children:[t.length," resgates"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:t.map(a=>{const l=n&&n.loyalty_points>=(a.loyalty_points_cost||0),i=n&&n.loyalty_points<(a.loyalty_points_cost||0);return e.jsxs("div",{className:"relative overflow-hidden rounded-2xl border-2 border-orange-300 bg-gradient-to-br from-orange-50 to-amber-50 flex flex-col shadow-lg hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"absolute top-2 right-2 bg-orange-500 text-white px-3 py-1 rounded-full text-xs font-bold z-10 flex items-center gap-1",children:[e.jsx(v,{className:"h-3 w-3"}),"RESGATE"]}),e.jsxs("div",{className:"h-32 md:h-48 w-full bg-gray-100 relative overflow-hidden",children:[a.image_url?e.jsx("img",{src:a.image_url,className:"h-full w-full object-cover hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-50 text-gray-300",children:e.jsx(k,{className:"h-12 w-12"})}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-wrap gap-2 z-20",children:[a.is_promotional&&e.jsx("div",{className:"bg-red-500 text-white px-2 py-0.5 rounded-full text-[10px] font-bold shadow-lg shadow-red-500/50",children:"ðŸ”¥ PROMOÃ‡ÃƒO"}),a.is_new&&e.jsx("div",{className:"bg-purple-500 text-white px-2 py-0.5 rounded-full text-[10px] font-bold shadow-lg shadow-purple-500/50",children:"âœ¨ NOVO"}),a.is_exclusive&&e.jsx("div",{className:"bg-cyan-500 text-white px-2 py-0.5 rounded-full text-[10px] font-bold shadow-lg shadow-cyan-500/50",children:"ðŸ’Ž EXCLUSIVO"}),a.is_featured&&e.jsx("div",{className:"bg-yellow-400 text-yellow-900 px-2 py-0.5 rounded-full text-[10px] font-bold shadow-sm",children:"â­ DESTAQUE"})]})]}),e.jsxs("div",{className:"p-3 md:p-4 flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-bold text-sm md:text-lg text-gray-900 mb-1 md:mb-2",children:a.name}),e.jsx("p",{className:"text-xs md:text-sm text-gray-600 line-clamp-2 mb-2 md:mb-4 flex-1",children:a.description||"Recompensa exclusiva"}),e.jsxs("div",{className:"mt-auto pt-4 border-t border-orange-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{className:"text-2xl font-black text-orange-600",children:a.loyalty_points_cost})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"pts"})]}),n&&e.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Seu saldo: ",e.jsx("span",{className:"font-bold text-orange-600",children:n.loyalty_points})," pontos"]}),e.jsx("button",{onClick:()=>{n?Xe(a):b(!0)},disabled:i,className:`w-full font-bold py-2 md:py-3 rounded-xl transition-colors text-xs md:text-sm uppercase tracking-wide
                                                                        ${i?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600 text-white shadow-lg active:scale-95"}`,children:n?l?"Resgatar":`Faltam ${(a.loyalty_points_cost||0)-n.loyalty_points} pontos`:"FaÃ§a Login"})]})]})]},a.id)})})]},"rewards")})():C.filter(s=>s.category_type!=="loyalty_rewards").map(s=>e.jsxs("div",{id:s.id,className:"scroll-mt-40",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-black text-gray-800 uppercase tracking-wide border-l-4 border-[#ff3d03] pl-3",children:s.name}),e.jsxs("span",{className:"text-sm font-medium text-gray-400",children:[s.products.length," itens"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:s.products.map(t=>{const a=t.track_stock&&(t.stock_quantity||0)<=0;return e.jsxs("div",{className:`bg-white rounded-2xl overflow-hidden shadow-sm transition-all duration-300 group border border-gray-100 flex flex-col ${a?"opacity-70 grayscale":"hover:shadow-xl"}`,children:[e.jsxs("div",{className:"h-32 md:h-48 w-full bg-gray-100 relative overflow-hidden",children:[t.image_url?e.jsx("img",{src:t.image_url,className:"h-full w-full object-cover group-hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-50 text-gray-300",children:e.jsx(k,{className:"h-12 w-12"})}),e.jsxs("div",{className:"absolute top-3 left-3 right-3 flex flex-wrap gap-2 z-20",children:[t.is_promotional&&e.jsx("div",{className:"bg-red-500 text-white px-2 py-0.5 rounded-full text-[10px] font-bold shadow-lg shadow-red-500/50",children:"ðŸ”¥ PROMOÃ‡ÃƒO"}),t.is_new&&e.jsx("div",{className:"bg-purple-500 text-white px-2 py-0.5 rounded-full text-[10px] font-bold shadow-lg shadow-purple-500/50",children:"âœ¨ NOVO"}),t.is_exclusive&&e.jsx("div",{className:"bg-cyan-500 text-white px-2 py-0.5 rounded-full text-[10px] font-bold shadow-lg shadow-cyan-500/50",children:"ðŸ’Ž EXCLUSIVO"}),t.is_featured&&e.jsx("div",{className:"bg-yellow-400 text-yellow-900 px-2 py-0.5 rounded-full text-[10px] font-bold shadow-sm",children:"â­ DESTAQUE"})]}),a&&e.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-10",children:e.jsx("span",{className:"bg-red-600 text-white font-black text-xs uppercase tracking-widest px-3 py-1.5 rounded-lg -rotate-3 border-2 border-white shadow-lg",children:"Esgotado"})})]}),e.jsxs("div",{className:"p-3 md:p-5 flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-extrabold text-gray-900 text-sm md:text-lg mb-1 md:mb-2",children:t.name}),e.jsx("p",{className:"text-xs md:text-sm text-gray-500 line-clamp-2 mb-2 md:mb-4 flex-1",children:t.description||"Uma explosÃ£o de sabor. Ingredientes selecionados para uma experiÃªncia Ãºnica."}),e.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex flex-col",children:[t.promotional_price&&Number(t.promotional_price)<Number(t.price)&&e.jsxs("span",{className:"text-xs text-gray-400 line-through",children:["R$ ",Number(t.price).toFixed(2).replace(".",",")]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:t.promotional_price?"Por":"A partir de"}),e.jsxs("div",{className:"text-[#ff3d03] font-bold",children:["R$ ",Number(t.promotional_price??t.price).toFixed(2).replace(".",",")]})]})]})}),e.jsx("button",{onClick:()=>!a&&be(t),disabled:a,className:`w-full font-bold py-2 md:py-3 rounded-xl transition-colors shadow-lg active:scale-95 text-xs md:text-sm uppercase tracking-wide
                                                                    ${a?"bg-gray-200 text-gray-500 cursor-not-allowed shadow-none":"bg-[#ff3d03] hover:bg-[#e63700] text-white shadow-orange-500/20"}`,children:a?"IndisponÃ­vel":"Adicionar"})]})]})]},t.id)})})]},s.id))]}),f.length>0&&e.jsxs("button",{onClick:()=>O(!0),className:"fixed bottom-6 right-6 bg-[#ff3d03] text-white rounded-full h-16 px-6 flex items-center gap-3 shadow-2xl hover:scale-105 transition-transform z-40",children:[e.jsx(ve,{className:"h-6 w-6"}),e.jsx("span",{className:"font-bold",children:Ze()}),e.jsx("span",{className:"h-6 w-px bg-white/30"}),e.jsx(M,{price:re()})]})]}),e.jsx(is,{show:Me,onClose:()=>xe(!1),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"InformaÃ§Ãµes da Loja"}),e.jsx("button",{onClick:()=>xe(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(A,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"bg-orange-50 p-2.5 rounded-xl text-[#ff3d03] shrink-0",children:e.jsx(U,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"EndereÃ§o"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:r.address}),e.jsx("a",{href:`https://maps.google.com/?q=${encodeURIComponent(r.address)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 text-sm font-bold text-[#ff3d03] hover:underline",children:"Ver no mapa"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"bg-green-50 p-2.5 rounded-xl text-green-600 shrink-0",children:e.jsx(Se,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Contato"}),r.phone&&e.jsxs("p",{className:"text-gray-600 text-sm",children:["Tel: ",r.phone]}),r.whatsapp&&e.jsxs("p",{className:"text-gray-600 text-sm",children:["WhatsApp: ",r.whatsapp]}),r.email&&e.jsxs("p",{className:"text-gray-600 text-sm",children:["Email: ",r.email]})]})]})]}),(r.settings?.instagram||r.settings?.facebook||r.settings?.website)&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Redes Sociais"}),e.jsxs("div",{className:"flex gap-4",children:[r.settings?.instagram&&e.jsxs("a",{href:`https://instagram.com/${r.settings.instagram.replace("@","")}`,target:"_blank",className:"flex items-center gap-2 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors text-gray-700 font-medium text-sm",children:[e.jsx(Ee,{className:"h-5 w-5 text-pink-600"}),"Instagram"]}),r.settings?.facebook&&e.jsxs("a",{href:r.settings.facebook,target:"_blank",className:"flex items-center gap-2 px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors text-gray-700 font-medium text-sm",children:[e.jsx(ze,{className:"h-5 w-5 text-blue-600"}),"Facebook"]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(us,{className:"h-5 w-5 text-gray-400"}),"HorÃ¡rios de Funcionamento"]}),e.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 space-y-3",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(s=>{const t={monday:"Segunda",tuesday:"TerÃ§a",wednesday:"Quarta",thursday:"Quinta",friday:"Sexta",saturday:"SÃ¡bado",sunday:"Domingo"},a=r.settings?.business_hours?.[s]||{},l=a.isOpen||a.is_open,i=a.open||a.open_time,d=a.close||a.close_time;return e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 font-medium w-24",children:t[s]}),l&&i&&d?e.jsxs("span",{className:"text-gray-900 font-bold",children:[i," Ã s ",d]}):e.jsx("span",{className:"text-gray-400",children:"Fechado"})]},s)})})]}),r.payment_methods&&r.payment_methods.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Formas de Pagamento"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.payment_methods.map(s=>e.jsx("span",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-bold uppercase tracking-wide",children:s.name},s.id))})]})]})]})}),n&&e.jsx(ds,{show:Ue,onClose:()=>se(!1),cart:f,store:r,customer:n,total:re(),addresses:P,onSuccess:s=>{$([]),se(!1),alert(`Pedido #${s} realizado com sucesso! enviamos a confirmaÃ§Ã£o no seu WhatsApp.`),D("orders"),q(!0)}})]})}export{et as default};
