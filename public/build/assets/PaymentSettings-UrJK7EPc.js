import{r as v,R as b,j as s,a as u}from"./app-CxA3AdnX.js";import{C as c}from"./credit-card-B-pIn8oN.js";import{B as D}from"./banknote-C8WfpQ3K.js";import{Q as x}from"./qr-code-CiZeoBaC.js";import{C as N}from"./circle-alert-CkazkftI.js";import{t as p}from"./switch-C1yL6Sht.js";import"./use-resolve-button-type-CpEojdFH.js";import"./keyboard-3ChEhPyO.js";import"./use-sync-refs-CLqefkLE.js";import"./hidden-BYzQFWMe.js";const f=[{type:"credit_card",name:"Cartão de Crédito",icon:c},{type:"debit_card",name:"Cartão de Débito",icon:c},{type:"money",name:"Dinheiro",icon:D},{type:"pix",name:"PIX",icon:x}];function U({paymentMethods:m}){const[y,n]=v.useState(()=>g(m));function g(e){return f.map(r=>{const t=e.find(a=>a.type===r.type);return{...r,...t,id:t?.id,is_active:!!t?.is_active,fee_percentage:t?.fee_percentage||"",fee_fixed:t?.fee_fixed||"",pix_key:t?.pix_key||"",pix_key_type:t?.pix_key_type||"random"}})}b.useEffect(()=>{n(g(m))},[m]);const d=e=>{const r=!e.is_active;n(a=>a.map(i=>i.type===e.type?{...i,is_active:r}:i));const t={name:e.name,type:e.type,fee_percentage:e.fee_percentage||0,fee_fixed:e.fee_fixed||0,is_active:r,pix_key:e.pix_key,pix_key_type:e.pix_key_type};e.id?u.put(route("payment-methods.update",e.id),t,{preserveScroll:!0,onError:()=>{n(a=>a.map(i=>i.type===e.type?{...i,is_active:!r}:i))}}):r&&u.post(route("payment-methods.store"),t,{preserveScroll:!0,onError:()=>{n(a=>a.map(i=>i.type===e.type?{...i,is_active:!1}:i))}})},l=(e,r,t)=>{n(a=>a.map(i=>i.type===e.type?{...i,[r]:t}:i))},o=e=>{e.id&&u.put(route("payment-methods.update",e.id),{name:e.name,type:e.type,is_active:e.is_active,fee_percentage:e.fee_percentage||0,fee_fixed:e.fee_fixed||0,pix_key:e.pix_key,pix_key_type:e.pix_key_type},{preserveScroll:!0})};return s.jsxDEV("div",{className:"bg-white dark:bg-premium-card rounded-[32px] border border-gray-100 dark:border-white/5 p-8 shadow-sm",children:[s.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:s.jsxDEV("h3",{className:"text-gray-900 dark:text-gray-200 flex items-center gap-2 font-bold",children:[s.jsxDEV(c,{className:"h-5 w-5 text-[#ff3d03]"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:124,columnNumber:21},this),"Formas de Pagamento"]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:123,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:122,columnNumber:13},this),s.jsxDEV("div",{className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-200 dark:border-blue-800/30 rounded-2xl p-4 mb-6 flex items-start gap-3",children:[s.jsxDEV(N,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 shrink-0 mt-0.5"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:130,columnNumber:17},this),s.jsxDEV("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[s.jsxDEV("p",{className:"font-medium",children:"Validação em Todo o Sistema"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:132,columnNumber:21},this),s.jsxDEV("p",{className:"mt-1",children:"Gerencie as formas de pagamento aceitas. Ative as opções e configure as taxas."},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:133,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:131,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:129,columnNumber:13},this),s.jsxDEV("div",{className:"space-y-4",children:y.map(e=>{const r=e.icon;return s.jsxDEV("div",{className:"bg-gray-50 dark:bg-premium-dark rounded-2xl p-6 border border-gray-100 dark:border-white/5",children:[s.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[s.jsxDEV("div",{className:"flex items-center gap-4",children:[s.jsxDEV("div",{className:"h-10 w-10 bg-white dark:bg-white/10 rounded-full flex items-center justify-center shadow-sm",children:s.jsxDEV(r,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:145,columnNumber:41},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:144,columnNumber:37},this),s.jsxDEV("h4",{className:"font-bold text-gray-900 dark:text-white text-lg",children:e.name},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:147,columnNumber:37},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:143,columnNumber:33},this),s.jsxDEV(p,{checked:e.is_active,onChange:()=>d(e),className:`${e.is_active?"bg-[#ff3d03]":"bg-gray-300 dark:bg-gray-600"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors`,children:s.jsxDEV("span",{className:`${e.is_active?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:154,columnNumber:37},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:149,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:142,columnNumber:29},this),s.jsxDEV("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 transition-all duration-300 ${e.is_active?"":"opacity-50 grayscale pointer-events-none"}`,children:[(e.type==="credit_card"||e.type==="debit_card"||e.type==="pix")&&s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 block",children:"Taxa (%)"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:162,columnNumber:45},this),s.jsxDEV("input",{type:"number",step:"0.01",value:e.fee_percentage,onChange:t=>l(e,"fee_percentage",t.target.value),onBlur:()=>o(e),disabled:!e.is_active,className:"w-full px-3 py-2 bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg text-sm"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:163,columnNumber:45},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:161,columnNumber:41},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 block",children:"Taxa Fixa (R$)"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:174,columnNumber:45},this),s.jsxDEV("input",{type:"number",step:"0.01",value:e.fee_fixed,onChange:t=>l(e,"fee_fixed",t.target.value),onBlur:()=>o(e),disabled:!e.is_active,className:"w-full px-3 py-2 bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg text-sm"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:175,columnNumber:45},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:173,columnNumber:41},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:160,columnNumber:37},this),e.type==="pix"&&s.jsxDEV("div",{className:"md:col-span-2 space-y-4 pt-2 border-t border-gray-200 dark:border-white/5 mt-2",children:s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 block",children:"Tipo de Chave"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:192,columnNumber:49},this),s.jsxDEV("select",{value:e.pix_key_type||"random",onChange:t=>l(e,"pix_key_type",t.target.value),onBlur:()=>o(e),disabled:!e.is_active,className:"w-full px-3 py-2 bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg text-sm",children:[s.jsxDEV("option",{value:"cpf",children:"CPF"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:200,columnNumber:53},this),s.jsxDEV("option",{value:"cnpj",children:"CNPJ"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:201,columnNumber:53},this),s.jsxDEV("option",{value:"email",children:"E-mail"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:202,columnNumber:53},this),s.jsxDEV("option",{value:"phone",children:"Telefone"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:203,columnNumber:53},this),s.jsxDEV("option",{value:"random",children:"Chave Aleatória"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:204,columnNumber:53},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:193,columnNumber:49},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:191,columnNumber:45},this),s.jsxDEV("div",{className:"md:col-span-2",children:[s.jsxDEV("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 block",children:"Chave PIX"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:208,columnNumber:49},this),s.jsxDEV("input",{type:"text",value:e.pix_key||"",onChange:t=>l(e,"pix_key",t.target.value),onBlur:()=>o(e),disabled:!e.is_active,placeholder:"Digite sua chave PIX...",className:"w-full px-3 py-2 bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg text-sm"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:209,columnNumber:49},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:207,columnNumber:45},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:190,columnNumber:41},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:189,columnNumber:37},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:158,columnNumber:29},this)]},e.type,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:141,columnNumber:25},this)})},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:137,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Settings/Partials/PaymentSettings.tsx",lineNumber:121,columnNumber:9},this)}export{U as default};
