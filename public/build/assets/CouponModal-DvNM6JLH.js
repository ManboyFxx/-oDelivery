import{u as N,r as p,j as e,X as x}from"./app-B5qJFbdJ.js";import{M as g}from"./Modal-CvzFJKbJ.js";import{t as m}from"./index-JIMt6jk-.js";import{T as h}from"./ticket-Bw-SlHIF.js";import{P as y}from"./percent-50rrJ68s.js";import{D as d}from"./dollar-sign-DqJ5kdYo.js";import{S as C}from"./save-RbSgeJ1c.js";import"./keyboard-C4LwumkQ.js";import"./use-sync-refs-CfEQJn5G.js";import"./portal-BG9vMdpH.js";import"./with-selector-CHxZwojV.js";import"./hidden-DerLKxl3.js";import"./transition-BELjGcpy.js";function F({show:l,onClose:t,coupon:o}){const{data:a,setData:i,post:c,put:v,processing:u,errors:r,reset:n,clearErrors:D}=N({code:"",discount_type:"fixed",discount_value:"",is_active:!0,valid_until:"",max_uses:"",min_order_value:""});p.useEffect(()=>{o?i({code:o.code,discount_type:o.discount_type,discount_value:o.discount_value.toString(),is_active:o.is_active,valid_until:o.valid_until||"",max_uses:o.max_uses?.toString()||"",min_order_value:o.min_order_value?.toString()||""}):n(),D()},[o,l]);const b=s=>{s.preventDefault(),o?v(route("coupons.update",o.id),{onSuccess:()=>{m.success("Cupom atualizado com sucesso!"),t()}}):c(route("coupons.store"),{onSuccess:()=>{m.success("Cupom criado com sucesso!"),t(),n()}})};return e.jsxDEV(g,{show:l,onClose:t,maxWidth:"xl",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-8",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"h-10 w-10 bg-gradient-to-br from-orange-400 to-orange-500 rounded-lg flex items-center justify-center",children:e.jsxDEV(h,{className:"h-5 w-5 text-white"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:80,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:79,columnNumber:25},this),e.jsxDEV("h2",{className:"text-2xl font-black text-gray-900 dark:text-white",children:o?"Editar Cupom":"Criar Novo Cupom"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:82,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:78,columnNumber:21},this),e.jsxDEV("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors text-gray-400",children:e.jsxDEV(x,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:90,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:86,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:77,columnNumber:17},this),e.jsxDEV("form",{onSubmit:b,className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Código do Cupom *"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:98,columnNumber:25},this),e.jsxDEV("input",{type:"text",value:a.code,onChange:s=>i("code",s.target.value.toUpperCase()),placeholder:"Ex: PROMO20",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg font-mono text-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:101,columnNumber:25},this),r.code&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600 font-bold",children:r.code},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:109,columnNumber:41},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:97,columnNumber:21},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Desconto *"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:115,columnNumber:29},this),e.jsxDEV("select",{value:a.discount_type,onChange:s=>i("discount_type",s.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-700 dark:text-white font-bold",children:[e.jsxDEV("option",{value:"fixed",children:"Valor Fixo (R$)"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:123,columnNumber:33},this),e.jsxDEV("option",{value:"percent",children:"Percentual (%)"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:124,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:118,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:114,columnNumber:25},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Valor do Desconto *"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:129,columnNumber:29},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"number",value:a.discount_value,onChange:s=>i("discount_value",s.target.value),placeholder:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-700 dark:text-white font-black",required:!0},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:133,columnNumber:33},this),e.jsxDEV("div",{className:"absolute right-4 top-3 text-gray-500",children:a.discount_type==="percent"?e.jsxDEV(y,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:143,columnNumber:73},this):e.jsxDEV(d,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:143,columnNumber:107},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:142,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:132,columnNumber:29},this),r.discount_value&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600 font-bold",children:r.discount_value},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:146,columnNumber:55},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:128,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:113,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Valor Mínimo do Pedido (R$)"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:152,columnNumber:25},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"number",value:a.min_order_value,onChange:s=>i("min_order_value",s.target.value),placeholder:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-700 dark:text-white"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:156,columnNumber:29},this),e.jsxDEV("div",{className:"absolute right-4 top-3 text-gray-500",children:e.jsxDEV(d,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:165,columnNumber:33},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:164,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:155,columnNumber:25},this),r.min_order_value&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600 font-bold",children:r.min_order_value},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:168,columnNumber:52},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:151,columnNumber:21},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Válido Até"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:174,columnNumber:29},this),e.jsxDEV("input",{type:"date",value:a.valid_until,onChange:s=>i("valid_until",s.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-700 dark:text-white"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:177,columnNumber:29},this),r.valid_until&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600 font-bold",children:r.valid_until},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:183,columnNumber:52},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:173,columnNumber:25},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Limite de Uso"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:188,columnNumber:29},this),e.jsxDEV("input",{type:"number",value:a.max_uses,onChange:s=>i("max_uses",s.target.value),placeholder:"Ilimitado",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-gray-700 dark:text-white"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:191,columnNumber:29},this),r.max_uses&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600 font-bold",children:r.max_uses},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:198,columnNumber:49},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:187,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:171,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-gray-900/50 p-4 rounded-xl border border-gray-100 dark:border-gray-800",children:[e.jsxDEV("input",{type:"checkbox",id:"is_active",checked:a.is_active,onChange:s=>i("is_active",s.target.checked),className:"w-5 h-5 rounded border-gray-300 text-orange-600 focus:ring-orange-500"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:204,columnNumber:25},this),e.jsxDEV("label",{htmlFor:"is_active",className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:"Cupom disponível para uso imediato"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:211,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:203,columnNumber:21},this),e.jsxDEV("div",{className:"flex gap-3 pt-4",children:[e.jsxDEV("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 font-bold rounded-xl hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancelar"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:218,columnNumber:25},this),e.jsxDEV("button",{type:"submit",disabled:u,className:"flex-1 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-bold rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-orange-500/20",children:[u?e.jsxDEV("div",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:231,columnNumber:33},this):e.jsxDEV(C,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:233,columnNumber:33},this),o?"Salvar Alterações":"Criar Cupom"]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:225,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:217,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:95,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:75,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/Vertinho/Documents/Sistemas/OoDelivery/-oDelivery/resources/js/Pages/Coupons/Partials/CouponModal.tsx",lineNumber:74,columnNumber:9},this)}export{F as default};
