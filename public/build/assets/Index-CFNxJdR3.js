import{j as e,T,r as x,u as A,H as P}from"./app-Co-RcoKZ.js";import{A as D,U as I}from"./AuthenticatedLayout-UkKPeckM.js";import{M as g}from"./Modal-BCYtFCag.js";import{I as p}from"./InputLabel-CwMWv4F6.js";import{T as h}from"./TextInput-C-_uyojh.js";import{P as f}from"./PrimaryButton-BTR24J7B.js";import{S as j}from"./SecondaryButton-Du3vpOz-.js";import{D as O}from"./DangerButton-B4yHBh0v.js";import{P as q}from"./plus-BvTKcDzm.js";import{P as B}from"./pencil-D8uVsUVJ.js";import{T as L}from"./trash-2-DwDioJnM.js";import"./credit-card-BoiVNEpj.js";import"./shopping-bag-D_1QUoay.js";import"./trophy-Bbx6phls.js";import"./chart-column-PFKsOK6Q.js";import"./ticket-llffRvF2.js";import"./shield-check-DELk92qk.js";import"./transition-BBCVaVDC.js";import"./truck-BGPNBEzK.js";import"./switch-Bmr5xUaU.js";import"./chevron-down-_RR5dG7V.js";import"./clock--ttMHVBI.js";import"./search-79t8SG9f.js";import"./sparkles-D9YEV0eG.js";import"./arrow-right-DZfsJvjy.js";function U({show:n,onClose:r,onConfirm:s,title:a,message:i,confirmLabel:o="Confirmar",cancelLabel:l="Cancelar",processing:d=!1}){return e.jsx(g,{show:n,onClose:r,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full dark:bg-red-900/20 mb-4",children:e.jsx(T,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),e.jsx("h2",{className:"text-lg font-medium text-center text-gray-900 dark:text-gray-100 mb-2",children:a}),e.jsx("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400 mb-6",children:i}),e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx(j,{onClick:r,disabled:d,children:l}),e.jsx(O,{onClick:s,disabled:d,children:o})]})]})})}function ce({tables:n}){const[r,s]=x.useState(!1),[a,i]=x.useState(null),[o,l]=x.useState({show:!1,id:null}),{data:d,setData:c,post:u,put:b,processing:y,reset:N,delete:v,errors:m,clearErrors:w}=A({number:"",capacity:"4"});x.useEffect(()=>{r||(N(),w(),i(null))},[r]);const C=()=>{i(null),c({number:"",capacity:"4"}),s(!0)},k=t=>{i(t),c({number:t.number.toString(),capacity:t.capacity.toString()}),s(!0)},M=t=>{t.preventDefault(),a?b(route("tables.update",a.id),{onSuccess:()=>s(!1)}):u(route("tables.store"),{onSuccess:()=>s(!1)})},E=t=>{l({show:!0,id:t})},S=()=>{o.id&&v(route("tables.destroy",o.id),{onFinish:()=>l({show:!1,id:null})})};return e.jsxs(D,{children:[e.jsx(P,{title:"Mesas"}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold dark:text-white",children:"Gestão de Mesas"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Organize o layout do seu estabelecimento"})]}),e.jsxs(f,{onClick:C,className:"bg-[#ff3d03] hover:bg-[#e63700] gap-2",children:[e.jsx(q,{className:"h-4 w-4"})," Nova Mesa"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[n.map(t=>e.jsxs("div",{className:`group relative p-6 rounded-xl border-2 flex flex-col items-center justify-center min-h-[160px] transition-all bg-white dark:bg-gray-800 ${t.status==="free"?"border-green-500/50 hover:border-green-500":"border-red-500/50 hover:border-red-500"}`,children:[e.jsx("button",{onClick:()=>{confirm("Alterar status da mesa?")&&u(route("tables.toggle",t.id))},className:`absolute top-2 right-2 flex items-center gap-1 text-xs font-semibold px-2 py-1 rounded-full cursor-pointer hover:opacity-80 transition-opacity ${t.status==="free"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:t.status==="free"?"LIVRE":"OCUPADA"}),e.jsx("span",{className:"text-4xl font-black text-gray-800 dark:text-white mb-2",children:t.number}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400 text-sm",children:[e.jsx(I,{className:"h-4 w-4"}),e.jsxs("span",{children:[t.capacity," lugares"]})]}),e.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white/90 dark:bg-gray-800/90 rounded-lg shadow-sm p-1",children:[e.jsx("button",{onClick:()=>k(t),className:"p-1.5 text-gray-400 hover:text-[#ff3d03] rounded-md transition-colors",title:"Editar",children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>E(t.id),className:"p-1.5 text-gray-400 hover:text-red-500 rounded-md transition-colors",title:"Excluir",children:e.jsx(L,{className:"h-4 w-4"})})]})]},t.id)),n.length===0&&e.jsx("div",{className:"col-span-full py-12 text-center text-gray-500 dark:text-gray-400 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg",children:"Nenhuma mesa cadastrada. Adicione uma nova mesa para começar."})]}),e.jsx(g,{show:r,onClose:()=>s(!1),children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:a?"Editar Mesa":"Cadastrar Nova Mesa"}),e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(p,{value:"Número da Mesa"}),e.jsx(h,{type:"number",className:"w-full mt-1",value:d.number,onChange:t=>c("number",t.target.value),placeholder:"Ex: 10",required:!0}),m.number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.number})]}),e.jsxs("div",{children:[e.jsx(p,{value:"Capacidade (Pessoas)"}),e.jsx(h,{type:"number",className:"w-full mt-1",value:d.capacity,onChange:t=>c("capacity",t.target.value),min:"1",required:!0}),m.capacity&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.capacity})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(j,{onClick:()=>s(!1),children:"Cancelar"}),e.jsx(f,{disabled:y,className:"bg-[#ff3d03] hover:bg-[#e63700]",children:a?"Salvar Alterações":"Cadastrar"})]})]})]})}),e.jsx(U,{show:o.show,onClose:()=>l({show:!1,id:null}),onConfirm:S,title:"Excluir Mesa",message:"Tem certeza que deseja excluir esta mesa? Esta ação não pode ser desfeita.",confirmLabel:"Sim, Excluir"})]})}export{ce as default};
