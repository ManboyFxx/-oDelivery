import{R as h,j as e}from"./app-CUFRCqdo.js";import{M as C}from"./Modal-wZVOxSoP.js";import{S}from"./SecondaryButton-DIjdGT2O.js";import{T}from"./truck-axOgfbev.js";import{M as R}from"./map-pin-DHW0gz89.js";import{P as E}from"./plus-CqaD-vFi.js";import{S as P}from"./square-pen-CvfmcHZ8.js";import{T as B}from"./trash-2-CRh04c1c.js";import{S as L}from"./search-BtprMO6j.js";import{L as $}from"./loader-circle-B7sv34Bs.js";import{t as M}from"./switch-DK1AqQ5S.js";import"./keyboard-D1BT0WfK.js";import"./use-sync-refs-DolXfIQ_.js";import"./portal-BNG5Fp40.js";import"./with-selector-DHasQXaD.js";import"./hidden-BqDU9bpd.js";import"./transition-XetXysYI.js";import"./use-resolve-button-type-BW74xnh8.js";function re({data:a,setData:s,errors:F,deliveryZones:o,zoneData:d,setZoneData:i,zoneProcessing:p,zoneErrors:t,submitZone:b,handleDeleteZone:u,toggleZoneActive:f,openCreateZoneModal:y,openEditZoneModal:j,showZoneModal:v,setShowZoneModal:c,editingZone:k}){const N=r=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r),[m,x]=h.useState(!1),[l,w]=h.useState(""),_=async()=>{const r=l.replace(/\D/g,"");if(r.length===8){x(!0);try{const n=await(await fetch(`https://viacep.com.br/ws/${r}/json/`)).json();!n.erro&&n.bairro&&i("neighborhood",n.bairro)}catch(g){console.error("Error fetching CEP:",g)}finally{x(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-premium-card rounded-[32px] border border-gray-100 dark:border-white/5 p-8 shadow-sm",children:[e.jsxs("h3",{className:"text-gray-900 dark:text-gray-200 mb-6 flex items-center gap-2 font-bold",children:[e.jsx(T,{className:"h-5 w-5 text-[#ff3d03]"}),"Configurações de Entrega"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Raio de Entrega (km)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:a.delivery_radius_km,onChange:r=>s("delivery_radius_km",r.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:"km"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tempo Estimado (min)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:a.estimated_delivery_time,onChange:r=>s("estimated_delivery_time",r.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:"min"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Taxa de Entrega Fixa"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:"R$"})}),e.jsx("input",{type:"number",step:"0.01",value:a.fixed_delivery_fee,onChange:r=>s("fixed_delivery_fee",r.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Pedido Mínimo"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:"R$"})}),e.jsx("input",{type:"number",step:"0.01",value:a.min_order_delivery,onChange:r=>s("min_order_delivery",r.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-premium-card rounded-[32px] border border-gray-100 dark:border-white/5 p-8 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-gray-900 dark:text-gray-200 flex items-center gap-2 font-bold",children:[e.jsx(R,{className:"h-5 w-5 text-[#ff3d03]"}),"Zonas de Entrega"]}),e.jsxs("button",{type:"button",onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-[#ff3d03] text-white rounded-xl text-sm font-bold hover:bg-[#e63600] transition-colors shadow-lg shadow-[#ff3d03]/20",children:[e.jsx(E,{className:"h-4 w-4"}),"Nova Zona"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b border-gray-100 dark:border-white/5",children:[e.jsx("th",{className:"pb-4 font-semibold text-sm text-gray-500 dark:text-gray-400",children:"Bairro/Região"}),e.jsx("th",{className:"pb-4 font-semibold text-sm text-gray-500 dark:text-gray-400",children:"Taxa"}),e.jsx("th",{className:"pb-4 font-semibold text-sm text-gray-500 dark:text-gray-400",children:"Tempo (min)"}),e.jsx("th",{className:"pb-4 font-semibold text-sm text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("th",{className:"pb-4 font-semibold text-sm text-gray-500 dark:text-gray-400 text-right",children:"Ações"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-white/5",children:[o.map(r=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-4 text-sm font-medium text-gray-900 dark:text-white",children:r.neighborhood}),e.jsx("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-300",children:N(r.delivery_fee)}),e.jsxs("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-300",children:[r.estimated_time_min," min"]}),e.jsx("td",{className:"py-4",children:e.jsx(M,{checked:r.is_active,onChange:()=>f(r),className:`${r.is_active?"bg-green-500":"bg-gray-200 dark:bg-gray-700"} relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none cursor-pointer`,children:e.jsx("span",{className:`${r.is_active?"translate-x-4":"translate-x-1"} inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform`})})}),e.jsx("td",{className:"py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:()=>j(r),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:e.jsx(P,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>u(r.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx(B,{className:"h-4 w-4"})})]})})]},r.id)),o.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhuma zona de entrega cadastrada."})})]})]})})]}),e.jsx(C,{show:v,onClose:()=>c(!1),children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-6",children:k?"Editar Zona de Entrega":"Nova Zona de Entrega"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Pesquisar por CEP (Opcional)"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:l,onChange:r=>w(r.target.value),className:"w-full pl-4 pr-10 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white",placeholder:"00000-000",maxLength:9}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-400",children:e.jsx(L,{className:"h-4 w-4"})})]}),e.jsx("button",{type:"button",onClick:_,disabled:m||l.length<8,className:"px-4 py-2 bg-gray-100 dark:bg-white/10 text-gray-700 dark:text-gray-200 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-white/20 transition-colors disabled:opacity-50 flex items-center gap-2",children:m?e.jsx($,{className:"h-4 w-4 animate-spin"}):"Buscar"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bairro ou Região"}),e.jsx("input",{type:"text",value:d.neighborhood,onChange:r=>i("neighborhood",r.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white",placeholder:"Ex: Centro",autoFocus:!0}),t.neighborhood&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.neighborhood})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Taxa de Entrega"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:"R$"})}),e.jsx("input",{type:"number",step:"0.01",value:d.delivery_fee,onChange:r=>i("delivery_fee",r.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white",placeholder:"0.00"})]}),t.delivery_fee&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.delivery_fee})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tempo Estimado (min)"}),e.jsx("input",{type:"number",value:d.estimated_time_min,onChange:r=>i("estimated_time_min",r.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white",placeholder:"30"}),t.estimated_time_min&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.estimated_time_min})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 mt-8",children:[e.jsx(S,{onClick:()=>c(!1),children:"Cancelar"}),e.jsx("button",{type:"button",onClick:b,disabled:p,className:"px-6 py-2.5 bg-[#ff3d03] text-white rounded-xl font-bold hover:bg-[#e63600] transition-colors disabled:opacity-50",children:"Salvar"})]})]})]})})]})}export{re as default};
