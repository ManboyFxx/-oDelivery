import{r as a,j as e,X as y,H as f,e as m,d as j}from"./app-BlcCfZ8V.js";import{C as p}from"./clock-DYzT7A3Q.js";function v({orderId:i,slug:d}){const[n,h]=a.useState(null),[g,u]=a.useState(!0),[o,l]=a.useState(""),c=async()=>{try{const t=await j.get(`/api/orders/${i}/track`);h(t.data),l("")}catch(t){l(t.response?.data?.message||"Erro ao carregar pedido")}finally{u(!1)}};if(a.useEffect(()=>{c();const t=setInterval(c,3e4);return()=>clearInterval(t)},[i]),g)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-premium-dark flex items-center justify-center transition-colors duration-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#ff3d03] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando pedido..."})]})});if(o||!n)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-premium-dark flex items-center justify-center p-4 transition-colors duration-300",children:e.jsxs("div",{className:"bg-white dark:bg-premium-card rounded-2xl p-8 max-w-md w-full text-center shadow-lg transition-colors duration-300",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4 transition-colors duration-300",children:e.jsx(y,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:"Pedido não encontrado"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 transition-colors duration-300",children:o}),e.jsx("a",{href:`/${d}`,className:"inline-block px-6 py-3 bg-[#ff3d03] text-white rounded-xl font-bold hover:bg-[#e63700] transition-colors duration-300",children:"Voltar ao Menu"})]})});const{order:r,timeline:b,estimated_time:x}=n;return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:`Pedido #${r.order_number}`}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 py-8 px-4 transition-colors duration-300",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"bg-white dark:bg-premium-card rounded-2xl shadow-lg p-6 mb-6 transition-colors duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-black text-gray-900 dark:text-white transition-colors duration-300",children:["Pedido #",r.order_number]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300",children:r.created_at})]}),x>0&&e.jsx("div",{className:"bg-[#ff3d03] text-white px-4 py-2 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs opacity-90",children:"Tempo estimado"}),e.jsxs("p",{className:"text-lg font-black",children:[x," min"]})]})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200 dark:bg-gray-700 transition-colors duration-300"}),e.jsx("div",{className:"space-y-4",children:b.map((t,s)=>e.jsxs("div",{className:"relative flex items-start gap-4",children:[e.jsx("div",{className:m("relative z-10 w-12 h-12 rounded-full flex items-center justify-center text-xl transition-all duration-300",t.completed?"bg-green-500 text-white shadow-lg shadow-green-500/30":"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500"),children:t.completed?"✓":t.icon}),e.jsxs("div",{className:"flex-1 pt-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:m("font-bold transition-colors duration-300",t.completed?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-500"),children:t.label}),t.timestamp&&e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300",children:t.timestamp})]}),t.current&&e.jsx("p",{className:"text-sm text-[#ff3d03] font-medium mt-1",children:"Em andamento..."})]})]},s))})]})]}),e.jsxs("div",{className:"bg-white dark:bg-premium-card rounded-2xl shadow-lg p-6 mb-6 transition-colors duration-300",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Detalhes do Pedido"}),e.jsx("div",{className:"space-y-3 mb-6",children:r.items.map((t,s)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-white/5 last:border-0 transition-colors duration-300",children:[e.jsx("div",{children:e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white transition-colors duration-300",children:[t.quantity,"x ",t.name]})}),e.jsxs("p",{className:"font-bold text-gray-900 dark:text-white transition-colors duration-300",children:["R$ ",t.price.toFixed(2).replace(".",",")]})]},s))}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200 dark:border-white/5 transition-colors duration-300",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Subtotal"}),e.jsxs("span",{className:"font-medium dark:text-gray-200 transition-colors duration-300",children:["R$ ",(r.total-r.delivery_fee).toFixed(2).replace(".",",")]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Taxa de Entrega"}),e.jsxs("span",{className:"font-medium dark:text-gray-200 transition-colors duration-300",children:["R$ ",r.delivery_fee.toFixed(2).replace(".",",")]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-gray-200 dark:border-white/5 transition-colors duration-300",children:[e.jsx("span",{className:"dark:text-white transition-colors duration-300",children:"Total"}),e.jsxs("span",{className:"text-[#ff3d03]",children:["R$ ",r.total.toFixed(2).replace(".",",")]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-premium-card rounded-2xl shadow-lg p-6 transition-colors duration-300",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:"Endereço de Entrega"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:r.delivery_address})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("a",{href:`/${d}`,className:"inline-block px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-xl font-bold hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-300",children:"Voltar ao Menu"})})]})})]})}export{v as default};
