import{r as x,j as e}from"./app-BeiTK8O7.js";import{C as p}from"./circle-alert-DXQTsyYN.js";import{P as b}from"./plus-CXYls96f.js";import{B as f}from"./beaker-DztFC1iE.js";import{P as u}from"./package-CEUpl4-U.js";import{T as j}from"./trash-2--0rQBpLT.js";function C({availableIngredients:i,currentRecipe:s,onChange:l}){const[d,n]=x.useState(""),[o,c]=x.useState(1),h=()=>{if(!d)return;const a=i.find(r=>r.id===d);if(!a)return;if(s.find(r=>r.id===a.id)){alert("Este ingrediente já faz parte da ficha técnica.");return}const t=[...s,{id:a.id,name:a.name,quantity:o}];l(t),n(""),c(1)},m=a=>{l(s.filter(t=>t.id!==a))},g=(a,t)=>{l(s.map(r=>r.id===a?{...r,quantity:t}:r))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-500/5 border border-orange-100 dark:border-orange-500/10 rounded-2xl p-4 flex gap-3",children:[e.jsx(p,{className:"w-5 h-5 text-[#ff3d03] flex-shrink-0"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["A ",e.jsx("strong",{children:"Ficha Técnica"})," define a composição padrão do produto. Ao vender esse item, o estoque dos ingredientes listados será baixado automaticamente."]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 p-6 bg-white dark:bg-white/2 border border-gray-100 dark:border-white/5 rounded-3xl shadow-sm",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Selecionar Ingrediente"}),e.jsxs("select",{value:d,onChange:a=>n(a.target.value),className:"w-full h-12 px-4 rounded-xl border-gray-200 dark:border-white/10 dark:bg-[#1a1b1e] dark:text-white focus:ring-2 focus:ring-[#ff3d03] transition-all",children:[e.jsx("option",{value:"",children:"Selecione um ingrediente..."}),i.filter(a=>!s.find(t=>t.id===a.id)).map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsxs("div",{className:"w-full md:w-32",children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Quantidade"}),e.jsx("input",{type:"number",min:"0",step:"0.001",value:o,onChange:a=>c(parseFloat(a.target.value)||0),className:"w-full h-12 px-4 rounded-xl border-gray-200 dark:border-white/10 dark:bg-[#1a1b1e] dark:text-white focus:ring-2 focus:ring-[#ff3d03] transition-all"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{type:"button",onClick:h,disabled:!d,className:"h-12 px-6 rounded-xl bg-[#ff3d03] text-white font-bold text-sm hover:bg-[#e63602] disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5"}),"Adicionar"]})})]}),e.jsx("div",{className:"bg-white dark:bg-[#1a1b1e] border border-gray-100 dark:border-white/10 rounded-[32px] overflow-hidden shadow-xl shadow-gray-200/50 dark:shadow-none",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-white/2",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Ingrediente"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Quantidade Utilizada"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Ações"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50 dark:divide-white/5",children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(f,{className:"w-10 h-10 text-gray-300 mb-2"}),e.jsx("p",{className:"text-gray-500 font-bold uppercase text-xs",children:"Nenhum ingrediente na ficha técnica"})]})})}):s.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/2 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 dark:bg-white/5 rounded-lg text-gray-400",children:e.jsx(u,{className:"w-4 h-4"})}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:a.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 w-32",children:[e.jsx("input",{type:"number",min:"0",step:"0.001",value:a.quantity,onChange:t=>g(a.id,parseFloat(t.target.value)||0),className:"w-full h-8 px-2 rounded-lg border-gray-200 dark:border-white/10 dark:bg-[#0f1012] text-sm font-bold text-[#ff3d03]"}),e.jsx("span",{className:"text-xs text-gray-400 font-bold",children:"UN"})]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{type:"button",onClick:()=>m(a.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-lg transition-all",children:e.jsx(j,{className:"w-5 h-5"})})})]},a.id))})]})})]})}export{C as default};
