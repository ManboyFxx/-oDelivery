import{r as o,d as t}from"./app-6zUSvVHt.js";const w=s=>{o.useEffect(()=>{typeof window<"u"&&window.OneSignal&&s&&window.OneSignal.push(()=>{window.OneSignal.on("subscriptionChange",n=>{n&&window.OneSignal.getUserId().then(i=>{e(i)})}),window.OneSignal.isPushNotificationsEnabled(n=>{n&&window.OneSignal.getUserId().then(i=>{e(i)})})})},[s]);const e=async n=>{try{await t.post(route("push.subscribe"),{player_id:n}),console.log("✅ Push subscription synced with server")}catch(i){console.error("❌ Failed to sync push subscription",i)}};return{requestPermission:()=>{window.OneSignal&&window.OneSignal.push(()=>{window.OneSignal.showNativePrompt()})}}};export{w as u};
