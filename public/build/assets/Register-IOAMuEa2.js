import{a6 as z,u as R,d,j as e,H as A,L as u,Z as I,ae as M,af as T,ag as U,ah as O,ai as v,C as V,X as W,aj as B,$ as G,l as H,M as J,a0 as w,ad as y,E as N,ac as Z}from"./vendor-react-BYm2vN5O.js";import{I as n}from"./InputError-CfUcprF9.js";import{I as c}from"./InputLabel-BmqANJC9.js";import{P as X}from"./PrimaryButton-C8-r8q-u.js";import{a as K}from"./vendor-utils-DuuP9eDp.js";import"./vendor-others-BqROYnIz.js";function Q(m,p){const[o,l]=d.useState(m);return d.useEffect(()=>{const r=setTimeout(()=>{l(m)},p);return()=>{clearTimeout(r)}},[m,p]),o}function k(m){return m.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}function le(){const{props:m}=z(),o=new URLSearchParams(window.location.search).get("plan")||"free",{data:l,setData:r,post:C,processing:j,errors:i,reset:S}=R({store_name:"",slug:"",name:"",whatsapp:"",email:"",password:"",password_confirmation:"",plan:o}),[a,x]=d.useState({available:null,message:"",suggested:null,checking:!1}),[P,b]=d.useState(!1),[f,E]=d.useState(!1),[h,_]=d.useState(!1),g=Q(l.slug,500),F=s=>{r("store_name",s),P||r("slug",k(s))};d.useEffect(()=>{if(g.length<3){x({available:null,message:g.length>0?"Mínimo 3 caracteres":"",suggested:null,checking:!1});return}x(s=>({...s,checking:!0})),K.post("/check-slug",{slug:g}).then(s=>{x({available:s.data.available,message:s.data.message,suggested:s.data.suggested,checking:!1})}).catch(()=>{x({available:null,message:"Erro ao verificar disponibilidade",suggested:null,checking:!1})})},[g]);const D=s=>{const t=s.replace(/\D/g,"");return t.length<=2?t:t.length<=7?`(${t.slice(0,2)}) ${t.slice(2)}`:t.length<=11?`(${t.slice(0,2)}) ${t.slice(2,7)}-${t.slice(7)}`:`(${t.slice(0,2)}) ${t.slice(2,7)}-${t.slice(7,11)}`},L=s=>{r("whatsapp",D(s))},$=s=>{s.preventDefault(),C(route("register"),{onFinish:()=>S("password","password_confirmation")})},q=()=>{a.suggested&&(r("slug",a.suggested),b(!0))};return e.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-8 sm:px-6 lg:px-8 font-sans selection:bg-[#ff3d03] selection:text-white antialiased",children:[e.jsx(A,{title:"Criar Conta Empresarial - ÓoDelivery"}),e.jsxs("div",{className:"w-full max-w-6xl mx-auto bg-white rounded-[2rem] shadow-2xl overflow-hidden flex min-h-[600px] lg:min-h-[700px]",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-black relative items-center justify-center p-12 overflow-hidden",children:[e.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center transform transition-transform hover:scale-105 duration-500",children:e.jsx("img",{src:"/images/logo-hq.png",alt:"ÓoDelivery",className:"w-96 h-96 object-contain drop-shadow-2xl"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent pointer-events-none"})]}),e.jsxs("div",{className:"w-full lg:w-1/2 p-8 sm:p-12 lg:p-16 flex flex-col justify-center relative bg-white h-full lg:overflow-y-auto lg:max-h-full text-center",children:[e.jsx("div",{className:"absolute top-6 left-6 sm:top-10 sm:left-10 z-20",children:e.jsxs(u,{href:"/",className:"inline-flex items-center gap-2 text-gray-400 hover:text-[#ff3d03] transition-colors font-medium",children:[e.jsx(I,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Voltar"})]})}),e.jsxs("div",{className:"max-w-md w-full mx-auto",children:[e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"flex justify-center items-center gap-2 mb-4",children:[e.jsx("img",{src:"/images/logo-icon.png",alt:"ÓoDelivery",className:"h-10 w-auto"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"ÓoDelivery."})]}),e.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight leading-tight",children:"Comece grátis."}),e.jsx("p",{className:"text-gray-600 font-medium text-lg",children:"Crie sua loja digital completa em segundos."}),o==="free"&&e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx(M,{className:"h-5 w-5 text-green-600 fill-green-600"}),e.jsx("h3",{className:"text-lg font-black text-green-900",children:"14 Dias de PRO Grátis!"})]}),e.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Acesso completo sem compromisso"})]}),o==="pro"&&e.jsxs("div",{className:"bg-gradient-to-r from-[#ff3d03]/10 to-orange-50 border-2 border-[#ff3d03] rounded-2xl p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx(T,{className:"h-5 w-5 text-[#ff3d03] fill-[#ff3d03]"}),e.jsx("h3",{className:"text-lg font-black text-gray-900",children:"Plano PRO Selecionado"})]}),e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"R$ 109,90/mês • Recursos ilimitados"})]}),o==="custom"&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-2xl p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx(U,{className:"h-5 w-5 text-purple-600 fill-purple-600"}),e.jsx("h3",{className:"text-lg font-black text-purple-900",children:"Plano Personalizado"})]}),e.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Solução sob medida para seu negócio"})]})]}),e.jsxs("form",{onSubmit:$,className:"space-y-5 text-left",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"store_name",value:"Nome do Estabelecimento",className:"text-xs font-bold uppercase tracking-widest text-gray-700 mb-1.5"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 group-focus-within:text-[#ff3d03] transition-colors",children:e.jsx(O,{className:"h-5 w-5"})}),e.jsx("input",{id:"store_name",type:"text",value:l.store_name,onChange:s=>F(s.target.value),className:"block w-full pl-12 pr-4 py-4 bg-white border-2 border-gray-200 focus:border-[#ff3d03] focus:ring-0 rounded-xl text-gray-900 font-normal placeholder-gray-500 transition-colors shadow-sm",placeholder:"Ex: Pizzaria do João",required:!0})]}),e.jsx(n,{message:i.store_name,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"slug",value:"Link do Cardápio",className:"text-xs font-bold uppercase tracking-widest text-gray-700 mb-1.5"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 font-medium group-focus-within:text-[#ff3d03] transition-colors text-sm",children:"app.oodelivery.com/"}),e.jsx("input",{id:"slug",type:"text",value:l.slug,onChange:s=>{r("slug",k(s.target.value)),b(!0)},className:`block w-full pl-[170px] pr-12 py-4 bg-white border-2 focus:ring-0 rounded-xl text-gray-900 font-normal placeholder-gray-500 transition-colors shadow-sm ${a.available===!0?"border-green-500 focus:border-green-500":a.available===!1?"border-red-500 focus:border-red-500":"border-gray-200 focus:border-[#ff3d03]"}`,placeholder:"seunome",required:!0}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:a.checking?e.jsx(v,{className:"h-5 w-5 animate-spin text-gray-400"}):a.available===!0?e.jsx(V,{className:"h-5 w-5 text-green-500"}):a.available===!1?e.jsx(W,{className:"h-5 w-5 text-red-500"}):e.jsx(B,{className:"h-5 w-5 text-gray-400"})})]}),e.jsxs("div",{className:"min-h-[24px]",children:[a.available===!1&&e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-sm font-medium text-red-500",children:a.message}),a.suggested&&e.jsxs("button",{type:"button",onClick:q,className:"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded-md transition-colors font-bold",children:["Usar ",a.suggested]})]}),a.available===!0&&e.jsx("p",{className:"text-sm font-medium text-green-500 mt-1",children:"Este link está disponível!"})]}),e.jsx(n,{message:i.slug,className:"mt-1"})]})]}),e.jsxs("div",{className:"relative flex items-center gap-4 py-2",children:[e.jsx("div",{className:"h-px bg-gray-200 flex-1"}),e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Dados de Acesso"}),e.jsx("div",{className:"h-px bg-gray-200 flex-1"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"name",value:"Seu Nome",className:"text-xs font-bold uppercase tracking-widest text-gray-700 mb-1.5"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 group-focus-within:text-[#ff3d03] transition-colors",children:e.jsx(G,{className:"h-5 w-5"})}),e.jsx("input",{id:"name",type:"text",value:l.name,onChange:s=>r("name",s.target.value),className:"block w-full pl-12 pr-4 py-4 bg-white border-2 border-gray-200 focus:border-[#ff3d03] focus:ring-0 rounded-xl text-gray-900 font-normal placeholder-gray-500 transition-colors shadow-sm",placeholder:"Nome Completo",required:!0})]}),e.jsx(n,{message:i.name,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"whatsapp",value:"WhatsApp",className:"text-xs font-bold uppercase tracking-widest text-gray-700 mb-1.5"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 group-focus-within:text-[#ff3d03] transition-colors",children:e.jsx(H,{className:"h-5 w-5"})}),e.jsx("input",{id:"whatsapp",type:"tel",value:l.whatsapp,onChange:s=>L(s.target.value),className:"block w-full pl-12 pr-4 py-4 bg-white border-2 border-gray-200 focus:border-[#ff3d03] focus:ring-0 rounded-xl text-gray-900 font-normal placeholder-gray-500 transition-colors shadow-sm",placeholder:"(00) 00000-0000",required:!0})]}),e.jsx(n,{message:i.whatsapp,className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"email",value:"E-mail",className:"text-xs font-bold uppercase tracking-widest text-gray-700 mb-1.5"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 group-focus-within:text-[#ff3d03] transition-colors",children:e.jsx(J,{className:"h-5 w-5"})}),e.jsx("input",{id:"email",type:"email",value:l.email,onChange:s=>r("email",s.target.value),className:"block w-full pl-12 pr-4 py-4 bg-white border-2 border-gray-200 focus:border-[#ff3d03] focus:ring-0 rounded-xl text-gray-900 font-normal placeholder-gray-500 transition-colors shadow-sm",placeholder:"seu@email.com",required:!0})]}),e.jsx(n,{message:i.email,className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"password",value:"Senha",className:"text-xs font-bold uppercase tracking-widest text-gray-700 mb-1.5"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 group-focus-within:text-[#ff3d03] transition-colors",children:e.jsx(w,{className:"h-5 w-5"})}),e.jsx("input",{id:"password",type:f?"text":"password",value:l.password,onChange:s=>r("password",s.target.value),className:"block w-full pl-12 pr-10 py-4 bg-white border-2 border-gray-200 focus:border-[#ff3d03] focus:ring-0 rounded-xl text-gray-900 font-normal placeholder-gray-500 transition-colors shadow-sm",placeholder:"••••••••",required:!0}),e.jsx("button",{type:"button",onClick:()=>E(!f),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 focus:outline-none",children:f?e.jsx(y,{className:"h-4 w-4"}):e.jsx(N,{className:"h-4 w-4"})})]}),e.jsx(n,{message:i.password,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"password_confirmation",value:"Confirmar",className:"text-xs font-bold uppercase tracking-widest text-gray-700 mb-1.5"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 group-focus-within:text-[#ff3d03] transition-colors",children:e.jsx(w,{className:"h-5 w-5"})}),e.jsx("input",{id:"password_confirmation",type:h?"text":"password",value:l.password_confirmation,onChange:s=>r("password_confirmation",s.target.value),className:"block w-full pl-12 pr-10 py-4 bg-white border-2 border-gray-200 focus:border-[#ff3d03] focus:ring-0 rounded-xl text-gray-900 font-normal placeholder-gray-500 transition-colors shadow-sm",placeholder:"••••••••",required:!0}),e.jsx("button",{type:"button",onClick:()=>_(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 focus:outline-none",children:h?e.jsx(y,{className:"h-4 w-4"}):e.jsx(N,{className:"h-4 w-4"})})]}),e.jsx(n,{message:i.password_confirmation,className:"mt-1"})]})]})]}),e.jsx(X,{className:"w-full flex items-center justify-center py-4 bg-[#ff3d03] hover:bg-[#e63700] text-white font-medium text-lg rounded-xl shadow-lg shadow-[#ff3d03]/30 transition-colors mt-6",disabled:j,children:j?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-5 h-5 animate-spin mr-2"}),"Criando Loja..."]}):e.jsxs(e.Fragment,{children:[o==="free"&&"Começar Trial Grátis (14 dias)",o==="pro"&&"Criar Conta e Ir para Pagamento",o==="custom"&&"Criar Conta",e.jsx(Z,{className:"w-5 h-5 ml-2"})]})})]}),e.jsxs("div",{className:"mt-8 text-center border-t border-gray-100 pt-6",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-500",children:["Já tem uma conta?"," ",e.jsx(u,{href:route("login"),className:"text-[#ff3d03] hover:underline transition-all",children:"Fazer Login"})]}),e.jsxs("div",{className:"mt-4 flex justify-center gap-4 text-xs font-medium text-gray-400",children:[e.jsx(u,{href:"#",className:"hover:text-gray-600",children:"Termos de Uso"}),e.jsx("span",{children:"•"}),e.jsx(u,{href:"#",className:"hover:text-gray-600",children:"Privacidade"})]})]})]})]})]})]})}export{le as default};
