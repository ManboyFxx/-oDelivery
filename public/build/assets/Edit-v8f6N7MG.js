import{c as j,r as m,u as v,j as e,H as N,L as _}from"./app-CCgVoYEQ.js";import{A as C}from"./AuthenticatedLayout-B8D5q7OF.js";import P from"./RecipeTab-BS1LrwJR.js";import{C as $}from"./chevron-left-e_5dSoLe.js";import{S as A}from"./save-BusKz1Lp.js";import{P as p}from"./package-Cx7bHxCB.js";import{B as L}from"./beaker-CUtBXTgU.js";import"./monitor-ChCRoNgC.js";import"./shopping-bag-BXjODdx7.js";import"./layout-dashboard-Dx7GOLuC.js";import"./credit-card-DNYgLdhn.js";import"./trophy-CmPrCShO.js";import"./ticket-BYoNT3ck.js";import"./store-VUrIlmxQ.js";import"./dollar-sign-BPyAFHgG.js";import"./key-CKjKb_wG.js";import"./shield-check-DHRbiJGg.js";import"./log-out-XdxYT9wm.js";import"./transition-vUlZZAvv.js";import"./use-sync-refs-D0Pc_C8j.js";import"./Modal-rsFWo1Ry.js";import"./keyboard-BRIR3wlq.js";import"./portal-DEyrsJCl.js";import"./with-selector-CQ3QENBX.js";import"./hidden-dfAfSfNn.js";import"./truck-R_sjZi5o.js";import"./switch-3Xb6eePU.js";import"./use-resolve-button-type-DEV79sNA.js";import"./menu-CZUNzemD.js";import"./chevron-down-DJ_s2hYu.js";import"./clock-DmiTNz5U.js";import"./menu-DIZiUFx4.js";import"./search-DLr_Xhyt.js";import"./useAudio-BZ5jkVJA.js";import"./bell-1IVW0JAl.js";import"./eye-DagpWMwH.js";import"./arrow-left-COMqi0zl.js";import"./circle-alert-C_wongv0.js";import"./plus-BdAvLtDu.js";import"./trash-2-tK0yr903.js";const M=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],x=j("list",M);function ye({product:r,categories:g,complement_groups:h=[],ingredients:b=[]}){const[i,o]=m.useState("general"),{data:a,setData:s,post:f,processing:n,errors:d}=v({_method:"PATCH",name:r.name,price:r.price,description:r.description||"",category_id:r.category_id||"",complement_groups:r.complement_groups?r.complement_groups.map(t=>t.id):[],ingredients:r.ingredients?r.ingredients.map(t=>({id:t.id,name:t.name,quantity:t.pivot?t.pivot.quantity:1})):[],image:null,loyalty_redeemable:r.loyalty_redeemable||!1,loyalty_points_cost:r.loyalty_points_cost||0,loyalty_points_multiplier:r.loyalty_points_multiplier||1}),[c,u]=m.useState(r.image_url||null),y=t=>{t.preventDefault(),f(route("products.update",r.id))},k=t=>{const l=t.target.files?.[0];l&&(s("image",l),u(URL.createObjectURL(l)))};return e.jsxs(C,{children:[e.jsx(N,{title:`Editar ${r.name}`}),e.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsxs(_,{href:route("products.index"),className:"flex items-center gap-2 text-sm font-bold text-gray-500 hover:text-[#ff3d03] transition-colors mb-2 uppercase tracking-widest",children:[e.jsx($,{className:"w-4 h-4"}),"Voltar ao CatÃ¡logo"]}),e.jsx("h2",{className:"text-4xl font-black text-gray-900 dark:text-white uppercase italic tracking-tighter",children:"Editar Produto"})]}),e.jsxs("button",{onClick:y,disabled:n,className:"flex items-center gap-2 bg-[#ff3d03] text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-[#ff3d03]/20 hover:bg-[#e63602] transition-all disabled:opacity-50",children:[n?e.jsx("div",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(A,{className:"w-5 h-5"}),"Salvar AlteraÃ§Ãµes"]})]}),e.jsxs("div",{className:"flex bg-white dark:bg-white/2 p-2 rounded-3xl border border-gray-100 dark:border-white/5 mb-8 shadow-sm",children:[e.jsxs("button",{onClick:()=>o("general"),className:`flex-1 flex items-center justify-center gap-2 py-4 rounded-2xl text-sm font-black uppercase tracking-widest transition-all ${i==="general"?"bg-[#ff3d03] text-white shadow-lg":"text-gray-500 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[e.jsx(p,{className:"w-5 h-5"}),"Geral"]}),e.jsxs("button",{onClick:()=>o("complements"),className:`flex-1 flex items-center justify-center gap-2 py-4 rounded-2xl text-sm font-black uppercase tracking-widest transition-all ${i==="complements"?"bg-[#ff3d03] text-white shadow-lg":"text-gray-500 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[e.jsx(x,{className:"w-5 h-5"}),"Complementos"]}),e.jsxs("button",{onClick:()=>o("recipe"),className:`flex-1 flex items-center justify-center gap-2 py-4 rounded-2xl text-sm font-black uppercase tracking-widest transition-all ${i==="recipe"?"bg-[#ff3d03] text-white shadow-lg":"text-gray-500 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[e.jsx(L,{className:"w-5 h-5"}),"Ficha TÃ©cnica"]})]}),e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i==="general"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-[#1a1b1e] p-8 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-xl shadow-gray-200/50 dark:shadow-none space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Nome do Produto"}),e.jsx("input",{type:"text",value:a.name,onChange:t=>s("name",t.target.value),className:"w-full px-5 py-4 rounded-2xl border-gray-200 dark:border-white/10 dark:bg-[#0f1012] dark:text-white focus:ring-2 focus:ring-[#ff3d03] transition-all font-bold"}),d.name&&e.jsx("p",{className:"mt-2 text-sm text-red-600 font-bold",children:d.name})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"PreÃ§o (R$)"}),e.jsx("input",{type:"number",step:"0.01",value:a.price,onChange:t=>s("price",t.target.value),className:"w-full px-5 py-4 rounded-2xl border-gray-200 dark:border-white/10 dark:bg-[#0f1012] dark:text-[#ff3d03] focus:ring-2 focus:ring-[#ff3d03] transition-all font-black"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Categoria"}),e.jsxs("select",{value:a.category_id,onChange:t=>s("category_id",t.target.value),className:"w-full px-5 py-4 rounded-2xl border-gray-200 dark:border-white/10 dark:bg-[#0f1012] dark:text-white focus:ring-2 focus:ring-[#ff3d03] transition-all font-bold",children:[e.jsx("option",{value:"",children:"Selecione..."}),g.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"DescriÃ§Ã£o"}),e.jsx("textarea",{rows:4,value:a.description,onChange:t=>s("description",t.target.value),className:"w-full px-5 py-4 rounded-2xl border-gray-200 dark:border-white/10 dark:bg-[#0f1012] dark:text-white focus:ring-2 focus:ring-[#ff3d03] transition-all",placeholder:"Descreva os ingredientes, tamanho..."})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#ff3d03]/5 to-orange-500/5 dark:from-[#ff3d03]/10 dark:to-orange-500/5 p-8 rounded-[32px] border border-[#ff3d03]/10 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-white dark:bg-white/5 rounded-2xl shadow-sm",children:e.jsx("span",{className:"text-2xl",children:"ðŸŽ"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight italic",children:"CartÃ£o Fidelidade"}),e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"ConfiguraÃ§Ãµes de resgate"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/50 dark:bg-black/20 rounded-2xl",children:[e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:"Permite resgate com pontos?"}),e.jsx("button",{type:"button",onClick:()=>s("loyalty_redeemable",!a.loyalty_redeemable),className:`relative inline-flex h-8 w-14 flex-shrink-0 cursor-pointer rounded-full border-4 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${a.loyalty_redeemable?"bg-[#ff3d03]":"bg-gray-200 dark:bg-gray-800"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-6 w-6 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${a.loyalty_redeemable?"translate-x-6":"translate-x-0"}`})})]}),a.loyalty_redeemable&&e.jsxs("div",{className:"animate-in zoom-in-95 duration-200",children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2 ml-1",children:"Pontos para Resgate"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:a.loyalty_points_cost,onChange:t=>s("loyalty_points_cost",parseInt(t.target.value)||0),className:"w-full px-5 py-4 rounded-2xl border-gray-200 dark:border-white/10 dark:bg-white dark:text-gray-900 focus:ring-2 focus:ring-[#ff3d03] transition-all font-black text-lg"}),e.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-xs font-black text-gray-400 uppercase tracking-widest",children:"Pontos"})]})]}),e.jsx("div",{className:"pt-4 border-t border-[#ff3d03]/10 mt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Produto Turbo (Multiplicador)"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-2 ml-1",children:"Acelere os ganhos de pontos deste item"})]}),e.jsxs("div",{className:"relative w-24",children:[e.jsx("input",{type:"number",step:"0.1",min:"1",value:a.loyalty_points_multiplier,onChange:t=>s("loyalty_points_multiplier",parseFloat(t.target.value)||1),className:"w-full px-3 py-2 rounded-xl border-gray-200 dark:border-white/10 dark:bg-white dark:text-gray-900 focus:ring-2 focus:ring-[#ff3d03] transition-all font-black text-center"}),e.jsx("span",{className:"absolute right-8 top-1/2 -translate-y-1/2 text-xs font-black text-gray-400",children:"x"})]})]})})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-[#1a1b1e] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-xl shadow-gray-200/50 dark:shadow-none",children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-4 text-center",children:"Imagem em Destaque"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden bg-gray-50 dark:bg-white/5 border-2 border-dashed border-gray-200 dark:border-white/10 flex items-center justify-center transition-all group-hover:border-[#ff3d03]",children:c?e.jsx("img",{src:c,className:"w-full h-full object-cover",alt:"Preview"}):e.jsx(p,{className:"w-12 h-12 text-gray-200"})}),e.jsxs("label",{className:"absolute inset-0 cursor-pointer flex items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-2xl backdrop-blur-sm",children:[e.jsx("span",{className:"text-white font-black text-xs uppercase tracking-widest bg-[#ff3d03] px-4 py-2 rounded-xl",children:"Alterar Foto"}),e.jsx("input",{type:"file",className:"hidden",onChange:k,accept:"image/*"})]})]})]})})]}),i==="complements"&&e.jsxs("div",{className:"bg-white dark:bg-[#1a1b1e] p-8 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-xl shadow-gray-200/50 dark:shadow-none",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight italic mb-6",children:"Vincular Grupos de Complementos"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(t=>e.jsxs("label",{className:`relative flex flex-col p-6 rounded-[24px] border-2 transition-all cursor-pointer ${a.complement_groups.includes(t.id)?"bg-[#ff3d03]/5 border-[#ff3d03]":"bg-gray-50 dark:bg-white/2 border-gray-100 dark:border-white/5 hover:border-gray-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${a.complement_groups.includes(t.id)?"bg-[#ff3d03] text-white":"bg-white dark:bg-white/5 text-gray-400"}`,children:e.jsx(x,{className:"w-5 h-5"})}),e.jsx("input",{type:"checkbox",className:"rounded-lg border-gray-300 text-[#ff3d03] focus:ring-[#ff3d03] w-5 h-5",checked:a.complement_groups.includes(t.id),onChange:l=>{l.target.checked?s("complement_groups",[...a.complement_groups,t.id]):s("complement_groups",a.complement_groups.filter(w=>w!==t.id))}})]}),e.jsx("span",{className:"font-black text-gray-900 dark:text-white uppercase tracking-tight line-clamp-1",children:t.name}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1",children:[t.min_selections," a ",t.max_selections," opÃ§Ãµes"]})]},t.id))})]}),i==="recipe"&&e.jsx(P,{availableIngredients:b,currentRecipe:a.ingredients,onChange:t=>s("ingredients",t)})]})]})]})}export{ye as default};
