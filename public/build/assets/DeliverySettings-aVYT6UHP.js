import{R as b,j as e}from"./app-BbstSn-4.js";import{M as E}from"./Modal-Duyo6gpS.js";import{S}from"./SecondaryButton-__G7UuKP.js";import{T}from"./truck-CZDUiolW.js";import{M as R}from"./map-pin-VnmxYK78.js";import{P}from"./plus-DUWeigne.js";import{S as B}from"./square-pen-CWVeH6Sc.js";import{T as L}from"./trash-2-DUKe7qne.js";import{S as M}from"./search-1hS-ogYp.js";import{L as $}from"./loader-circle-BquPCmWO.js";import{t as F}from"./switch-JAT-Y_eP.js";import"./keyboard-BG8-wBbJ.js";import"./use-sync-refs-C1yciGEP.js";import"./portal-uYSvdrJd.js";import"./with-selector-FfmK1MfG.js";import"./hidden-CTdMjiza.js";import"./transition-j0YRQL1K.js";import"./use-resolve-button-type-Dstftj3S.js";function te({data:a,setData:s,errors:q,deliveryZones:o,zoneData:i,setZoneData:d,zoneProcessing:p,zoneErrors:t,submitZone:u,handleDeleteZone:f,toggleZoneActive:y,openCreateZoneModal:j,openEditZoneModal:v,showZoneModal:k,setShowZoneModal:c,editingZone:N,motoboys:m}){const w=r=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r),[x,g]=b.useState(!1),[l,_]=b.useState(""),C=async()=>{const r=l.replace(/\D/g,"");if(r.length===8){g(!0);try{const n=await(await fetch(`https://viacep.com.br/ws/${r}/json/`)).json();!n.erro&&n.bairro&&d("neighborhood",n.bairro)}catch(h){console.error("Error fetching CEP:",h)}finally{g(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-premium-card rounded-[32px] border border-gray-100 dark:border-white/5 p-8 shadow-sm",children:[e.jsxs("h3",{className:"text-gray-900 dark:text-gray-200 mb-6 flex items-center gap-2 font-bold",children:[e.jsx(T,{className:"h-5 w-5 text-[#ff3d03]"}),"Configurações de Entrega"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Raio de Entrega (km)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:a.delivery_radius_km,onChange:r=>s("delivery_radius_km",r.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:"km"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tempo Estimado (min)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:a.estimated_delivery_time,onChange:r=>s("estimated_delivery_time",r.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:"min"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Taxa de Entrega Fixa"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:"R$"})}),e.jsx("input",{type:"number",step:"0.01",value:a.fixed_delivery_fee,onChange:r=>s("fixed_delivery_fee",r.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Pedido Mínimo"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:"R$"})}),e.jsx("input",{type:"number",step:"0.01",value:a.min_order_delivery,onChange:r=>s("min_order_delivery",r.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Motoboy Padrão"}),e.jsxs("select",{value:a.default_motoboy_id||"",onChange:r=>s("default_motoboy_id",r.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Nenhum (Atribuição Manual)"}),m&&m.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:'Este entregador será automaticamente atribuído a todos os novos pedidos com modo "Entrega".'})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-premium-card rounded-[32px] border border-gray-100 dark:border-white/5 p-8 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-gray-900 dark:text-gray-200 flex items-center gap-2 font-bold",children:[e.jsx(R,{className:"h-5 w-5 text-[#ff3d03]"}),"Zonas de Entrega"]}),e.jsxs("button",{type:"button",onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-[#ff3d03] text-white rounded-xl text-sm font-bold hover:bg-[#e63600] transition-colors shadow-lg shadow-[#ff3d03]/20",children:[e.jsx(P,{className:"h-4 w-4"}),"Nova Zona"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b border-gray-100 dark:border-white/5",children:[e.jsx("th",{className:"pb-4 font-semibold text-sm text-gray-500 dark:text-gray-400",children:"Bairro/Região"}),e.jsx("th",{className:"pb-4 font-semibold text-sm text-gray-500 dark:text-gray-400",children:"Taxa"}),e.jsx("th",{className:"pb-4 font-semibold text-sm text-gray-500 dark:text-gray-400",children:"Tempo (min)"}),e.jsx("th",{className:"pb-4 font-semibold text-sm text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("th",{className:"pb-4 font-semibold text-sm text-gray-500 dark:text-gray-400 text-right",children:"Ações"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-white/5",children:[o.map(r=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-4 text-sm font-medium text-gray-900 dark:text-white",children:r.neighborhood}),e.jsx("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-300",children:w(r.delivery_fee)}),e.jsxs("td",{className:"py-4 text-sm text-gray-600 dark:text-gray-300",children:[r.estimated_time_min," min"]}),e.jsx("td",{className:"py-4",children:e.jsx(F,{checked:r.is_active,onChange:()=>y(r),className:`${r.is_active?"bg-green-500":"bg-gray-200 dark:bg-gray-700"} relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none cursor-pointer`,children:e.jsx("span",{className:`${r.is_active?"translate-x-4":"translate-x-1"} inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform`})})}),e.jsx("td",{className:"py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:()=>v(r),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>f(r.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx(L,{className:"h-4 w-4"})})]})})]},r.id)),o.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhuma zona de entrega cadastrada."})})]})]})})]}),e.jsx(E,{show:k,onClose:()=>c(!1),children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-6",children:N?"Editar Zona de Entrega":"Nova Zona de Entrega"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Pesquisar por CEP (Opcional)"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:l,onChange:r=>_(r.target.value),className:"w-full pl-4 pr-10 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white",placeholder:"00000-000",maxLength:9}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-400",children:e.jsx(M,{className:"h-4 w-4"})})]}),e.jsx("button",{type:"button",onClick:C,disabled:x||l.length<8,className:"px-4 py-2 bg-gray-100 dark:bg-white/10 text-gray-700 dark:text-gray-200 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-white/20 transition-colors disabled:opacity-50 flex items-center gap-2",children:x?e.jsx($,{className:"h-4 w-4 animate-spin"}):"Buscar"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bairro ou Região"}),e.jsx("input",{type:"text",value:i.neighborhood,onChange:r=>d("neighborhood",r.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white",placeholder:"Ex: Centro",autoFocus:!0}),t.neighborhood&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.neighborhood})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Taxa de Entrega"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:"R$"})}),e.jsx("input",{type:"number",step:"0.01",value:i.delivery_fee,onChange:r=>d("delivery_fee",r.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white",placeholder:"0.00"})]}),t.delivery_fee&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.delivery_fee})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tempo Estimado (min)"}),e.jsx("input",{type:"number",value:i.estimated_time_min,onChange:r=>d("estimated_time_min",r.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-[#ff3d03] focus:border-transparent bg-white dark:bg-premium-dark text-gray-900 dark:text-white",placeholder:"30"}),t.estimated_time_min&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.estimated_time_min})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 mt-8",children:[e.jsx(S,{onClick:()=>c(!1),children:"Cancelar"}),e.jsx("button",{type:"button",onClick:u,disabled:p,className:"px-6 py-2.5 bg-[#ff3d03] text-white rounded-xl font-bold hover:bg-[#e63600] transition-colors disabled:opacity-50",children:"Salvar"})]})]})]})})]})}export{te as default};
